# Comparing `tmp/odoo_addon_fastapi-16.0.0.0.1.31-py3-none-any.whl.zip` & `tmp/odoo_addon_fastapi-16.0.0.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,37 +1,38 @@
-Zip file size: 161298 bytes, number of entries: 35
--rw-r--r--  2.0 unx    58450 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/README.rst
--rw-r--r--  2.0 unx       54 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/__init__.py
--rw-r--r--  2.0 unx      961 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/__manifest__.py
--rw-r--r--  2.0 unx      276 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/context.py
--rw-r--r--  2.0 unx     4505 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/depends.py
--rw-r--r--  2.0 unx     2272 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/error_handlers.py
--rw-r--r--  2.0 unx     2484 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/fastapi_dispatcher.py
--rw-r--r--  2.0 unx      404 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/schemas.py
--rw-r--r--  2.0 unx     1867 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/demo/fastapi_endpoint_demo.xml
--rw-r--r--  2.0 unx     6371 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/i18n/fastapi.pot
--rw-r--r--  2.0 unx      112 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/models/__init__.py
--rw-r--r--  2.0 unx     9847 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/models/fastapi_endpoint.py
--rw-r--r--  2.0 unx     6177 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/models/fastapi_endpoint_demo.py
--rw-r--r--  2.0 unx      978 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/models/ir_rule.py
--rw-r--r--  2.0 unx     1712 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/models/res_lang.py
--rw-r--r--  2.0 unx       44 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx     2255 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      709 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/readme/ROADMAP.rst
--rw-r--r--  2.0 unx    52645 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/readme/USAGE.rst
--rw-r--r--  2.0 unx     1058 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/security/fastapi_endpoint.xml
--rw-r--r--  2.0 unx     3338 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/security/ir_rule+acl.xml
--rw-r--r--  2.0 unx     1418 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/security/res_groups.xml
--rw-r--r--  2.0 unx    33245 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/static/description/endpoint_create.png
--rw-r--r--  2.0 unx    36542 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/static/description/icon.png
--rw-r--r--  2.0 unx   123845 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/static/description/index.html
--rw-r--r--  2.0 unx       59 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/tests/__init__.py
--rw-r--r--  2.0 unx     1500 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/tests/test_fastapi.py
--rw-r--r--  2.0 unx     5607 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/tests/test_fastapi_demo.py
--rw-r--r--  2.0 unx     5471 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/views/fastapi_endpoint.xml
--rw-r--r--  2.0 unx      873 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/views/fastapi_endpoint_demo.xml
--rw-r--r--  2.0 unx      466 b- defN 23-Jun-12 06:50 odoo/addons/fastapi/views/fastapi_menu.xml
--rw-r--r--  2.0 unx    59239 b- defN 23-Jun-12 06:50 odoo_addon_fastapi-16.0.0.0.1.31.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-12 06:50 odoo_addon_fastapi-16.0.0.0.1.31.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jun-12 06:50 odoo_addon_fastapi-16.0.0.0.1.31.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3405 b- defN 23-Jun-12 06:50 odoo_addon_fastapi-16.0.0.0.1.31.dist-info/RECORD
-35 files, 428286 bytes uncompressed, 155664 bytes compressed:  63.7%
+Zip file size: 165401 bytes, number of entries: 36
+-rw-r--r--  2.0 unx    62379 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/README.rst
+-rw-r--r--  2.0 unx       54 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/__init__.py
+-rw-r--r--  2.0 unx      961 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/__manifest__.py
+-rw-r--r--  2.0 unx      276 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/context.py
+-rw-r--r--  2.0 unx     4505 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/dependencies.py
+-rw-r--r--  2.0 unx      305 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/depends.py
+-rw-r--r--  2.0 unx     2272 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/error_handlers.py
+-rw-r--r--  2.0 unx     2484 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/fastapi_dispatcher.py
+-rw-r--r--  2.0 unx      404 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/schemas.py
+-rw-r--r--  2.0 unx     1867 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/demo/fastapi_endpoint_demo.xml
+-rw-r--r--  2.0 unx     6371 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/i18n/fastapi.pot
+-rw-r--r--  2.0 unx      112 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/models/__init__.py
+-rw-r--r--  2.0 unx     9862 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/models/fastapi_endpoint.py
+-rw-r--r--  2.0 unx     6182 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/models/fastapi_endpoint_demo.py
+-rw-r--r--  2.0 unx      978 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/models/ir_rule.py
+-rw-r--r--  2.0 unx     1712 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/models/res_lang.py
+-rw-r--r--  2.0 unx       44 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx     2255 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      709 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx    56574 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/readme/USAGE.rst
+-rw-r--r--  2.0 unx     1058 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/security/fastapi_endpoint.xml
+-rw-r--r--  2.0 unx     3338 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/security/ir_rule+acl.xml
+-rw-r--r--  2.0 unx     1418 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/security/res_groups.xml
+-rw-r--r--  2.0 unx    33245 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/static/description/endpoint_create.png
+-rw-r--r--  2.0 unx    36542 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/static/description/icon.png
+-rw-r--r--  2.0 unx   129964 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/static/description/index.html
+-rw-r--r--  2.0 unx       59 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/tests/__init__.py
+-rw-r--r--  2.0 unx     1500 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/tests/test_fastapi.py
+-rw-r--r--  2.0 unx     5617 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/tests/test_fastapi_demo.py
+-rw-r--r--  2.0 unx     5471 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/views/fastapi_endpoint.xml
+-rw-r--r--  2.0 unx      873 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/views/fastapi_endpoint_demo.xml
+-rw-r--r--  2.0 unx      466 b- defN 23-Jun-16 15:31 odoo/addons/fastapi/views/fastapi_menu.xml
+-rw-r--r--  2.0 unx    63165 b- defN 23-Jun-16 15:31 odoo_addon_fastapi-16.0.0.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-16 15:31 odoo_addon_fastapi-16.0.0.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-16 15:31 odoo_addon_fastapi-16.0.0.0.2.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3484 b- defN 23-Jun-16 15:31 odoo_addon_fastapi-16.0.0.0.2.dist-info/RECORD
+36 files, 446603 bytes uncompressed, 159645 bytes compressed:  64.3%
```

## zipnote {}

```diff
@@ -6,14 +6,17 @@
 
 Filename: odoo/addons/fastapi/__manifest__.py
 Comment: 
 
 Filename: odoo/addons/fastapi/context.py
 Comment: 
 
+Filename: odoo/addons/fastapi/dependencies.py
+Comment: 
+
 Filename: odoo/addons/fastapi/depends.py
 Comment: 
 
 Filename: odoo/addons/fastapi/error_handlers.py
 Comment: 
 
 Filename: odoo/addons/fastapi/fastapi_dispatcher.py
@@ -87,20 +90,20 @@
 
 Filename: odoo/addons/fastapi/views/fastapi_endpoint_demo.xml
 Comment: 
 
 Filename: odoo/addons/fastapi/views/fastapi_menu.xml
 Comment: 
 
-Filename: odoo_addon_fastapi-16.0.0.0.1.31.dist-info/METADATA
+Filename: odoo_addon_fastapi-16.0.0.0.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_fastapi-16.0.0.0.1.31.dist-info/WHEEL
+Filename: odoo_addon_fastapi-16.0.0.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_fastapi-16.0.0.0.1.31.dist-info/top_level.txt
+Filename: odoo_addon_fastapi-16.0.0.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_fastapi-16.0.0.0.1.31.dist-info/RECORD
+Filename: odoo_addon_fastapi-16.0.0.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/fastapi/README.rst

```diff
@@ -203,15 +203,15 @@
 that returns a list of partners.
 
 .. code-block:: python
 
     from fastapi import APIRouter
     from pydantic import BaseModel
     from odoo import api, fields, models
-    from odoo.addons.fastapi.depends import odoo_env
+    from odoo.addons.fastapi.dependencies import odoo_env
 
     class FastapiEndpoint(models.Model):
 
         _inherit = "fastapi.endpoint"
 
         app: str = fields.Selection(
             selection_add=[("demo", "Demo Endpoint")], ondelete={"demo": "cascade"}
@@ -291,22 +291,22 @@
   It's a good practice to use a dedicated user into a specific group from the
   beginning of your project and in your tests. This will force you to define
   the proper security rules for your endoints.
 
 Dealing with the odoo environment
 *********************************
 
-The **'odoo.addons.fastapi.depends'** module provides a set of functions that you can use
+The **'odoo.addons.fastapi.dependencies'** module provides a set of functions that you can use
 to inject reusable dependencies into your routes. For example, the **'odoo_env'**
 function returns the current odoo environment. You can use it to access the
 odoo models and the database from your route handlers.
 
 .. code-block:: python
 
-    from odoo.addons.fastapi.depends import odoo_env
+    from odoo.addons.fastapi.dependencies import odoo_env
 
     @demo_api_router.get("/partners", response_model=list[PartnerInfo])
     def get_partners(env=Depends(odoo_env)) -> list[PartnerInfo]:
         return [
             PartnerInfo(name=partner.name, email=partner.email)
             for partner in env["res.partner"].search([])
         ]
@@ -384,15 +384,15 @@
 
 .. code-block:: python
 
     def _get_app(self) -> FastAPI:
         app = FastAPI(**self._prepare_fastapi_endpoint_params())
         for router in self._get_fastapi_routers():
             app.include_router(prefix=self.root_path, router=router)
-        app.dependency_overrides[depends.fastapi_endpoint_id] = partial(
+        app.dependency_overrides[dependencies.fastapi_endpoint_id] = partial(
             lambda a: a, self.id
         )
 
 This kind of mechanism is very powerful and allows you to inject any dependency
 into your route handlers and moreover, define an abstract dependency that can be
 used by any other addon and for which the implementation could depend on the
 endpoint configuration.
@@ -420,15 +420,15 @@
 
 
 At this stage, your handler is not tied to a specific authentication mechanism
 but only expects to get a partner as a dependency. Depending on your needs, you
 can implement different authentication mechanism available for your app.
 The fastapi addon provides a default authentication mechanism using the
 'BasicAuth' method. This authentication mechanism is implemented in the
-**'odoo.addons.fastapi.depends'** module and relies on functionalities provided
+**'odoo.addons.fastapi.dependencies'** module and relies on functionalities provided
 by the **'fastapi.security'** module.
 
 .. code-block:: python
 
       def authenticated_partner(
           env: Environment = Depends(odoo_env),
           security: HTTPBasicCredentials = Depends(HTTPBasic()),
@@ -523,16 +523,15 @@
 Now that we have a selection field that allows the user to select the
 authentication method, we can use the dependency override mechanism to
 provide the right implementation of the **'authenticated_partner'** dependency
 when the app is instantiated.
 
 .. code-block:: python
 
-  from odoo.addons.fastapi import depends
-  from odoo.addons.fastapi.depends import authenticated_partner
+  from odoo.addons.fastapi.dependencies import authenticated_partner
   class FastapiEndpoint(models.Model):
 
       _inherit = "fastapi.endpoint"
 
       app: str = fields.Selection(
         selection_add=[("demo", "Demo Endpoint")], ondelete={"demo": "cascade"}
       )
@@ -574,22 +573,22 @@
 
 Managing configuration parameters for your app
 ***********************************************
 
 As we have seen in the previous section, you can add configuration fields
 on the fastapi endpoint model to allow the user to configure your app (as for
 any odoo model you extend). When you need to access these configuration fields
-in your route handlers, you can use the **'odoo.addons.fastapi.depends.fastapi_endpoint'**
+in your route handlers, you can use the **'odoo.addons.fastapi.dependencies.fastapi_endpoint'**
 dependency method to retrieve the 'fastapi.endpoint' record associated to the
 current request.
 
 .. code-block:: python
 
   from pydantic import BaseModel, Field
-  from odoo.addons.fastapi.depends import fastapi_endpoint
+  from odoo.addons.fastapi.dependencies import fastapi_endpoint
 
   class EndpointAppInfo(BaseModel):
     id: str
     name: str
     app: str
     auth_method: str = Field(alias="demo_auth_method")
     root_path: str
@@ -705,15 +704,15 @@
 method **'echo'**.
 
 .. code-block:: python
 
   from pydantic import BaseModel
   from fastapi import Depends, APIRouter
   from odoo import models
-  from odoo.addons.fastapi.depends import odoo_env
+  from odoo.addons.fastapi.dependencies import odoo_env
 
   class FastapiEndpoint(models.Model):
 
       _inherit = "fastapi.endpoint"
 
       def _get_fastapi_routers(self) -> List[APIRouter]:
           routers = super()._get_fastapi_routers()
@@ -768,15 +767,15 @@
 As you've previously seen, the dependency injection mechanism of fastapi is
 very powerful. By designing your route handler to rely on dependencies with
 a specific functional scope, you can easily change the implementation of the
 dependency without having to change the route handler. With such a design, you
 can even define abstract dependencies that must be implemented by the concrete
 application. This is the case of the **'authenticated_partner'** dependency in our
 previous example. (you can find the implementation of this dependency in the
-file **'odoo/addons/fastapi/depends.py'** and it's usage in the file
+file **'odoo/addons/fastapi/dependencies.py'** and it's usage in the file
 **'odoo/addons/fastapi/models/fastapi_endpoint_demo.py'**)
 
 Adding a new route handler
 ==========================
 
 Let's say that you want to add a new route handler **'/demo/echo2'**.
 You could be tempted to add this new route handler in your new addons by
@@ -1016,27 +1015,27 @@
 
   from requests import Response
 
   from odoo.tests.common import TransactionCase
 
   from fastapi.testclient import TestClient
 
-  from .. import depends
+  from .. import dependencies
   from ..context import odoo_env_ctx
 
 
   class FastAPIDemoCase(TransactionCase):
 
       @classmethod
       def setUpClass(cls) -> None:
           super().setUpClass()
           cls.test_partner = cls.env["res.partner"].create({"name": "FastAPI Demo"})
           cls.fastapi_demo_app = cls.env.ref("fastapi.fastapi_endpoint_demo")
           cls.app = cls.fastapi_demo_app._get_app()
-          cls.app.dependency_overrides[depends.authenticated_partner_impl] = partial(
+          cls.app.dependency_overrides[dependencies.authenticated_partner_impl] = partial(
               lambda a: a, cls.test_partner
           )
           cls.client = TestClient(cls.app)
           cls._ctx_token = odoo_env_ctx.set(cls.env)
 
       @classmethod
       def tearDownClass(cls) -> None:
@@ -1203,15 +1202,15 @@
    handler enclosed in a json document that contains the total number of records.
 
 .. code-block:: python
 
     from pydantic import BaseModel
 
     from odoo.api import Environment
-    from odoo.addons.fastapi.depends import paging, authenticated_partner_env
+    from odoo.addons.fastapi.dependencies import paging, authenticated_partner_env
     from odoo.addons.fastapi.schemas import PagedCollection, Paging
 
     class SaleOrder(BaseModel):
         id: int
         name: str
 
 
@@ -1233,17 +1232,14 @@
         )
 
 .. note::
 
     The **'odoo.addons.fastapi.schemas.Paging'** and **'odoo.addons.fastapi.schemas.PagedCollection'**
     pydantic models are not designed to be extended to not introduce a
     dependency between the **'odoo-addon-fastapi'** module and the **'odoo-addon-extendable'**
-    Moreover, at the time of writing, the **'extendable-pydantic'** library does not
-    support Generic models. Nevertheless, a pull request has been submitted to
-    add this feature to the library. (see `PR 1 <https://github.com/lmignon/extendable-pydantic/pull/1>`_)
 
 
 Customization of the error handling
 ===================================
 
 The error handling a very important topic in the design of the fastapi integration
 with odoo. It must ensure that the error messages are properly return to the client
@@ -1299,14 +1295,127 @@
             return handlers
 
 In the previous example, we extend the error handler for the 'AccessError' exception
 for all the endpoints. You can do the same for a specific app by checking the
 'app' field of the 'fastapi.endpoint' record before registering your custom error
 handler.
 
+FastAPI addons directory structure
+==================================
+
+When you develop a new addon to expose an api with fastapi, it's a good practice
+to follow the same directory structure and naming convention for the files
+related to the api. It will help you to easily find the files related to the api
+and it will help the other developers to understand your code.
+
+Here is the directory structure that we recommend. It's based on practices that
+are used in the python community when developing a fastapi app.
+
+.. code-block::
+
+  .
+  ├── x_api
+  │   ├── data
+  │   │   ├── ... .xml
+  │   ├── demo
+  │   │   ├── ... .xml
+  │   ├── i18n
+  │   │   ├── ... .po
+  │   ├── models
+  │   │   ├── __init__.py
+  │   │   ├── fastapi_endpoint.py  # your app
+  │   │   └── ... .py
+  │   └── routers
+  │   │   ├── __init__.py
+  │   │   ├── items.py
+  │   │   └── ... .py
+  │   ├── schemas | schemas.py
+  │   │   ├── __init__.py
+  │   │   ├── my_model.py  # pydantic model
+  │   │   └── ... .py
+  │   ├── security
+  │   │   ├── ... .xml
+  │   ├── views
+  │   │   ├── ... .xml
+  │   ├── __init__.py
+  │   ├── __manifest__.py
+  │   ├── dependencies.py  # custom dependencies
+  │   ├── error_handlers.py  # custom error handlers
+
+
+* The **'models'** directory contains the odoo models. When you define a new
+  app, as for the others addons, you will add your new model inheriting from
+  the **'fastapi.endpoint'** model in this directory.
+* The **'routers'** directory contains the fastapi routers. You will add your
+  new routers in this directory. Each route starting with the same prefix should
+  be grouped in the same file. For example, all the routes starting with
+  '/items' should be defined in the **'items.py'** file. The **'__init__.py'**
+  file in this directory is used to import all the routers defined in the
+  directory and create a global router that can be used in an app. For example,
+  in your **'items.py'** file, you will define a router like this:
+
+  .. code-block:: python
+
+    router = APIRouter(tags=["items"])
+
+    router.get("/items", response_model=List[Item])
+    def list_items():
+        pass
+
+  In the **'__init__.py'** file, you will import the router and add it to the global
+  router or your addon.
+
+  .. code-block:: python
+
+    from fastapi import APIRouter
+
+    from .items import router as items_router
+
+    router = APIRouter()
+    router.include_router(items_router)
+
+* The **'schemas.py'** will be used to define the pydantic models. For complex
+  APIs with a lot of models, it will be better to create a **'schemas'** directory
+  and split the models in different files.  The **'__init__.py'** file in this
+  directory will be used to import all the models defined in the directory.
+  For example, in your **'my_model.py'**
+  file, you will define a model like this:
+
+  .. code-block:: python
+
+    from pydantic import BaseModel
+
+    class MyModel(BaseModel):
+        name: str
+        description: str = None
+
+  In the **'__init__.py'** file, you will import the model's classes from the
+  files in the directory.
+
+  .. code-block:: python
+
+    from .my_model import MyModel
+
+  This will allow to always import the models from the schemas module whatever
+  the models are spread across different files or defined in the **'schemas.py'**
+  file.
+
+  .. code-block:: python
+
+    from x_api_addon.schemas import MyModel
+
+* The **'dependencies.py'** file contains the custom dependencies that you
+  will use in your routers. For example, you can define a dependency to
+  check the access rights of the user.
+* The **'error_handlers.py'** file contains the custom error handlers that you
+  will use in your routers. The **'odoo-addon-fastapi'** module provides the
+  default error handlers for the common odoo exceptions. Chance are that you
+  will not need to define your own error handlers. But if you need to do it,
+  you can define them in this file.
+
 What's next?
 ************
 
 The **'odoo-addon-fastapi'** module is still in its early stage of development.
 It will evolve over time to integrate your feedback and to provide the missing
 features. It's now up to you to try it and to provide your feedback.
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## odoo/addons/fastapi/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright 2022 ACSONE SA/NV
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/LGPL).
 
 {
     "name": "Odoo FastAPI",
     "summary": """
         Odoo FastAPI endpoint""",
-    "version": "16.0.0.0.1",
+    "version": "16.0.0.0.2",
     "license": "LGPL-3",
     "author": "ACSONE SA/NV,Odoo Community Association (OCA)",
     "maintainers": ["lmignon"],
     "website": "https://github.com/OCA/rest-framework",
     "depends": ["endpoint_route_handler"],
     "data": [
         "security/res_groups.xml",
```

## odoo/addons/fastapi/depends.py

```diff
@@ -1,123 +1,12 @@
-# Copyright 2022 ACSONE SA/NV
+# Copyright 2023 ACSONE SA/NV
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/LGPL).
 
-from typing import TYPE_CHECKING
+import warnings
 
-from odoo.api import Environment
-from odoo.exceptions import AccessDenied
+warnings.warn(
+    "The 'depends' package is deprecated. Please use 'dependencies' instead.",
+    DeprecationWarning,
+    stacklevel=2,
+)
 
-from odoo.addons.base.models.res_partner import Partner
-from odoo.addons.base.models.res_users import Users
-
-from fastapi import Depends, Header, HTTPException, Query, status
-from fastapi.security import HTTPBasic, HTTPBasicCredentials
-
-from .context import odoo_env_ctx
-from .schemas import Paging
-
-if TYPE_CHECKING:
-    from .models.fastapi_endpoint import FastapiEndpoint
-
-
-def odoo_env() -> Environment:
-    yield odoo_env_ctx.get()
-
-
-def authenticated_partner_impl() -> Partner:
-    """This method has to be overriden when you create your fastapi app
-    to declare the way your partner will be provided. In some case, this
-    partner will come from the authentication mechanism (ex jwt token) in other cases
-    it could comme from a lookup on an email received into an HTTP header ...
-    See the fastapi_endpoint_demo for an example"""
-
-
-def authenticated_partner_env(
-    partner: Partner = Depends(authenticated_partner_impl),  # noqa: B008
-) -> Environment:
-    """Return an environment with the authenticated partner id in the context"""
-    return partner.with_context(authenticated_partner_id=partner.id).env
-
-
-def authenticated_partner(
-    partner: Partner = Depends(authenticated_partner_impl),  # noqa: B008
-    partner_env: Environment = Depends(authenticated_partner_env),  # noqa: B008
-) -> Partner:
-    """If you need to get access to the authenticated partner into your
-    endpoint, you can add a dependency into the endpoint definition on this
-    method.
-    This method is a safe way to declare a dependency without requiring a
-    specific implementation. It depends on `authenticated_partner_impl`. The
-    concrete implementation of authenticated_partner_impl has to be provided
-    when the FastAPI app is created.
-    This method return a partner into the authenticated_partner_env
-    """
-    return partner_env["res.partner"].browse(partner.id)
-
-
-def paging(
-    page: int = Query(1, gte=1), page_size: int = Query(80, gte=1)  # noqa: B008
-) -> Paging:
-    """Return a Paging object from the page and page_size parameters"""
-    return Paging(limit=page_size, offset=(page - 1) * page_size)
-
-
-def basic_auth_user(
-    credential: HTTPBasicCredentials = Depends(HTTPBasic()),  # noqa: B008
-    env: Environment = Depends(odoo_env),  # noqa: B008
-) -> Users:
-    username = credential.username
-    password = credential.password
-    try:
-        uid = (
-            env["res.users"]
-            .sudo()
-            .authenticate(
-                db=env.cr.dbname, login=username, password=password, user_agent_env=None
-            )
-        )
-        return env["res.users"].browse(uid)
-    except AccessDenied as ad:
-        raise HTTPException(
-            status_code=status.HTTP_401_UNAUTHORIZED,
-            detail="Incorrect username or password",
-            headers={"WWW-Authenticate": "Basic"},
-        ) from ad
-
-
-def authenticated_partner_from_basic_auth_user(
-    user: Users = Depends(basic_auth_user),  # noqa: B008
-    env: Environment = Depends(odoo_env),  # noqa: B008
-) -> Partner:
-    return env["res.partner"].browse(user.sudo().partner_id.id)
-
-
-def fastapi_endpoint_id() -> int:
-    """This method is overriden by the FastAPI app to make the fastapi.endpoint record
-    available for your endpoint method. To get the fastapi.endpoint record
-    in your method, you just need to add a dependency on the fastapi_endpoint method
-    defined below
-    """
-
-
-def fastapi_endpoint(
-    _id: int = Depends(fastapi_endpoint_id),  # noqa: B008
-    env: Environment = Depends(odoo_env),  # noqa: B008
-) -> "FastapiEndpoint":
-    """Return the fastapi.endpoint record"""
-    return env["fastapi.endpoint"].browse(_id)
-
-
-def accept_language(
-    accept_language: str = Header(  # noqa: B008
-        None,
-        alias="Accept-Language",
-        description="The Accept-Language header is used to specify the language "
-        "of the content to be returned. If a language is not available, the "
-        "server will return the content in the default language.",
-    )
-) -> str:
-    """This dependency is used at application level to document the way the language
-    to use for the response is specified. The header is processed outside of the
-    fastapi app to initialize the odoo environment with the right language.
-    """
-    return accept_language
+from .dependencies import *  # noqa: F403, F401, E402
```

## odoo/addons/fastapi/models/fastapi_endpoint.py

```diff
@@ -10,15 +10,15 @@
 from starlette.middleware import Middleware
 
 import odoo
 from odoo import _, api, exceptions, fields, models, tools
 
 from fastapi import APIRouter, Depends, FastAPI, HTTPException, Request, Response
 
-from .. import depends, error_handlers
+from .. import dependencies, error_handlers
 
 _logger = logging.getLogger(__name__)
 
 
 class FastapiEndpoint(models.Model):
 
     _name = "fastapi.endpoint"
@@ -197,15 +197,15 @@
             return None
         return record.user_id.id
 
     def _get_app(self) -> FastAPI:
         app = FastAPI(**self._prepare_fastapi_app_params())
         for router in self._get_fastapi_routers():
             app.include_router(prefix=self.root_path, router=router)
-        app.dependency_overrides[depends.fastapi_endpoint_id] = partial(
+        app.dependency_overrides[dependencies.fastapi_endpoint_id] = partial(
             lambda a: a, self.id
         )
         for exception, handler in self._get_app_exception_handlers().items():
             app.add_exception_handler(exception, handler)
         return app
 
     def _get_app_exception_handlers(
@@ -261,8 +261,8 @@
 
     def _get_fastapi_app_middlewares(self) -> List[Middleware]:
         """Return the middlewares to use for the fastapi app."""
         return []
 
     def _get_fastapi_app_dependencies(self) -> List[Depends]:
         """Return the dependencies to use for the fastapi app."""
-        return [Depends(depends.accept_language)]
+        return [Depends(dependencies.accept_language)]
```

## odoo/addons/fastapi/models/fastapi_endpoint_demo.py

```diff
@@ -9,15 +9,15 @@
 
 from odoo.addons.base.models.res_partner import Partner
 
 from fastapi import APIRouter, Depends, HTTPException, status
 from fastapi.security import APIKeyHeader
 from pydantic import BaseModel, Field
 
-from ..depends import (
+from ..dependencies import (
     authenticated_partner,
     authenticated_partner_from_basic_auth_user,
     authenticated_partner_impl,
     fastapi_endpoint,
     odoo_env,
 )
```

## odoo/addons/fastapi/readme/USAGE.rst

```diff
@@ -128,15 +128,15 @@
 that returns a list of partners.
 
 .. code-block:: python
 
     from fastapi import APIRouter
     from pydantic import BaseModel
     from odoo import api, fields, models
-    from odoo.addons.fastapi.depends import odoo_env
+    from odoo.addons.fastapi.dependencies import odoo_env
 
     class FastapiEndpoint(models.Model):
 
         _inherit = "fastapi.endpoint"
 
         app: str = fields.Selection(
             selection_add=[("demo", "Demo Endpoint")], ondelete={"demo": "cascade"}
@@ -216,22 +216,22 @@
   It's a good practice to use a dedicated user into a specific group from the
   beginning of your project and in your tests. This will force you to define
   the proper security rules for your endoints.
 
 Dealing with the odoo environment
 *********************************
 
-The **'odoo.addons.fastapi.depends'** module provides a set of functions that you can use
+The **'odoo.addons.fastapi.dependencies'** module provides a set of functions that you can use
 to inject reusable dependencies into your routes. For example, the **'odoo_env'**
 function returns the current odoo environment. You can use it to access the
 odoo models and the database from your route handlers.
 
 .. code-block:: python
 
-    from odoo.addons.fastapi.depends import odoo_env
+    from odoo.addons.fastapi.dependencies import odoo_env
 
     @demo_api_router.get("/partners", response_model=list[PartnerInfo])
     def get_partners(env=Depends(odoo_env)) -> list[PartnerInfo]:
         return [
             PartnerInfo(name=partner.name, email=partner.email)
             for partner in env["res.partner"].search([])
         ]
@@ -309,15 +309,15 @@
 
 .. code-block:: python
 
     def _get_app(self) -> FastAPI:
         app = FastAPI(**self._prepare_fastapi_endpoint_params())
         for router in self._get_fastapi_routers():
             app.include_router(prefix=self.root_path, router=router)
-        app.dependency_overrides[depends.fastapi_endpoint_id] = partial(
+        app.dependency_overrides[dependencies.fastapi_endpoint_id] = partial(
             lambda a: a, self.id
         )
 
 This kind of mechanism is very powerful and allows you to inject any dependency
 into your route handlers and moreover, define an abstract dependency that can be
 used by any other addon and for which the implementation could depend on the
 endpoint configuration.
@@ -345,15 +345,15 @@
 
 
 At this stage, your handler is not tied to a specific authentication mechanism
 but only expects to get a partner as a dependency. Depending on your needs, you
 can implement different authentication mechanism available for your app.
 The fastapi addon provides a default authentication mechanism using the
 'BasicAuth' method. This authentication mechanism is implemented in the
-**'odoo.addons.fastapi.depends'** module and relies on functionalities provided
+**'odoo.addons.fastapi.dependencies'** module and relies on functionalities provided
 by the **'fastapi.security'** module.
 
 .. code-block:: python
 
       def authenticated_partner(
           env: Environment = Depends(odoo_env),
           security: HTTPBasicCredentials = Depends(HTTPBasic()),
@@ -448,16 +448,15 @@
 Now that we have a selection field that allows the user to select the
 authentication method, we can use the dependency override mechanism to
 provide the right implementation of the **'authenticated_partner'** dependency
 when the app is instantiated.
 
 .. code-block:: python
 
-  from odoo.addons.fastapi import depends
-  from odoo.addons.fastapi.depends import authenticated_partner
+  from odoo.addons.fastapi.dependencies import authenticated_partner
   class FastapiEndpoint(models.Model):
 
       _inherit = "fastapi.endpoint"
 
       app: str = fields.Selection(
         selection_add=[("demo", "Demo Endpoint")], ondelete={"demo": "cascade"}
       )
@@ -499,22 +498,22 @@
 
 Managing configuration parameters for your app
 ***********************************************
 
 As we have seen in the previous section, you can add configuration fields
 on the fastapi endpoint model to allow the user to configure your app (as for
 any odoo model you extend). When you need to access these configuration fields
-in your route handlers, you can use the **'odoo.addons.fastapi.depends.fastapi_endpoint'**
+in your route handlers, you can use the **'odoo.addons.fastapi.dependencies.fastapi_endpoint'**
 dependency method to retrieve the 'fastapi.endpoint' record associated to the
 current request.
 
 .. code-block:: python
 
   from pydantic import BaseModel, Field
-  from odoo.addons.fastapi.depends import fastapi_endpoint
+  from odoo.addons.fastapi.dependencies import fastapi_endpoint
 
   class EndpointAppInfo(BaseModel):
     id: str
     name: str
     app: str
     auth_method: str = Field(alias="demo_auth_method")
     root_path: str
@@ -630,15 +629,15 @@
 method **'echo'**.
 
 .. code-block:: python
 
   from pydantic import BaseModel
   from fastapi import Depends, APIRouter
   from odoo import models
-  from odoo.addons.fastapi.depends import odoo_env
+  from odoo.addons.fastapi.dependencies import odoo_env
 
   class FastapiEndpoint(models.Model):
 
       _inherit = "fastapi.endpoint"
 
       def _get_fastapi_routers(self) -> List[APIRouter]:
           routers = super()._get_fastapi_routers()
@@ -693,15 +692,15 @@
 As you've previously seen, the dependency injection mechanism of fastapi is
 very powerful. By designing your route handler to rely on dependencies with
 a specific functional scope, you can easily change the implementation of the
 dependency without having to change the route handler. With such a design, you
 can even define abstract dependencies that must be implemented by the concrete
 application. This is the case of the **'authenticated_partner'** dependency in our
 previous example. (you can find the implementation of this dependency in the
-file **'odoo/addons/fastapi/depends.py'** and it's usage in the file
+file **'odoo/addons/fastapi/dependencies.py'** and it's usage in the file
 **'odoo/addons/fastapi/models/fastapi_endpoint_demo.py'**)
 
 Adding a new route handler
 ==========================
 
 Let's say that you want to add a new route handler **'/demo/echo2'**.
 You could be tempted to add this new route handler in your new addons by
@@ -941,27 +940,27 @@
 
   from requests import Response
 
   from odoo.tests.common import TransactionCase
 
   from fastapi.testclient import TestClient
 
-  from .. import depends
+  from .. import dependencies
   from ..context import odoo_env_ctx
 
 
   class FastAPIDemoCase(TransactionCase):
 
       @classmethod
       def setUpClass(cls) -> None:
           super().setUpClass()
           cls.test_partner = cls.env["res.partner"].create({"name": "FastAPI Demo"})
           cls.fastapi_demo_app = cls.env.ref("fastapi.fastapi_endpoint_demo")
           cls.app = cls.fastapi_demo_app._get_app()
-          cls.app.dependency_overrides[depends.authenticated_partner_impl] = partial(
+          cls.app.dependency_overrides[dependencies.authenticated_partner_impl] = partial(
               lambda a: a, cls.test_partner
           )
           cls.client = TestClient(cls.app)
           cls._ctx_token = odoo_env_ctx.set(cls.env)
 
       @classmethod
       def tearDownClass(cls) -> None:
@@ -1128,15 +1127,15 @@
    handler enclosed in a json document that contains the total number of records.
 
 .. code-block:: python
 
     from pydantic import BaseModel
 
     from odoo.api import Environment
-    from odoo.addons.fastapi.depends import paging, authenticated_partner_env
+    from odoo.addons.fastapi.dependencies import paging, authenticated_partner_env
     from odoo.addons.fastapi.schemas import PagedCollection, Paging
 
     class SaleOrder(BaseModel):
         id: int
         name: str
 
 
@@ -1158,17 +1157,14 @@
         )
 
 .. note::
 
     The **'odoo.addons.fastapi.schemas.Paging'** and **'odoo.addons.fastapi.schemas.PagedCollection'**
     pydantic models are not designed to be extended to not introduce a
     dependency between the **'odoo-addon-fastapi'** module and the **'odoo-addon-extendable'**
-    Moreover, at the time of writing, the **'extendable-pydantic'** library does not
-    support Generic models. Nevertheless, a pull request has been submitted to
-    add this feature to the library. (see `PR 1 <https://github.com/lmignon/extendable-pydantic/pull/1>`_)
 
 
 Customization of the error handling
 ===================================
 
 The error handling a very important topic in the design of the fastapi integration
 with odoo. It must ensure that the error messages are properly return to the client
@@ -1224,14 +1220,127 @@
             return handlers
 
 In the previous example, we extend the error handler for the 'AccessError' exception
 for all the endpoints. You can do the same for a specific app by checking the
 'app' field of the 'fastapi.endpoint' record before registering your custom error
 handler.
 
+FastAPI addons directory structure
+==================================
+
+When you develop a new addon to expose an api with fastapi, it's a good practice
+to follow the same directory structure and naming convention for the files
+related to the api. It will help you to easily find the files related to the api
+and it will help the other developers to understand your code.
+
+Here is the directory structure that we recommend. It's based on practices that
+are used in the python community when developing a fastapi app.
+
+.. code-block::
+
+  .
+  ├── x_api
+  │   ├── data
+  │   │   ├── ... .xml
+  │   ├── demo
+  │   │   ├── ... .xml
+  │   ├── i18n
+  │   │   ├── ... .po
+  │   ├── models
+  │   │   ├── __init__.py
+  │   │   ├── fastapi_endpoint.py  # your app
+  │   │   └── ... .py
+  │   └── routers
+  │   │   ├── __init__.py
+  │   │   ├── items.py
+  │   │   └── ... .py
+  │   ├── schemas | schemas.py
+  │   │   ├── __init__.py
+  │   │   ├── my_model.py  # pydantic model
+  │   │   └── ... .py
+  │   ├── security
+  │   │   ├── ... .xml
+  │   ├── views
+  │   │   ├── ... .xml
+  │   ├── __init__.py
+  │   ├── __manifest__.py
+  │   ├── dependencies.py  # custom dependencies
+  │   ├── error_handlers.py  # custom error handlers
+
+
+* The **'models'** directory contains the odoo models. When you define a new
+  app, as for the others addons, you will add your new model inheriting from
+  the **'fastapi.endpoint'** model in this directory.
+* The **'routers'** directory contains the fastapi routers. You will add your
+  new routers in this directory. Each route starting with the same prefix should
+  be grouped in the same file. For example, all the routes starting with
+  '/items' should be defined in the **'items.py'** file. The **'__init__.py'**
+  file in this directory is used to import all the routers defined in the
+  directory and create a global router that can be used in an app. For example,
+  in your **'items.py'** file, you will define a router like this:
+
+  .. code-block:: python
+
+    router = APIRouter(tags=["items"])
+
+    router.get("/items", response_model=List[Item])
+    def list_items():
+        pass
+
+  In the **'__init__.py'** file, you will import the router and add it to the global
+  router or your addon.
+
+  .. code-block:: python
+
+    from fastapi import APIRouter
+
+    from .items import router as items_router
+
+    router = APIRouter()
+    router.include_router(items_router)
+
+* The **'schemas.py'** will be used to define the pydantic models. For complex
+  APIs with a lot of models, it will be better to create a **'schemas'** directory
+  and split the models in different files.  The **'__init__.py'** file in this
+  directory will be used to import all the models defined in the directory.
+  For example, in your **'my_model.py'**
+  file, you will define a model like this:
+
+  .. code-block:: python
+
+    from pydantic import BaseModel
+
+    class MyModel(BaseModel):
+        name: str
+        description: str = None
+
+  In the **'__init__.py'** file, you will import the model's classes from the
+  files in the directory.
+
+  .. code-block:: python
+
+    from .my_model import MyModel
+
+  This will allow to always import the models from the schemas module whatever
+  the models are spread across different files or defined in the **'schemas.py'**
+  file.
+
+  .. code-block:: python
+
+    from x_api_addon.schemas import MyModel
+
+* The **'dependencies.py'** file contains the custom dependencies that you
+  will use in your routers. For example, you can define a dependency to
+  check the access rights of the user.
+* The **'error_handlers.py'** file contains the custom error handlers that you
+  will use in your routers. The **'odoo-addon-fastapi'** module provides the
+  default error handlers for the common odoo exceptions. Chance are that you
+  will not need to define your own error handlers. But if you need to do it,
+  you can define them in this file.
+
 What's next?
 ************
 
 The **'odoo-addon-fastapi'** module is still in its early stage of development.
 It will evolve over time to integrate your feedback and to provide the missing
 features. It's now up to you to try it and to provide your feedback.
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## odoo/addons/fastapi/static/description/index.html

### odoo/addons/fastapi/static/description/index.html

```diff
@@ -752,15 +752,15 @@
           <span class="kn">import</span>
           <span class="n">api</span>
           <span class="p">,</span>
           <span class="n">fields</span>
           <span class="p">,</span>
           <span class="n">models</span>
           <span class="kn">from</span>
-          <span class="nn">odoo.addons.fastapi.depends</span>
+          <span class="nn">odoo.addons.fastapi.dependencies</span>
           <span class="kn">import</span>
           <span class="n">odoo_env</span>
           <span class="k">class</span>
           <span class="nc">FastapiEndpoint</span>
           <span class="p">(</span>
           <span class="n">models</span>
           <span class="o">.</span>
@@ -987,24 +987,24 @@
           </p>
         </div>
       </div>
       <div class="section" id="dealing-with-the-odoo-environment">
         <h1>Dealing with the odoo environment</h1>
         <p>
           The
-          <strong>‘odoo.addons.fastapi.depends’</strong>
+          <strong>‘odoo.addons.fastapi.dependencies’</strong>
           module provides a set of functions that you can use
 to inject reusable dependencies into your routes. For example, the
           <strong>‘odoo_env’</strong>
           function returns the current odoo environment. You can use it to access the
 odoo models and the database from your route handlers.
         </p>
         <pre class="code python literal-block">
           <span class="kn">from</span>
-          <span class="nn">odoo.addons.fastapi.depends</span>
+          <span class="nn">odoo.addons.fastapi.dependencies</span>
           <span class="kn">import</span>
           <span class="n">odoo_env</span>
           <span class="nd">@demo_api_router</span>
           <span class="o">.</span>
           <span class="n">get</span>
           <span class="p">(</span>
           <span class="s2">&quot;/partners&quot;</span>
@@ -1250,15 +1250,15 @@
           <span class="o">=</span>
           <span class="n">router</span>
           <span class="p">)</span>
           <span class="n">app</span>
           <span class="o">.</span>
           <span class="n">dependency_overrides</span>
           <span class="p">[</span>
-          <span class="n">depends</span>
+          <span class="n">dependencies</span>
           <span class="o">.</span>
           <span class="n">fastapi_endpoint_id</span>
           <span class="p">]</span>
           <span class="o">=</span>
           <span class="n">partial</span>
           <span class="p">(</span>
           <span class="k">lambda</span>
@@ -1355,15 +1355,15 @@
         </pre>
         <p>
           At this stage, your handler is not tied to a specific authentication mechanism
 but only expects to get a partner as a dependency. Depending on your needs, you
 can implement different authentication mechanism available for your app.
 The fastapi addon provides a default authentication mechanism using the
 ‘BasicAuth’ method. This authentication mechanism is implemented in the
-          <strong>‘odoo.addons.fastapi.depends’</strong>
+          <strong>‘odoo.addons.fastapi.dependencies’</strong>
           module and relies on functionalities provided
 by the
           <strong>‘fastapi.security’</strong>
           module.
         </p>
         <pre class="code python literal-block">
           <span class="k">def</span>
@@ -1665,19 +1665,15 @@
 provide the right implementation of the
           <strong>‘authenticated_partner’</strong>
           dependency
 when the app is instantiated.
         </p>
         <pre class="code python literal-block">
           <span class="kn">from</span>
-          <span class="nn">odoo.addons.fastapi</span>
-          <span class="kn">import</span>
-          <span class="n">depends</span>
-          <span class="kn">from</span>
-          <span class="nn">odoo.addons.fastapi.depends</span>
+          <span class="nn">odoo.addons.fastapi.dependencies</span>
           <span class="kn">import</span>
           <span class="n">authenticated_partner</span>
           <span class="k">class</span>
           <span class="nc">FastapiEndpoint</span>
           <span class="p">(</span>
           <span class="n">models</span>
           <span class="o">.</span>
@@ -1804,27 +1800,27 @@
       <div class="section" id="managing-configuration-parameters-for-your-app">
         <h1>Managing configuration parameters for your app</h1>
         <p>
           As we have seen in the previous section, you can add configuration fields
 on the fastapi endpoint model to allow the user to configure your app (as for
 any odoo model you extend). When you need to access these configuration fields
 in your route handlers, you can use the
-          <strong>‘odoo.addons.fastapi.depends.fastapi_endpoint’</strong>
+          <strong>‘odoo.addons.fastapi.dependencies.fastapi_endpoint’</strong>
           dependency method to retrieve the ‘fastapi.endpoint’ record associated to the
 current request.
         </p>
         <pre class="code python literal-block">
           <span class="kn">from</span>
           <span class="nn">pydantic</span>
           <span class="kn">import</span>
           <span class="n">BaseModel</span>
           <span class="p">,</span>
           <span class="n">Field</span>
           <span class="kn">from</span>
-          <span class="nn">odoo.addons.fastapi.depends</span>
+          <span class="nn">odoo.addons.fastapi.dependencies</span>
           <span class="kn">import</span>
           <span class="n">fastapi_endpoint</span>
           <span class="k">class</span>
           <span class="nc">EndpointAppInfo</span>
           <span class="p">(</span>
           <span class="n">BaseModel</span>
           <span class="p">):</span>
@@ -2085,15 +2081,15 @@
             <span class="p">,</span>
             <span class="n">APIRouter</span>
             <span class="kn">from</span>
             <span class="nn">odoo</span>
             <span class="kn">import</span>
             <span class="n">models</span>
             <span class="kn">from</span>
-            <span class="nn">odoo.addons.fastapi.depends</span>
+            <span class="nn">odoo.addons.fastapi.dependencies</span>
             <span class="kn">import</span>
             <span class="n">odoo_env</span>
             <span class="k">class</span>
             <span class="nc">FastapiEndpoint</span>
             <span class="p">(</span>
             <span class="n">models</span>
             <span class="o">.</span>
@@ -2273,15 +2269,15 @@
 dependency without having to change the route handler. With such a design, you
 can even define abstract dependencies that must be implemented by the concrete
 application. This is the case of the
             <strong>‘authenticated_partner’</strong>
             dependency in our
 previous example. (you can find the implementation of this dependency in the
 file
-            <strong>‘odoo/addons/fastapi/depends.py’</strong>
+            <strong>‘odoo/addons/fastapi/dependencies.py’</strong>
             and it’s usage in the file
             <strong>‘odoo/addons/fastapi/models/fastapi_endpoint_demo.py’</strong>
             )
           </p>
         </div>
         <div class="section" id="adding-a-new-route-handler">
           <h2>Adding a new route handler</h2>
@@ -2852,15 +2848,15 @@
           <span class="kn">from</span>
           <span class="nn">fastapi.testclient</span>
           <span class="kn">import</span>
           <span class="n">TestClient</span>
           <span class="kn">from</span>
           <span class="nn">..</span>
           <span class="kn">import</span>
-          <span class="n">depends</span>
+          <span class="n">dependencies</span>
           <span class="kn">from</span>
           <span class="nn">..context</span>
           <span class="kn">import</span>
           <span class="n">odoo_env_ctx</span>
           <span class="k">class</span>
           <span class="nc">FastAPIDemoCase</span>
           <span class="p">(</span>
@@ -2921,15 +2917,15 @@
           <span class="p">()</span>
           <span class="bp">cls</span>
           <span class="o">.</span>
           <span class="n">app</span>
           <span class="o">.</span>
           <span class="n">dependency_overrides</span>
           <span class="p">[</span>
-          <span class="n">depends</span>
+          <span class="n">dependencies</span>
           <span class="o">.</span>
           <span class="n">authenticated_partner_impl</span>
           <span class="p">]</span>
           <span class="o">=</span>
           <span class="n">partial</span>
           <span class="p">(</span>
           <span class="k">lambda</span>
@@ -3222,15 +3218,15 @@
             <span class="kn">import</span>
             <span class="n">BaseModel</span>
             <span class="kn">from</span>
             <span class="nn">odoo.api</span>
             <span class="kn">import</span>
             <span class="n">Environment</span>
             <span class="kn">from</span>
-            <span class="nn">odoo.addons.fastapi.depends</span>
+            <span class="nn">odoo.addons.fastapi.dependencies</span>
             <span class="kn">import</span>
             <span class="n">paging</span>
             <span class="p">,</span>
             <span class="n">authenticated_partner_env</span>
             <span class="kn">from</span>
             <span class="nn">odoo.addons.fastapi.schemas</span>
             <span class="kn">import</span>
@@ -3354,21 +3350,14 @@
               and
               <strong>‘odoo.addons.fastapi.schemas.PagedCollection’</strong>
               pydantic models are not designed to be extended to not introduce a
 dependency between the
               <strong>‘odoo-addon-fastapi’</strong>
               module and the
               <strong>‘odoo-addon-extendable’</strong>
-              Moreover, at the time of writing, the
-              <strong>‘extendable-pydantic’</strong>
-              library does not
-support Generic models. Nevertheless, a pull request has been submitted to
-add this feature to the library. (see
-              <a class="reference external" href="https://github.com/lmignon/extendable-pydantic/pull/1">PR 1</a>
-              )
             </p>
           </div>
         </div>
         <div class="section" id="customization-of-the-error-handling">
           <h2>Customization of the error handling</h2>
           <p>
             The error handling a very important topic in the design of the fastapi integration
@@ -3529,14 +3518,219 @@
             <span class="n">handlers</span>
           </pre>
           <p>In the previous example, we extend the error handler for the ‘AccessError’ exception
 for all the endpoints. You can do the same for a specific app by checking the
 ‘app’ field of the ‘fastapi.endpoint’ record before registering your custom error
 handler.</p>
         </div>
+        <div class="section" id="fastapi-addons-directory-structure">
+          <h2>FastAPI addons directory structure</h2>
+          <p>When you develop a new addon to expose an api with fastapi, it’s a good practice
+to follow the same directory structure and naming convention for the files
+related to the api. It will help you to easily find the files related to the api
+and it will help the other developers to understand your code.</p>
+          <p>Here is the directory structure that we recommend. It’s based on practices that
+are used in the python community when developing a fastapi app.</p>
+          <pre class="code literal-block">.
+├── x_api
+│ ├── data
+│ │   ├── ... .xml
+│ ├── demo
+│ │   ├── ... .xml
+│ ├── i18n
+│ │   ├── ... .po
+│ ├── models
+│ │   ├── __init__.py
+│ │   ├── fastapi_endpoint.py  # your app
+│ │   └── ... .py
+│ └── routers
+│ │   ├── __init__.py
+│ │   ├── items.py
+│ │   └── ... .py
+│ ├── schemas | schemas.py
+│ │   ├── __init__.py
+│ │   ├── my_model.py  # pydantic model
+│ │   └── ... .py
+│ ├── security
+│ │   ├── ... .xml
+│ ├── views
+│ │   ├── ... .xml
+│ ├── __init__.py
+│ ├── __manifest__.py
+│ ├── dependencies.py  # custom dependencies
+│ ├── error_handlers.py  # custom error handlers</pre>
+          <ul>
+            <li>
+              <p class="first">
+                The
+                <strong>‘models’</strong>
+                directory contains the odoo models. When you define a new
+app, as for the others addons, you will add your new model inheriting from
+the
+                <strong>‘fastapi.endpoint’</strong>
+                model in this directory.
+              </p>
+            </li>
+            <li>
+              <p class="first">
+                The
+                <strong>‘routers’</strong>
+                directory contains the fastapi routers. You will add your
+new routers in this directory. Each route starting with the same prefix should
+be grouped in the same file. For example, all the routes starting with
+‘/items’ should be defined in the
+                <strong>‘items.py’</strong>
+                file. The
+                <strong>‘__init__.py’</strong>
+                file in this directory is used to import all the routers defined in the
+directory and create a global router that can be used in an app. For example,
+in your
+                <strong>‘items.py’</strong>
+                file, you will define a router like this:
+              </p>
+              <pre class="code python literal-block">
+                <span class="n">router</span>
+                <span class="o">=</span>
+                <span class="n">APIRouter</span>
+                <span class="p">(</span>
+                <span class="n">tags</span>
+                <span class="o">=</span>
+                <span class="p">[</span>
+                <span class="s2">&quot;items&quot;</span>
+                <span class="p">])</span>
+                <span class="n">router</span>
+                <span class="o">.</span>
+                <span class="n">get</span>
+                <span class="p">(</span>
+                <span class="s2">&quot;/items&quot;</span>
+                <span class="p">,</span>
+                <span class="n">response_model</span>
+                <span class="o">=</span>
+                <span class="n">List</span>
+                <span class="p">[</span>
+                <span class="n">Item</span>
+                <span class="p">])</span>
+                <span class="k">def</span>
+                <span class="nf">list_items</span>
+                <span class="p">():</span>
+                <span class="k">pass</span>
+              </pre>
+              <p>
+                In the
+                <strong>‘__init__.py’</strong>
+                file, you will import the router and add it to the global
+router or your addon.
+              </p>
+              <pre class="code python literal-block">
+                <span class="kn">from</span>
+                <span class="nn">fastapi</span>
+                <span class="kn">import</span>
+                <span class="n">APIRouter</span>
+                <span class="kn">from</span>
+                <span class="nn">.items</span>
+                <span class="kn">import</span>
+                <span class="n">router</span>
+                <span class="k">as</span>
+                <span class="n">items_router</span>
+                <span class="n">router</span>
+                <span class="o">=</span>
+                <span class="n">APIRouter</span>
+                <span class="p">()</span>
+                <span class="n">router</span>
+                <span class="o">.</span>
+                <span class="n">include_router</span>
+                <span class="p">(</span>
+                <span class="n">items_router</span>
+                <span class="p">)</span>
+              </pre>
+            </li>
+            <li>
+              <p class="first">
+                The
+                <strong>‘schemas.py’</strong>
+                will be used to define the pydantic models. For complex
+APIs with a lot of models, it will be better to create a
+                <strong>‘schemas’</strong>
+                directory
+and split the models in different files.  The
+                <strong>‘__init__.py’</strong>
+                file in this
+directory will be used to import all the models defined in the directory.
+For example, in your
+                <strong>‘my_model.py’</strong>
+                file, you will define a model like this:
+              </p>
+              <pre class="code python literal-block">
+                <span class="kn">from</span>
+                <span class="nn">pydantic</span>
+                <span class="kn">import</span>
+                <span class="n">BaseModel</span>
+                <span class="k">class</span>
+                <span class="nc">MyModel</span>
+                <span class="p">(</span>
+                <span class="n">BaseModel</span>
+                <span class="p">):</span>
+                <span class="n">name</span>
+                <span class="p">:</span>
+                <span class="nb">str</span>
+                <span class="n">description</span>
+                <span class="p">:</span>
+                <span class="nb">str</span>
+                <span class="o">=</span>
+                <span class="kc">None</span>
+              </pre>
+              <p>
+                In the
+                <strong>‘__init__.py’</strong>
+                file, you will import the model’s classes from the
+files in the directory.
+              </p>
+              <pre class="code python literal-block">
+                <span class="kn">from</span>
+                <span class="nn">.my_model</span>
+                <span class="kn">import</span>
+                <span class="n">MyModel</span>
+              </pre>
+              <p>
+                This will allow to always import the models from the schemas module whatever
+the models are spread across different files or defined in the
+                <strong>‘schemas.py’</strong>
+                file.
+              </p>
+              <pre class="code python literal-block">
+                <span class="kn">from</span>
+                <span class="nn">x_api_addon.schemas</span>
+                <span class="kn">import</span>
+                <span class="n">MyModel</span>
+              </pre>
+            </li>
+            <li>
+              <p class="first">
+                The
+                <strong>‘dependencies.py’</strong>
+                file contains the custom dependencies that you
+will use in your routers. For example, you can define a dependency to
+check the access rights of the user.
+              </p>
+            </li>
+            <li>
+              <p class="first">
+                The
+                <strong>‘error_handlers.py’</strong>
+                file contains the custom error handlers that you
+will use in your routers. The
+                <strong>‘odoo-addon-fastapi’</strong>
+                module provides the
+default error handlers for the common odoo exceptions. Chance are that you
+will not need to define your own error handlers. But if you need to do it,
+you can define them in this file.
+              </p>
+            </li>
+          </ul>
+        </div>
       </div>
       <div class="section" id="what-s-next">
         <h1>What’s next?</h1>
         <p>
           The
           <strong>‘odoo-addon-fastapi’</strong>
           module is still in its early stage of development.
```

## odoo/addons/fastapi/tests/test_fastapi_demo.py

```diff
@@ -8,15 +8,15 @@
 
 from odoo.tests.common import TransactionCase
 from odoo.tools import mute_logger
 
 from fastapi import status
 from fastapi.testclient import TestClient
 
-from .. import depends
+from .. import dependencies
 from ..context import odoo_env_ctx
 from ..models.fastapi_endpoint_demo import EndpointAppInfo, ExceptionType
 
 
 class FastAPIDemoCase(TransactionCase):
     """The fastapi lib comes with a useful testclient that let's you
     easily test your endpoints. Moreover, the dependency overrides functionality
@@ -28,15 +28,15 @@
 
     @classmethod
     def setUpClass(cls) -> None:
         super().setUpClass()
         cls.test_partner = cls.env["res.partner"].create({"name": "FastAPI Demo"})
         cls.fastapi_demo_app = cls.env.ref("fastapi.fastapi_endpoint_demo")
         cls.app = cls.fastapi_demo_app._get_app()
-        cls.app.dependency_overrides[depends.authenticated_partner_impl] = partial(
+        cls.app.dependency_overrides[dependencies.authenticated_partner_impl] = partial(
             lambda a: a, cls.test_partner
         )
         # we need to disable the raise of unexpected exception into the called
         # service to test the error handling of the endpoint. By default, the
         # TestClient will let unexpected exception bubble up to the test method
         # to allows you to process the error accordingly
         cls.client = TestClient(cls.app, raise_server_exceptions=False)
```

## Comparing `odoo_addon_fastapi-16.0.0.0.1.31.dist-info/METADATA` & `odoo_addon_fastapi-16.0.0.0.2.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-fastapi
-Version: 16.0.0.0.1.31
+Version: 16.0.0.0.2
 Summary: Odoo FastAPI endpoint
 Home-page: https://github.com/OCA/rest-framework
 Author: ACSONE SA/NV,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
@@ -226,15 +226,15 @@
 that returns a list of partners.
 
 .. code-block:: python
 
     from fastapi import APIRouter
     from pydantic import BaseModel
     from odoo import api, fields, models
-    from odoo.addons.fastapi.depends import odoo_env
+    from odoo.addons.fastapi.dependencies import odoo_env
 
     class FastapiEndpoint(models.Model):
 
         _inherit = "fastapi.endpoint"
 
         app: str = fields.Selection(
             selection_add=[("demo", "Demo Endpoint")], ondelete={"demo": "cascade"}
@@ -314,22 +314,22 @@
   It's a good practice to use a dedicated user into a specific group from the
   beginning of your project and in your tests. This will force you to define
   the proper security rules for your endoints.
 
 Dealing with the odoo environment
 *********************************
 
-The **'odoo.addons.fastapi.depends'** module provides a set of functions that you can use
+The **'odoo.addons.fastapi.dependencies'** module provides a set of functions that you can use
 to inject reusable dependencies into your routes. For example, the **'odoo_env'**
 function returns the current odoo environment. You can use it to access the
 odoo models and the database from your route handlers.
 
 .. code-block:: python
 
-    from odoo.addons.fastapi.depends import odoo_env
+    from odoo.addons.fastapi.dependencies import odoo_env
 
     @demo_api_router.get("/partners", response_model=list[PartnerInfo])
     def get_partners(env=Depends(odoo_env)) -> list[PartnerInfo]:
         return [
             PartnerInfo(name=partner.name, email=partner.email)
             for partner in env["res.partner"].search([])
         ]
@@ -407,15 +407,15 @@
 
 .. code-block:: python
 
     def _get_app(self) -> FastAPI:
         app = FastAPI(**self._prepare_fastapi_endpoint_params())
         for router in self._get_fastapi_routers():
             app.include_router(prefix=self.root_path, router=router)
-        app.dependency_overrides[depends.fastapi_endpoint_id] = partial(
+        app.dependency_overrides[dependencies.fastapi_endpoint_id] = partial(
             lambda a: a, self.id
         )
 
 This kind of mechanism is very powerful and allows you to inject any dependency
 into your route handlers and moreover, define an abstract dependency that can be
 used by any other addon and for which the implementation could depend on the
 endpoint configuration.
@@ -443,15 +443,15 @@
 
 
 At this stage, your handler is not tied to a specific authentication mechanism
 but only expects to get a partner as a dependency. Depending on your needs, you
 can implement different authentication mechanism available for your app.
 The fastapi addon provides a default authentication mechanism using the
 'BasicAuth' method. This authentication mechanism is implemented in the
-**'odoo.addons.fastapi.depends'** module and relies on functionalities provided
+**'odoo.addons.fastapi.dependencies'** module and relies on functionalities provided
 by the **'fastapi.security'** module.
 
 .. code-block:: python
 
       def authenticated_partner(
           env: Environment = Depends(odoo_env),
           security: HTTPBasicCredentials = Depends(HTTPBasic()),
@@ -546,16 +546,15 @@
 Now that we have a selection field that allows the user to select the
 authentication method, we can use the dependency override mechanism to
 provide the right implementation of the **'authenticated_partner'** dependency
 when the app is instantiated.
 
 .. code-block:: python
 
-  from odoo.addons.fastapi import depends
-  from odoo.addons.fastapi.depends import authenticated_partner
+  from odoo.addons.fastapi.dependencies import authenticated_partner
   class FastapiEndpoint(models.Model):
 
       _inherit = "fastapi.endpoint"
 
       app: str = fields.Selection(
         selection_add=[("demo", "Demo Endpoint")], ondelete={"demo": "cascade"}
       )
@@ -597,22 +596,22 @@
 
 Managing configuration parameters for your app
 ***********************************************
 
 As we have seen in the previous section, you can add configuration fields
 on the fastapi endpoint model to allow the user to configure your app (as for
 any odoo model you extend). When you need to access these configuration fields
-in your route handlers, you can use the **'odoo.addons.fastapi.depends.fastapi_endpoint'**
+in your route handlers, you can use the **'odoo.addons.fastapi.dependencies.fastapi_endpoint'**
 dependency method to retrieve the 'fastapi.endpoint' record associated to the
 current request.
 
 .. code-block:: python
 
   from pydantic import BaseModel, Field
-  from odoo.addons.fastapi.depends import fastapi_endpoint
+  from odoo.addons.fastapi.dependencies import fastapi_endpoint
 
   class EndpointAppInfo(BaseModel):
     id: str
     name: str
     app: str
     auth_method: str = Field(alias="demo_auth_method")
     root_path: str
@@ -728,15 +727,15 @@
 method **'echo'**.
 
 .. code-block:: python
 
   from pydantic import BaseModel
   from fastapi import Depends, APIRouter
   from odoo import models
-  from odoo.addons.fastapi.depends import odoo_env
+  from odoo.addons.fastapi.dependencies import odoo_env
 
   class FastapiEndpoint(models.Model):
 
       _inherit = "fastapi.endpoint"
 
       def _get_fastapi_routers(self) -> List[APIRouter]:
           routers = super()._get_fastapi_routers()
@@ -791,15 +790,15 @@
 As you've previously seen, the dependency injection mechanism of fastapi is
 very powerful. By designing your route handler to rely on dependencies with
 a specific functional scope, you can easily change the implementation of the
 dependency without having to change the route handler. With such a design, you
 can even define abstract dependencies that must be implemented by the concrete
 application. This is the case of the **'authenticated_partner'** dependency in our
 previous example. (you can find the implementation of this dependency in the
-file **'odoo/addons/fastapi/depends.py'** and it's usage in the file
+file **'odoo/addons/fastapi/dependencies.py'** and it's usage in the file
 **'odoo/addons/fastapi/models/fastapi_endpoint_demo.py'**)
 
 Adding a new route handler
 ==========================
 
 Let's say that you want to add a new route handler **'/demo/echo2'**.
 You could be tempted to add this new route handler in your new addons by
@@ -1039,27 +1038,27 @@
 
   from requests import Response
 
   from odoo.tests.common import TransactionCase
 
   from fastapi.testclient import TestClient
 
-  from .. import depends
+  from .. import dependencies
   from ..context import odoo_env_ctx
 
 
   class FastAPIDemoCase(TransactionCase):
 
       @classmethod
       def setUpClass(cls) -> None:
           super().setUpClass()
           cls.test_partner = cls.env["res.partner"].create({"name": "FastAPI Demo"})
           cls.fastapi_demo_app = cls.env.ref("fastapi.fastapi_endpoint_demo")
           cls.app = cls.fastapi_demo_app._get_app()
-          cls.app.dependency_overrides[depends.authenticated_partner_impl] = partial(
+          cls.app.dependency_overrides[dependencies.authenticated_partner_impl] = partial(
               lambda a: a, cls.test_partner
           )
           cls.client = TestClient(cls.app)
           cls._ctx_token = odoo_env_ctx.set(cls.env)
 
       @classmethod
       def tearDownClass(cls) -> None:
@@ -1226,15 +1225,15 @@
    handler enclosed in a json document that contains the total number of records.
 
 .. code-block:: python
 
     from pydantic import BaseModel
 
     from odoo.api import Environment
-    from odoo.addons.fastapi.depends import paging, authenticated_partner_env
+    from odoo.addons.fastapi.dependencies import paging, authenticated_partner_env
     from odoo.addons.fastapi.schemas import PagedCollection, Paging
 
     class SaleOrder(BaseModel):
         id: int
         name: str
 
 
@@ -1256,17 +1255,14 @@
         )
 
 .. note::
 
     The **'odoo.addons.fastapi.schemas.Paging'** and **'odoo.addons.fastapi.schemas.PagedCollection'**
     pydantic models are not designed to be extended to not introduce a
     dependency between the **'odoo-addon-fastapi'** module and the **'odoo-addon-extendable'**
-    Moreover, at the time of writing, the **'extendable-pydantic'** library does not
-    support Generic models. Nevertheless, a pull request has been submitted to
-    add this feature to the library. (see `PR 1 <https://github.com/lmignon/extendable-pydantic/pull/1>`_)
 
 
 Customization of the error handling
 ===================================
 
 The error handling a very important topic in the design of the fastapi integration
 with odoo. It must ensure that the error messages are properly return to the client
@@ -1322,14 +1318,127 @@
             return handlers
 
 In the previous example, we extend the error handler for the 'AccessError' exception
 for all the endpoints. You can do the same for a specific app by checking the
 'app' field of the 'fastapi.endpoint' record before registering your custom error
 handler.
 
+FastAPI addons directory structure
+==================================
+
+When you develop a new addon to expose an api with fastapi, it's a good practice
+to follow the same directory structure and naming convention for the files
+related to the api. It will help you to easily find the files related to the api
+and it will help the other developers to understand your code.
+
+Here is the directory structure that we recommend. It's based on practices that
+are used in the python community when developing a fastapi app.
+
+.. code-block::
+
+  .
+  ├── x_api
+  │   ├── data
+  │   │   ├── ... .xml
+  │   ├── demo
+  │   │   ├── ... .xml
+  │   ├── i18n
+  │   │   ├── ... .po
+  │   ├── models
+  │   │   ├── __init__.py
+  │   │   ├── fastapi_endpoint.py  # your app
+  │   │   └── ... .py
+  │   └── routers
+  │   │   ├── __init__.py
+  │   │   ├── items.py
+  │   │   └── ... .py
+  │   ├── schemas | schemas.py
+  │   │   ├── __init__.py
+  │   │   ├── my_model.py  # pydantic model
+  │   │   └── ... .py
+  │   ├── security
+  │   │   ├── ... .xml
+  │   ├── views
+  │   │   ├── ... .xml
+  │   ├── __init__.py
+  │   ├── __manifest__.py
+  │   ├── dependencies.py  # custom dependencies
+  │   ├── error_handlers.py  # custom error handlers
+
+
+* The **'models'** directory contains the odoo models. When you define a new
+  app, as for the others addons, you will add your new model inheriting from
+  the **'fastapi.endpoint'** model in this directory.
+* The **'routers'** directory contains the fastapi routers. You will add your
+  new routers in this directory. Each route starting with the same prefix should
+  be grouped in the same file. For example, all the routes starting with
+  '/items' should be defined in the **'items.py'** file. The **'__init__.py'**
+  file in this directory is used to import all the routers defined in the
+  directory and create a global router that can be used in an app. For example,
+  in your **'items.py'** file, you will define a router like this:
+
+  .. code-block:: python
+
+    router = APIRouter(tags=["items"])
+
+    router.get("/items", response_model=List[Item])
+    def list_items():
+        pass
+
+  In the **'__init__.py'** file, you will import the router and add it to the global
+  router or your addon.
+
+  .. code-block:: python
+
+    from fastapi import APIRouter
+
+    from .items import router as items_router
+
+    router = APIRouter()
+    router.include_router(items_router)
+
+* The **'schemas.py'** will be used to define the pydantic models. For complex
+  APIs with a lot of models, it will be better to create a **'schemas'** directory
+  and split the models in different files.  The **'__init__.py'** file in this
+  directory will be used to import all the models defined in the directory.
+  For example, in your **'my_model.py'**
+  file, you will define a model like this:
+
+  .. code-block:: python
+
+    from pydantic import BaseModel
+
+    class MyModel(BaseModel):
+        name: str
+        description: str = None
+
+  In the **'__init__.py'** file, you will import the model's classes from the
+  files in the directory.
+
+  .. code-block:: python
+
+    from .my_model import MyModel
+
+  This will allow to always import the models from the schemas module whatever
+  the models are spread across different files or defined in the **'schemas.py'**
+  file.
+
+  .. code-block:: python
+
+    from x_api_addon.schemas import MyModel
+
+* The **'dependencies.py'** file contains the custom dependencies that you
+  will use in your routers. For example, you can define a dependency to
+  check the access rights of the user.
+* The **'error_handlers.py'** file contains the custom error handlers that you
+  will use in your routers. The **'odoo-addon-fastapi'** module provides the
+  default error handlers for the common odoo exceptions. Chance are that you
+  will not need to define your own error handlers. But if you need to do it,
+  you can define them in this file.
+
 What's next?
 ************
 
 The **'odoo-addon-fastapi'** module is still in its early stage of development.
 It will evolve over time to integrate your feedback and to provide the missing
 features. It's now up to you to try it and to provide your feedback.
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## Comparing `odoo_addon_fastapi-16.0.0.0.1.31.dist-info/RECORD` & `odoo_addon_fastapi-16.0.0.0.2.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,35 +1,36 @@
-odoo/addons/fastapi/README.rst,sha256=1BkxHiiHqNVmq0CC8pJnliDpxqrVE2LE1p-N3xZ5730,58450
+odoo/addons/fastapi/README.rst,sha256=UuXWn_0Jh9RMKadGqb19v4cfGaFyH9OyT7hFKeeX3Z0,62379
 odoo/addons/fastapi/__init__.py,sha256=A9H791sAzcrI702uasMbvjLSMGOzdFvCADu_qnHL0ww,54
-odoo/addons/fastapi/__manifest__.py,sha256=hwiSiE8G97BMpMmVuueHLyptJhmQyERoJexceA8LHnw,961
+odoo/addons/fastapi/__manifest__.py,sha256=y51WyCLx7y2W0FWWMI9XTt8DrrwqhlKa-wlMIfZjlD4,961
 odoo/addons/fastapi/context.py,sha256=R89-ncfIYWCVa4Y0M1R3pnKK-sADSY4chMKVTT5J2Uk,276
-odoo/addons/fastapi/depends.py,sha256=jCGw0yUlKaLZkaHS2KLCxfaw8H5SUFHCmShI7i-DIw4,4505
+odoo/addons/fastapi/dependencies.py,sha256=jCGw0yUlKaLZkaHS2KLCxfaw8H5SUFHCmShI7i-DIw4,4505
+odoo/addons/fastapi/depends.py,sha256=DqaPH3Sm1Cc-5WwitXwW5TP5jij__iN6WtWUuLllx-w,305
 odoo/addons/fastapi/error_handlers.py,sha256=meh1OkW8AxxZ4QvLeig4n9JGbTK-aPAIBp3Zi625LwI,2272
 odoo/addons/fastapi/fastapi_dispatcher.py,sha256=pFzju0m5G092Th4bPKGVRTgIiL_BDA_fv5MLCa-Lpyo,2484
 odoo/addons/fastapi/schemas.py,sha256=tmgBpPaRHFNERqHHqjyNm-3bl1ME1SXHpaMSwfz0MO4,404
 odoo/addons/fastapi/demo/fastapi_endpoint_demo.xml,sha256=OYw6_lrEXEgH3jYdjUC1TknyLAfJ8TN8BoqsLn_q5UA,1867
 odoo/addons/fastapi/i18n/fastapi.pot,sha256=iUe_pGA2zKZg3JkX51Sb4mwU5Y6Dh1WA0DghBU8-UfA,6371
 odoo/addons/fastapi/models/__init__.py,sha256=oyzZ18ZEmOqi5-VIodgbHZ9bekIMeJqaW7LUD-HZXQE,112
-odoo/addons/fastapi/models/fastapi_endpoint.py,sha256=9ZpJ9YfUE74zSkHJ74IHsV0K9s5k09NxrxhzPuPV-kQ,9847
-odoo/addons/fastapi/models/fastapi_endpoint_demo.py,sha256=Aj2Jn83fP0XL0xi5AU4qYl-EN-XmB0is4CLiJDPphhk,6177
+odoo/addons/fastapi/models/fastapi_endpoint.py,sha256=jFYQxmBbYOhflji0qsEm9yGBypcv_gDeAKxk6n3M6uo,9862
+odoo/addons/fastapi/models/fastapi_endpoint_demo.py,sha256=WeQSuMR5Cj00210klXL00iGTzGTPNCJXkNFEW9ANd2c,6182
 odoo/addons/fastapi/models/ir_rule.py,sha256=bV_2Ses0KKTRmbqVkBBjSBG_ADLALzjmKGNGWoXevCk,978
 odoo/addons/fastapi/models/res_lang.py,sha256=H0J_5lth6LS6nU0ZyYuNA4-hAJFXaturu4DGOL_4KBk,1712
 odoo/addons/fastapi/readme/CONTRIBUTORS.rst,sha256=RqZZFJ_WyebKrBztRG56MCIHBnSryLzhaxlXepsfhVg,44
 odoo/addons/fastapi/readme/DESCRIPTION.rst,sha256=r_eA-Tm3-rn-N6HrAcFLw8pEDKMrP6Bxp48lLIIh6vI,2255
 odoo/addons/fastapi/readme/ROADMAP.rst,sha256=P0CcajuBLd0FYckLk210IeFhFGwf13xk-qnqGRK2nQg,709
-odoo/addons/fastapi/readme/USAGE.rst,sha256=DewJV8vgTcD8CthH3ojdumERpWytnaeahp5m0YjsOQ4,52645
+odoo/addons/fastapi/readme/USAGE.rst,sha256=AO1OEBjGpfEm2dmDL4d5sbsQ9rnGj_Kl4S8LU-Xoujo,56574
 odoo/addons/fastapi/security/fastapi_endpoint.xml,sha256=FBvObSIGOJCRkdsBdeD3FHb_2eDFj1xZRvVNiA6-8zo,1058
 odoo/addons/fastapi/security/ir_rule+acl.xml,sha256=YyVEXm2x5LZs85HR18af1m6K6zGBy_IqX45pyJhXXMU,3338
 odoo/addons/fastapi/security/res_groups.xml,sha256=F4n20EtRZFECjMAyPQuXSjFr4Lp3SW9Dddm4gjZKF5g,1418
 odoo/addons/fastapi/static/description/endpoint_create.png,sha256=-jJmDu51GbbpNdr8RJQlBMnTiDmUMEfoIk6ALHdfdAM,33245
 odoo/addons/fastapi/static/description/icon.png,sha256=vR-wxFP4tYM2kirXIDMwPaOmHPFEMnqfY78uhGhn4Yo,36542
-odoo/addons/fastapi/static/description/index.html,sha256=IBGYt74tDVoAipFKo-wkIalsnTpp0Fm9Smsredd-nBo,123845
+odoo/addons/fastapi/static/description/index.html,sha256=sgNJfd9aU0q63LkXSavEQNSib6-nax6Dd49mjnIIVoU,129964
 odoo/addons/fastapi/tests/__init__.py,sha256=cJ0WZNnDuNOWtiGyjY6EsIg1g1dLc4EwUzdUqfUbsdQ,59
 odoo/addons/fastapi/tests/test_fastapi.py,sha256=AZu5Mwg7p8Nt-NAdbYpfmeixs8gSx1u7uKNdwYVPelI,1500
-odoo/addons/fastapi/tests/test_fastapi_demo.py,sha256=GLtjrxGkWzXNLfBxXbgXV-FgxCTN9QlRuCOV5wMY6uE,5607
+odoo/addons/fastapi/tests/test_fastapi_demo.py,sha256=oBd_mBzNdySpTJdcqyQtY0LECFE4u8X4seiGAuAyh50,5617
 odoo/addons/fastapi/views/fastapi_endpoint.xml,sha256=Qx1-aHoAEFzcbuX_W8sjeaXvVhH9QQWdhk9rZUuPK_Y,5471
 odoo/addons/fastapi/views/fastapi_endpoint_demo.xml,sha256=gyweL51A1L4qHYyBKxBAg0WtlccnSEXZBQQj42BQbEk,873
 odoo/addons/fastapi/views/fastapi_menu.xml,sha256=jQP5SrQaiqPvSM-d7NYF280nbMPlMCZ9Jj4GkssIc9A,466
-odoo_addon_fastapi-16.0.0.0.1.31.dist-info/METADATA,sha256=Us0vdcoM8jikNZTXo9hY_yX_P1FSRxvfPWlRJXztE3g,59239
-odoo_addon_fastapi-16.0.0.0.1.31.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo_addon_fastapi-16.0.0.0.1.31.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_fastapi-16.0.0.0.1.31.dist-info/RECORD,,
+odoo_addon_fastapi-16.0.0.0.2.dist-info/METADATA,sha256=4Dp7Chc6eIDzOWp6RclhGFIMuiJrOaKsBhCmTvmY8W4,63165
+odoo_addon_fastapi-16.0.0.0.2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo_addon_fastapi-16.0.0.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_fastapi-16.0.0.0.2.dist-info/RECORD,,
```

