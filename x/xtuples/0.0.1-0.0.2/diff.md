# Comparing `tmp/xtuples-0.0.1.tar.gz` & `tmp/xtuples-0.0.2.tar.gz`

## Comparing `xtuples-0.0.1.tar` & `xtuples-0.0.2.tar`

### file list

```diff
@@ -1,9 +1,9 @@
--rw-r--r--   0        0        0      130 2020-02-02 00:00:00.000000 xtuples-0.0.1/src/xtuples/__about__.py
--rw-r--r--   0        0        0      107 2020-02-02 00:00:00.000000 xtuples-0.0.1/src/xtuples/__init__.py
--rw-r--r--   0        0        0    26209 2020-02-02 00:00:00.000000 xtuples-0.0.1/src/xtuples/xtuples.py
--rw-r--r--   0        0        0      107 2020-02-02 00:00:00.000000 xtuples-0.0.1/tests/__init__.py
--rw-r--r--   0        0        0     1943 2020-02-02 00:00:00.000000 xtuples-0.0.1/.gitignore
--rw-r--r--   0        0        0     1105 2020-02-02 00:00:00.000000 xtuples-0.0.1/LICENSE.txt
--rw-r--r--   0        0        0      492 2020-02-02 00:00:00.000000 xtuples-0.0.1/README.md
--rw-r--r--   0        0        0     3030 2020-02-02 00:00:00.000000 xtuples-0.0.1/pyproject.toml
--rw-r--r--   0        0        0     1148 2020-02-02 00:00:00.000000 xtuples-0.0.1/PKG-INFO
+-rw-r--r--   0        0        0      130 2020-02-02 00:00:00.000000 xtuples-0.0.2/src/xtuples/__about__.py
+-rw-r--r--   0        0        0      206 2020-02-02 00:00:00.000000 xtuples-0.0.2/src/xtuples/__init__.py
+-rw-r--r--   0        0        0    26321 2020-02-02 00:00:00.000000 xtuples-0.0.2/src/xtuples/xtuples.py
+-rw-r--r--   0        0        0      107 2020-02-02 00:00:00.000000 xtuples-0.0.2/tests/__init__.py
+-rw-r--r--   0        0        0     1943 2020-02-02 00:00:00.000000 xtuples-0.0.2/.gitignore
+-rw-r--r--   0        0        0     1105 2020-02-02 00:00:00.000000 xtuples-0.0.2/LICENSE.txt
+-rw-r--r--   0        0        0      492 2020-02-02 00:00:00.000000 xtuples-0.0.2/README.md
+-rw-r--r--   0        0        0     3048 2020-02-02 00:00:00.000000 xtuples-0.0.2/pyproject.toml
+-rw-r--r--   0        0        0     1166 2020-02-02 00:00:00.000000 xtuples-0.0.2/PKG-INFO
```

### Comparing `xtuples-0.0.1/src/xtuples/xtuples.py` & `xtuples-0.0.2/src/xtuples/xtuples.py`

 * *Files 1% similar despite different names*

```diff
@@ -65,1575 +65,1582 @@
 00000400: 756e 6b20 696e 2073 7570 6572 2829 2e69  unk in super().i
 00000410: 7465 7265 6e63 6f64 6528 0d0a 2020 2020  terencode(..    
 00000420: 2020 2020 2020 2020 6361 7374 5f6a 736f          cast_jso
 00000430: 6e28 6f29 2c20 2a61 7267 732c 202a 2a6b  n(o), *args, **k
 00000440: 7761 7267 730d 0a20 2020 2020 2020 2029  wargs..        )
 00000450: 3a0d 0a20 2020 2020 2020 2020 2020 2079  :..            y
 00000460: 6965 6c64 2063 6875 6e6b 0d0a 0d0a 2020  ield chunk....  
-00000470: 2020 6465 6620 6d65 7461 5f64 6566 6175    def meta_defau
-00000480: 6c74 2873 656c 662c 206f 626a 293a 0d0a  lt(self, obj):..
-00000490: 2020 2020 2020 2020 7265 7475 726e 206a          return j
-000004a0: 736f 6e2e 4a53 4f4e 456e 636f 6465 722e  son.JSONEncoder.
-000004b0: 6465 6661 756c 7428 7365 6c66 2c20 6f62  default(self, ob
-000004c0: 6a29 0d0a 0d0a 2020 2020 6465 6620 6465  j)....    def de
-000004d0: 6661 756c 7428 7365 6c66 2c20 6f62 6a29  fault(self, obj)
-000004e0: 3a0d 0a20 2020 2020 2020 2069 6620 6973  :..        if is
-000004f0: 696e 7374 616e 6365 286f 626a 2c20 6644  instance(obj, fD
-00000500: 6963 7429 3a0d 0a20 2020 2020 2020 2020  ict):..         
-00000510: 2020 2072 6574 7572 6e20 7365 6c66 2e6d     return self.m
-00000520: 6574 615f 6465 6661 756c 7428 6f62 6a2e  eta_default(obj.
-00000530: 6461 7461 290d 0a20 2020 2020 2020 2072  data)..        r
-00000540: 6574 7572 6e20 6361 7374 5f6a 736f 6e28  eturn cast_json(
-00000550: 6f62 6a2c 2064 6566 6175 6c74 3d73 656c  obj, default=sel
-00000560: 662e 6d65 7461 5f64 6566 6175 6c74 290d  f.meta_default).
-00000570: 0a0d 0a23 202d 2d2d 2d2d 0d0a 0d0a 636c  ...# -----....cl
-00000580: 6173 7320 4a53 4f4e 4465 636f 6465 7228  ass JSONDecoder(
-00000590: 6a73 6f6e 2e4a 534f 4e44 6563 6f64 6572  json.JSONDecoder
-000005a0: 293a 0d0a 0d0a 2020 2020 6465 6620 5f5f  ):....    def __
-000005b0: 696e 6974 5f5f 2873 656c 662c 202a 6172  init__(self, *ar
-000005c0: 6773 2c20 2a2a 6b77 6172 6773 293a 0d0a  gs, **kwargs):..
-000005d0: 2020 2020 2020 2020 6a73 6f6e 2e4a 534f          json.JSO
-000005e0: 4e44 6563 6f64 6572 2e5f 5f69 6e69 745f  NDecoder.__init_
-000005f0: 5f28 0d0a 2020 2020 2020 2020 2020 2020  _(..            
-00000600: 7365 6c66 2c0d 0a20 2020 2020 2020 2020  self,..         
-00000610: 2020 206f 626a 6563 745f 686f 6f6b 3d73     object_hook=s
-00000620: 656c 662e 6f62 6a65 6374 5f68 6f6f 6b2c  elf.object_hook,
-00000630: 0d0a 2020 2020 2020 2020 2020 2020 2a61  ..            *a
-00000640: 7267 732c 0d0a 2020 2020 2020 2020 2020  rgs,..          
-00000650: 2020 2a2a 6b77 6172 6773 0d0a 2020 2020    **kwargs..    
-00000660: 2020 2020 2020 2020 230d 0a20 2020 2020          #..     
-00000670: 2020 2029 0d0a 0d0a 2020 2020 6465 6620     )....    def 
-00000680: 6f62 6a65 6374 5f68 6f6f 6b28 7365 6c66  object_hook(self
-00000690: 2c20 6429 3a0d 0a20 2020 2020 2020 2072  , d):..        r
-000006a0: 6574 7572 6e20 756e 6361 7374 5f6a 736f  eturn uncast_jso
-000006b0: 6e28 6429 0d0a 0d0a 2320 2d2d 2d2d 2d0d  n(d)....# -----.
-000006c0: 0a0d 0a64 6566 2063 6173 745f 6a73 6f6e  ...def cast_json
-000006d0: 286f 626a 2c20 6465 6661 756c 7420 3d20  (obj, default = 
-000006e0: 6c61 6d62 6461 206f 626a 3a20 6f62 6a29  lambda obj: obj)
-000006f0: 3a0d 0a20 2020 2069 6620 6e54 7570 6c65  :..    if nTuple
-00000700: 2e69 735f 696e 7374 616e 6365 286f 626a  .is_instance(obj
-00000710: 293a 0d0a 2020 2020 2020 2020 7265 7475  ):..        retu
-00000720: 726e 206e 5475 706c 652e 6361 7374 5f6a  rn nTuple.cast_j
-00000730: 736f 6e28 6f62 6a29 0d0a 2020 2020 7472  son(obj)..    tr
-00000740: 793a 0d0a 2020 2020 2020 2020 7265 7475  y:..        retu
-00000750: 726e 206f 626a 2e63 6173 745f 6a73 6f6e  rn obj.cast_json
-00000760: 2829 0d0a 2020 2020 6578 6365 7074 3a0d  ()..    except:.
-00000770: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00000780: 6465 6661 756c 7428 6f62 6a29 0d0a 0d0a  default(obj)....
-00000790: 6465 6620 756e 6361 7374 5f6a 736f 6e28  def uncast_json(
-000007a0: 6f62 6a29 3a0d 0a20 2020 2069 6620 6e6f  obj):..    if no
-000007b0: 7420 6973 696e 7374 616e 6365 286f 626a  t isinstance(obj
-000007c0: 2c20 6469 6374 293a 0d0a 2020 2020 2020  , dict):..      
-000007d0: 2020 7265 7475 726e 206f 626a 0d0a 2020    return obj..  
-000007e0: 2020 5f5f 745f 5f20 3d20 6f62 6a2e 6765    __t__ = obj.ge
-000007f0: 7428 225f 5f74 5f5f 222c 204e 6f6e 6529  t("__t__", None)
-00000800: 0d0a 2020 2020 6966 205f 5f74 5f5f 2069  ..    if __t__ i
-00000810: 7320 4e6f 6e65 3a0d 0a20 2020 2020 2020  s None:..       
-00000820: 2072 6574 7572 6e20 6f62 6a0d 0a20 2020   return obj..   
-00000830: 2063 6c73 203d 2069 5475 706c 6520 6966   cls = iTuple if
-00000840: 205f 5f74 5f5f 203d 3d20 2269 5475 706c   __t__ == "iTupl
-00000850: 6522 2065 6c73 6520 5245 4749 5354 5259  e" else REGISTRY
-00000860: 5b5f 5f74 5f5f 5d0d 0a20 2020 2069 6620  [__t__]..    if 
-00000870: 6861 7361 7474 7228 636c 732c 2022 756e  hasattr(cls, "un
-00000880: 6361 7374 5f6a 736f 6e22 293a 0d0a 2020  cast_json"):..  
-00000890: 2020 2020 2020 7265 7475 726e 2063 6c73        return cls
-000008a0: 2e75 6e63 6173 745f 6a73 6f6e 286f 626a  .uncast_json(obj
-000008b0: 290d 0a20 2020 2072 6574 7572 6e20 636c  )..    return cl
-000008c0: 7328 0d0a 2020 2020 2020 2020 2a28 7620  s(..        *(v 
-000008d0: 666f 7220 6b2c 2076 2069 6e20 6f62 6a2e  for k, v in obj.
-000008e0: 6974 656d 7328 2920 6966 206b 2021 3d20  items() if k != 
-000008f0: 225f 5f74 5f5f 2229 0d0a 2020 2020 290d  "__t__")..    ).
-00000900: 0a0d 0a23 202d 2d2d 2d2d 0d0a 0d0a 2320  ...# -----....# 
-00000910: 544f 444f 3a20 6653 7472 696e 6720 736f  TODO: fString so
-00000920: 2063 616e 2064 6f20 2e70 6970 6520 3f0d   can do .pipe ?.
-00000930: 0a64 6566 2074 6f5f 6a73 6f6e 2876 2c20  .def to_json(v, 
-00000940: 2a2a 6b77 6172 6773 293a 0d0a 2020 2020  **kwargs):..    
-00000950: 2222 220d 0a20 2020 203e 3e3e 2070 7269  """..    >>> pri
-00000960: 6e74 2869 5475 706c 6528 5b45 7861 6d70  nt(iTuple([Examp
-00000970: 6c65 2831 2c20 2261 2229 5d29 2e70 6970  le(1, "a")]).pip
-00000980: 6528 746f 5f6a 736f 6e2c 2069 6e64 656e  e(to_json, inden
-00000990: 743d 3229 290d 0a20 2020 207b 0d0a 2020  t=2))..    {..  
-000009a0: 2020 2020 225f 5f74 5f5f 223a 2022 6954      "__t__": "iT
-000009b0: 7570 6c65 222c 0d0a 2020 2020 2020 2264  uple",..      "d
-000009c0: 6174 6122 3a20 5b0d 0a20 2020 2020 2020  ata": [..       
-000009d0: 207b 0d0a 2020 2020 2020 2020 2020 2278   {..          "x
-000009e0: 223a 2031 2c0d 0a20 2020 2020 2020 2020  ": 1,..         
-000009f0: 2022 7322 3a20 2261 222c 0d0a 2020 2020   "s": "a",..    
-00000a00: 2020 2020 2020 2269 7422 3a20 7b0d 0a20        "it": {.. 
-00000a10: 2020 2020 2020 2020 2020 2022 5f5f 745f             "__t_
-00000a20: 5f22 3a20 2269 5475 706c 6522 2c0d 0a20  _": "iTuple",.. 
-00000a30: 2020 2020 2020 2020 2020 2022 6461 7461             "data
-00000a40: 223a 205b 5d0d 0a20 2020 2020 2020 2020  ": []..         
-00000a50: 207d 2c0d 0a20 2020 2020 2020 2020 2022   },..          "
-00000a60: 5f5f 745f 5f22 3a20 2245 7861 6d70 6c65  __t__": "Example
-00000a70: 220d 0a20 2020 2020 2020 207d 0d0a 2020  "..        }..  
-00000a80: 2020 2020 5d0d 0a20 2020 207d 0d0a 2020      ]..    }..  
-00000a90: 2020 3e3e 3e20 7072 696e 7428 6954 7570    >>> print(iTup
-00000aa0: 6c65 285b 0d0a 2020 2020 2e2e 2e20 2020  le([..    ...   
-00000ab0: 2020 6954 7570 6c65 285b 4578 616d 706c    iTuple([Exampl
-00000ac0: 6528 312c 2022 6122 295d 290d 0a20 2020  e(1, "a")])..   
-00000ad0: 202e 2e2e 205d 292e 7069 7065 2874 6f5f   ... ]).pipe(to_
-00000ae0: 6a73 6f6e 2c20 696e 6465 6e74 3d32 2929  json, indent=2))
-00000af0: 0d0a 2020 2020 7b0d 0a20 2020 2020 2022  ..    {..      "
-00000b00: 5f5f 745f 5f22 3a20 2269 5475 706c 6522  __t__": "iTuple"
-00000b10: 2c0d 0a20 2020 2020 2022 6461 7461 223a  ,..      "data":
-00000b20: 205b 0d0a 2020 2020 2020 2020 7b0d 0a20   [..        {.. 
-00000b30: 2020 2020 2020 2020 2022 5f5f 745f 5f22           "__t__"
-00000b40: 3a20 2269 5475 706c 6522 2c0d 0a20 2020  : "iTuple",..   
-00000b50: 2020 2020 2020 2022 6461 7461 223a 205b         "data": [
-00000b60: 0d0a 2020 2020 2020 2020 2020 2020 7b0d  ..            {.
-00000b70: 0a20 2020 2020 2020 2020 2020 2020 2022  .              "
-00000b80: 7822 3a20 312c 0d0a 2020 2020 2020 2020  x": 1,..        
-00000b90: 2020 2020 2020 2273 223a 2022 6122 2c0d        "s": "a",.
-00000ba0: 0a20 2020 2020 2020 2020 2020 2020 2022  .              "
-00000bb0: 6974 223a 207b 0d0a 2020 2020 2020 2020  it": {..        
-00000bc0: 2020 2020 2020 2020 225f 5f74 5f5f 223a          "__t__":
-00000bd0: 2022 6954 7570 6c65 222c 0d0a 2020 2020   "iTuple",..    
-00000be0: 2020 2020 2020 2020 2020 2020 2264 6174              "dat
-00000bf0: 6122 3a20 5b5d 0d0a 2020 2020 2020 2020  a": []..        
-00000c00: 2020 2020 2020 7d2c 0d0a 2020 2020 2020        },..      
-00000c10: 2020 2020 2020 2020 225f 5f74 5f5f 223a          "__t__":
-00000c20: 2022 4578 616d 706c 6522 0d0a 2020 2020   "Example"..    
-00000c30: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-00000c40: 2020 2020 205d 0d0a 2020 2020 2020 2020       ]..        
-00000c50: 7d0d 0a20 2020 2020 205d 0d0a 2020 2020  }..      ]..    
-00000c60: 7d0d 0a20 2020 203e 3e3e 2070 7269 6e74  }..    >>> print
-00000c70: 2845 7861 6d70 6c65 2832 2c20 2262 222c  (Example(2, "b",
-00000c80: 2069 5475 706c 6528 5b0d 0a20 2020 202e   iTuple([..    .
-00000c90: 2e2e 2020 2020 2069 5475 706c 6528 5b45  ..     iTuple([E
-00000ca0: 7861 6d70 6c65 2831 2c20 2261 2229 5d29  xample(1, "a")])
-00000cb0: 0d0a 2020 2020 2e2e 2e20 5d29 292e 7069  ..    ... ])).pi
-00000cc0: 7065 2874 6f5f 6a73 6f6e 2c20 696e 6465  pe(to_json, inde
-00000cd0: 6e74 3d32 2929 0d0a 2020 2020 7b0d 0a20  nt=2))..    {.. 
-00000ce0: 2020 2020 2022 7822 3a20 322c 0d0a 2020       "x": 2,..  
-00000cf0: 2020 2020 2273 223a 2022 6222 2c0d 0a20      "s": "b",.. 
-00000d00: 2020 2020 2022 6974 223a 207b 0d0a 2020       "it": {..  
-00000d10: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
-00000d20: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
-00000d30: 2020 2264 6174 6122 3a20 5b0d 0a20 2020    "data": [..   
-00000d40: 2020 2020 2020 207b 0d0a 2020 2020 2020         {..      
-00000d50: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
-00000d60: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
-00000d70: 2020 2020 2020 2264 6174 6122 3a20 5b0d        "data": [.
-00000d80: 0a20 2020 2020 2020 2020 2020 2020 207b  .              {
-00000d90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00000da0: 2020 2278 223a 2031 2c0d 0a20 2020 2020    "x": 1,..     
-00000db0: 2020 2020 2020 2020 2020 2022 7322 3a20             "s": 
-00000dc0: 2261 222c 0d0a 2020 2020 2020 2020 2020  "a",..          
-00000dd0: 2020 2020 2020 2269 7422 3a20 7b0d 0a20        "it": {.. 
-00000de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000df0: 2022 5f5f 745f 5f22 3a20 2269 5475 706c   "__t__": "iTupl
-00000e00: 6522 2c0d 0a20 2020 2020 2020 2020 2020  e",..           
-00000e10: 2020 2020 2020 2022 6461 7461 223a 205b         "data": [
-00000e20: 5d0d 0a20 2020 2020 2020 2020 2020 2020  ]..             
-00000e30: 2020 207d 2c0d 0a20 2020 2020 2020 2020     },..         
-00000e40: 2020 2020 2020 2022 5f5f 745f 5f22 3a20         "__t__": 
-00000e50: 2245 7861 6d70 6c65 220d 0a20 2020 2020  "Example"..     
-00000e60: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
-00000e70: 2020 2020 2020 2020 5d0d 0a20 2020 2020          ]..     
-00000e80: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
-00000e90: 5d0d 0a20 2020 2020 207d 2c0d 0a20 2020  ]..      },..   
-00000ea0: 2020 2022 5f5f 745f 5f22 3a20 2245 7861     "__t__": "Exa
-00000eb0: 6d70 6c65 220d 0a20 2020 207d 0d0a 2020  mple"..    }..  
-00000ec0: 2020 2222 220d 0a20 2020 2072 6574 7572    """..    retur
-00000ed0: 6e20 6a73 6f6e 2e64 756d 7073 2876 2c20  n json.dumps(v, 
-00000ee0: 636c 733d 4a53 4f4e 456e 636f 6465 722c  cls=JSONEncoder,
-00000ef0: 202a 2a6b 7761 7267 7329 0d0a 0d0a 6465   **kwargs)....de
-00000f00: 6620 6672 6f6d 5f6a 736f 6e28 763a 2073  f from_json(v: s
-00000f10: 7472 2c20 2a2a 6b77 6172 6773 293a 0d0a  tr, **kwargs):..
-00000f20: 2020 2020 2222 220d 0a20 2020 203e 3e3e      """..    >>>
-00000f30: 2065 7820 3d20 6954 7570 6c65 285b 4578   ex = iTuple([Ex
-00000f40: 616d 706c 6528 312c 2022 6122 295d 290d  ample(1, "a")]).
-00000f50: 0a20 2020 203e 3e3e 2066 726f 6d5f 6a73  .    >>> from_js
-00000f60: 6f6e 2865 782e 7069 7065 2874 6f5f 6a73  on(ex.pipe(to_js
-00000f70: 6f6e 2929 0d0a 2020 2020 6954 7570 6c65  on))..    iTuple
-00000f80: 2845 7861 6d70 6c65 2878 3d31 2c20 733d  (Example(x=1, s=
-00000f90: 2761 272c 2069 743d 6954 7570 6c65 2829  'a', it=iTuple()
-00000fa0: 2929 0d0a 2020 2020 3e3e 3e20 6672 6f6d  ))..    >>> from
-00000fb0: 5f6a 736f 6e28 0d0a 2020 2020 2e2e 2e20  _json(..    ... 
-00000fc0: 2020 2020 6954 7570 6c65 285b 6954 7570      iTuple([iTup
-00000fd0: 6c65 285b 4578 616d 706c 6528 312c 2022  le([Example(1, "
-00000fe0: 6122 295d 295d 292e 7069 7065 2874 6f5f  a")])]).pipe(to_
-00000ff0: 6a73 6f6e 290d 0a20 2020 202e 2e2e 2029  json)..    ... )
-00001000: 0d0a 2020 2020 6954 7570 6c65 2869 5475  ..    iTuple(iTu
-00001010: 706c 6528 4578 616d 706c 6528 783d 312c  ple(Example(x=1,
-00001020: 2073 3d27 6127 2c20 6974 3d69 5475 706c   s='a', it=iTupl
-00001030: 6528 2929 2929 0d0a 2020 2020 3e3e 3e20  e())))..    >>> 
-00001040: 6672 6f6d 5f6a 736f 6e28 0d0a 2020 2020  from_json(..    
-00001050: 2e2e 2e20 2020 2020 4578 616d 706c 6528  ...     Example(
-00001060: 322c 2022 6222 2c20 6954 7570 6c65 285b  2, "b", iTuple([
-00001070: 0d0a 2020 2020 2e2e 2e20 2020 2020 2020  ..    ...       
-00001080: 2020 6954 7570 6c65 285b 4578 616d 706c    iTuple([Exampl
-00001090: 6528 312c 2022 6122 295d 290d 0a20 2020  e(1, "a")])..   
-000010a0: 202e 2e2e 2020 2020 205d 2929 2e70 6970   ...     ])).pip
-000010b0: 6528 746f 5f6a 736f 6e29 0d0a 2020 2020  e(to_json)..    
-000010c0: 2e2e 2e20 290d 0a20 2020 2045 7861 6d70  ... )..    Examp
-000010d0: 6c65 2878 3d32 2c20 733d 2762 272c 2069  le(x=2, s='b', i
-000010e0: 743d 6954 7570 6c65 2869 5475 706c 6528  t=iTuple(iTuple(
-000010f0: 4578 616d 706c 6528 783d 312c 2073 3d27  Example(x=1, s='
-00001100: 6127 2c20 6974 3d69 5475 706c 6528 2929  a', it=iTuple())
-00001110: 2929 290d 0a20 2020 2022 2222 0d0a 2020  )))..    """..  
-00001120: 2020 7265 7475 726e 206a 736f 6e2e 6c6f    return json.lo
-00001130: 6164 7328 762c 2063 6c73 3d4a 534f 4e44  ads(v, cls=JSOND
-00001140: 6563 6f64 6572 2c20 2a2a 6b77 6172 6773  ecoder, **kwargs
-00001150: 290d 0a0d 0a64 6566 206c 6f61 645f 6a73  )....def load_js
-00001160: 6f6e 2866 293a 0d0a 2020 2020 7265 7475  on(f):..    retu
-00001170: 726e 206a 736f 6e2e 6c6f 6164 2866 2c20  rn json.load(f, 
-00001180: 636c 733d 4a53 4f4e 4465 636f 6465 7229  cls=JSONDecoder)
-00001190: 0d0a 0d0a 6465 6620 6475 6d70 5f6a 736f  ....def dump_jso
-000011a0: 6e28 662c 2076 293a 0d0a 2020 2020 7265  n(f, v):..    re
-000011b0: 7475 726e 206a 736f 6e2e 6475 6d70 2866  turn json.dump(f
-000011c0: 2c20 762c 2063 6c73 3d4a 534f 4e45 6e63  , v, cls=JSONEnc
-000011d0: 6f64 6572 290d 0a0d 0a23 202d 2d2d 2d2d  oder)....# -----
-000011e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000011f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001200: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001210: 2d2d 2d2d 2d2d 2d2d 2d2d 0d0a 0d0a 2320  ----------....# 
-00001220: 544f 444f 3a20 736f 6d65 206b 696e 6420  TODO: some kind 
-00001230: 6f66 2076 616c 6964 6174 696f 6e20 706c  of validation pl
-00001240: 6163 6568 6f6c 6465 723f 0d0a 2320 6361  aceholder?..# ca
-00001250: 6c6c 6564 2069 6e20 696e 6974 2c20 6567  lled in init, eg
-00001260: 2e20 7175 6172 7465 7220 696e 205b 3120  . quarter in [1 
-00001270: 2e2e 2034 5d0d 0a0d 0a63 6c61 7373 206e  .. 4]....class n
-00001280: 5475 706c 6528 6162 632e 4142 4329 3a0d  Tuple(abc.ABC):.
-00001290: 0a0d 0a20 2020 2040 6162 632e 6162 7374  ...    @abc.abst
-000012a0: 7261 6374 6d65 7468 6f64 0d0a 2020 2020  ractmethod..    
-000012b0: 6465 6620 5f5f 6162 7374 7261 6374 5f5f  def __abstract__
-000012c0: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
-000012d0: 2023 204e 4f54 453a 2068 6572 6520 746f   # NOTE: here to
-000012e0: 2070 7265 7665 6e74 2069 6e69 7469 616c   prevent initial
-000012f0: 6973 6520 696e 7374 616e 6365 7320 6f66  ise instances of
-00001300: 2074 6869 730d 0a20 2020 2020 2020 2023   this..        #
-00001310: 2062 7574 2072 6174 6865 7220 7573 6520   but rather use 
-00001320: 7468 6520 6465 636f 7261 746f 7220 616e  the decorator an
-00001330: 6420 7479 7069 6e67 2e4e 616d 6564 5475  d typing.NamedTu
-00001340: 706c 650d 0a20 2020 2020 2020 2072 6574  ple..        ret
-00001350: 7572 6e0d 0a0d 0a20 2020 2040 7374 6174  urn....    @stat
-00001360: 6963 6d65 7468 6f64 0d0a 2020 2020 6465  icmethod..    de
-00001370: 6620 7069 7065 286f 626a 2c20 662c 202a  f pipe(obj, f, *
-00001380: 6172 6773 2c20 2a2a 6b77 6172 6773 293a  args, **kwargs):
-00001390: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-000013a0: 2066 286f 626a 2c20 2a61 7267 732c 202a   f(obj, *args, *
-000013b0: 2a6b 7761 7267 7329 0d0a 0d0a 2020 2020  *kwargs)....    
-000013c0: 4073 7461 7469 636d 6574 686f 640d 0a20  @staticmethod.. 
-000013d0: 2020 2064 6566 2070 6172 7469 616c 286f     def partial(o
-000013e0: 626a 2c20 662c 202a 6172 6773 2c20 2a2a  bj, f, *args, **
-000013f0: 6b77 6172 6773 293a 0d0a 2020 2020 2020  kwargs):..      
-00001400: 2020 7265 7475 726e 2066 756e 6374 6f6f    return functoo
-00001410: 6c73 2e70 6172 7469 616c 2866 2c20 6f62  ls.partial(f, ob
-00001420: 6a2c 202a 6172 6773 2c20 2a2a 6b77 6172  j, *args, **kwar
-00001430: 6773 290d 0a0d 0a20 2020 2040 636c 6173  gs)....    @clas
-00001440: 736d 6574 686f 640d 0a20 2020 2064 6566  smethod..    def
-00001450: 2069 735f 7375 6263 6c61 7373 2863 6c73   is_subclass(cls
-00001460: 2c20 7429 3a0d 0a20 2020 2020 2020 2022  , t):..        "
-00001470: 2222 0d0a 2020 2020 2020 2020 3e3e 3e20  ""..        >>> 
-00001480: 6e54 7570 6c65 2e69 735f 7375 6263 6c61  nTuple.is_subcla
-00001490: 7373 2874 7570 6c65 290d 0a20 2020 2020  ss(tuple)..     
-000014a0: 2020 2046 616c 7365 0d0a 2020 2020 2020     False..      
-000014b0: 2020 3e3e 3e20 6e54 7570 6c65 2e69 735f    >>> nTuple.is_
-000014c0: 7375 6263 6c61 7373 2845 7861 6d70 6c65  subclass(Example
-000014d0: 2831 2c20 2261 2229 290d 0a20 2020 2020  (1, "a"))..     
-000014e0: 2020 2046 616c 7365 0d0a 2020 2020 2020     False..      
-000014f0: 2020 3e3e 3e20 6e54 7570 6c65 2e69 735f    >>> nTuple.is_
-00001500: 7375 6263 6c61 7373 2845 7861 6d70 6c65  subclass(Example
-00001510: 290d 0a20 2020 2020 2020 2054 7275 650d  )..        True.
-00001520: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00001530: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
-00001540: 2020 2020 2020 2020 6973 5f73 7562 203d          is_sub =
-00001550: 2069 7373 7562 636c 6173 7328 742c 2074   issubclass(t, t
-00001560: 7570 6c65 290d 0a20 2020 2020 2020 2065  uple)..        e
-00001570: 7863 6570 743a 0d0a 2020 2020 2020 2020  xcept:..        
-00001580: 2020 2020 6973 5f73 7562 203d 2046 616c      is_sub = Fal
-00001590: 7365 0d0a 2020 2020 2020 2020 7265 7475  se..        retu
-000015a0: 726e 2028 0d0a 2020 2020 2020 2020 2020  rn (..          
-000015b0: 2020 6973 5f73 7562 2061 6e64 0d0a 2020    is_sub and..  
-000015c0: 2020 2020 2020 2020 2020 6861 7361 7474            hasatt
-000015d0: 7228 742c 2022 636c 7322 2920 616e 640d  r(t, "cls") and.
-000015e0: 0a20 2020 2020 2020 2020 2020 2068 6173  .            has
-000015f0: 6174 7472 2874 2c20 2270 6970 6522 2920  attr(t, "pipe") 
-00001600: 616e 640d 0a20 2020 2020 2020 2020 2020  and..           
-00001610: 2068 6173 6174 7472 2874 2c20 2270 6172   hasattr(t, "par
-00001620: 7469 616c 2229 0d0a 2020 2020 2020 2020  tial")..        
-00001630: 290d 0a0d 0a20 2020 2040 636c 6173 736d  )....    @classm
-00001640: 6574 686f 640d 0a20 2020 2064 6566 2069  ethod..    def i
-00001650: 735f 696e 7374 616e 6365 2863 6c73 2c20  s_instance(cls, 
-00001660: 6f62 6a29 3a0d 0a20 2020 2020 2020 2022  obj):..        "
-00001670: 2222 0d0a 2020 2020 2020 2020 3e3e 3e20  ""..        >>> 
-00001680: 6e54 7570 6c65 2e69 735f 696e 7374 616e  nTuple.is_instan
-00001690: 6365 2874 7570 6c65 290d 0a20 2020 2020  ce(tuple)..     
-000016a0: 2020 2046 616c 7365 0d0a 2020 2020 2020     False..      
-000016b0: 2020 3e3e 3e20 6e54 7570 6c65 2e69 735f    >>> nTuple.is_
-000016c0: 696e 7374 616e 6365 2845 7861 6d70 6c65  instance(Example
-000016d0: 290d 0a20 2020 2020 2020 2046 616c 7365  )..        False
-000016e0: 0d0a 2020 2020 2020 2020 3e3e 3e20 6e54  ..        >>> nT
-000016f0: 7570 6c65 2e69 735f 696e 7374 616e 6365  uple.is_instance
-00001700: 2845 7861 6d70 6c65 2831 2c20 2261 2229  (Example(1, "a")
-00001710: 290d 0a20 2020 2020 2020 2054 7275 650d  )..        True.
-00001720: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00001730: 2020 2020 2020 7265 7475 726e 2028 0d0a        return (..
-00001740: 2020 2020 2020 2020 2020 2020 636c 732e              cls.
-00001750: 6973 5f73 7562 636c 6173 7328 7479 7065  is_subclass(type
-00001760: 286f 626a 2929 2061 6e64 0d0a 2020 2020  (obj)) and..    
-00001770: 2020 2020 2020 2020 6861 7361 7474 7228          hasattr(
-00001780: 6f62 6a2c 2027 5f61 7364 6963 7427 2920  obj, '_asdict') 
-00001790: 616e 640d 0a20 2020 2020 2020 2020 2020  and..           
-000017a0: 2068 6173 6174 7472 286f 626a 2c20 275f   hasattr(obj, '_
-000017b0: 6669 656c 6473 2729 0d0a 2020 2020 2020  fields')..      
-000017c0: 2020 290d 0a0d 0a0d 0a20 2020 2040 7374    )......    @st
-000017d0: 6174 6963 6d65 7468 6f64 0d0a 2020 2020  aticmethod..    
-000017e0: 6465 6620 616e 6e6f 7461 7469 6f6e 7328  def annotations(
-000017f0: 6f62 6a29 3a0d 0a20 2020 2020 2020 2022  obj):..        "
-00001800: 2222 0d0a 2020 2020 2020 2020 3e3e 3e20  ""..        >>> 
-00001810: 6578 203d 2045 7861 6d70 6c65 2831 2c20  ex = Example(1, 
-00001820: 2261 2229 0d0a 2020 2020 2020 2020 3e3e  "a")..        >>
-00001830: 3e20 6578 2e70 6970 6528 6578 2e63 6c73  > ex.pipe(ex.cls
-00001840: 2e61 6e6e 6f74 6174 696f 6e73 290d 0a20  .annotations).. 
-00001850: 2020 2020 2020 207b 2778 273a 203c 636c         {'x': <cl
-00001860: 6173 7320 2769 6e74 273e 2c20 2773 273a  ass 'int'>, 's':
-00001870: 203c 636c 6173 7320 2773 7472 273e 2c20   <class 'str'>, 
-00001880: 2769 7427 3a20 3c63 6c61 7373 2027 7874  'it': <class 'xt
-00001890: 7570 6c65 732e 7874 7570 6c65 732e 6954  uples.xtuples.iT
-000018a0: 7570 6c65 273e 7d0d 0a20 2020 2020 2020  uple'>}..       
-000018b0: 2022 2222 0d0a 2020 2020 2020 2020 7265   """..        re
-000018c0: 7475 726e 2066 4469 6374 286f 626a 2e5f  turn fDict(obj._
-000018d0: 5f61 6e6e 6f74 6174 696f 6e73 5f5f 290d  _annotations__).
-000018e0: 0a0d 0a20 2020 2040 636c 6173 736d 6574  ...    @classmet
-000018f0: 686f 640d 0a20 2020 2064 6566 2061 735f  hod..    def as_
-00001900: 6469 6374 2863 6c73 2c20 6f62 6a29 3a0d  dict(cls, obj):.
-00001910: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00001920: 2020 2020 2020 3e3e 3e20 6578 203d 2045        >>> ex = E
-00001930: 7861 6d70 6c65 2831 2c20 2261 2229 0d0a  xample(1, "a")..
-00001940: 2020 2020 2020 2020 3e3e 3e20 6578 2e70          >>> ex.p
-00001950: 6970 6528 6578 2e63 6c73 2e61 735f 6469  ipe(ex.cls.as_di
-00001960: 6374 290d 0a20 2020 2020 2020 207b 2778  ct)..        {'x
-00001970: 273a 2031 2c20 2773 273a 2027 6127 2c20  ': 1, 's': 'a', 
-00001980: 2769 7427 3a20 6954 7570 6c65 2829 7d0d  'it': iTuple()}.
-00001990: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-000019a0: 2020 2020 2020 7265 7475 726e 2066 4469        return fDi
-000019b0: 6374 286f 626a 2e5f 6173 6469 6374 2829  ct(obj._asdict()
-000019c0: 290d 0a0d 0a20 2020 2040 636c 6173 736d  )....    @classm
-000019d0: 6574 686f 640d 0a20 2020 2064 6566 2063  ethod..    def c
-000019e0: 6173 745f 6a73 6f6e 2863 6c73 2c20 6f62  ast_json(cls, ob
-000019f0: 6a29 3a0d 0a20 2020 2020 2020 2022 2222  j):..        """
-00001a00: 0d0a 2020 2020 2020 2020 3e3e 3e20 6578  ..        >>> ex
-00001a10: 203d 2045 7861 6d70 6c65 2831 2c20 2261   = Example(1, "a
-00001a20: 2229 0d0a 2020 2020 2020 2020 3e3e 3e20  ")..        >>> 
-00001a30: 6578 2e70 6970 6528 6578 2e63 6c73 2e63  ex.pipe(ex.cls.c
-00001a40: 6173 745f 6a73 6f6e 290d 0a20 2020 2020  ast_json)..     
-00001a50: 2020 207b 2778 273a 2031 2c20 2773 273a     {'x': 1, 's':
-00001a60: 2027 6127 2c20 2769 7427 3a20 7b27 5f5f   'a', 'it': {'__
-00001a70: 745f 5f27 3a20 2769 5475 706c 6527 2c20  t__': 'iTuple', 
-00001a80: 2764 6174 6127 3a20 5b5d 7d2c 2027 5f5f  'data': []}, '__
-00001a90: 745f 5f27 3a20 2745 7861 6d70 6c65 277d  t__': 'Example'}
-00001aa0: 0d0a 2020 2020 2020 2020 2222 220d 0a20  ..        """.. 
-00001ab0: 2020 2020 2020 2064 203d 207b 0d0a 2020         d = {..  
-00001ac0: 2020 2020 2020 2020 2020 6b3a 2063 6173            k: cas
-00001ad0: 745f 6a73 6f6e 2876 290d 0a20 2020 2020  t_json(v)..     
-00001ae0: 2020 2020 2020 2066 6f72 206b 2c20 7620         for k, v 
-00001af0: 696e 206f 626a 2e5f 6173 6469 6374 2829  in obj._asdict()
-00001b00: 2e69 7465 6d73 2829 0d0a 2020 2020 2020  .items()..      
-00001b10: 2020 2020 2020 230d 0a20 2020 2020 2020        #..       
-00001b20: 207d 0d0a 2020 2020 2020 2020 645b 225f   }..        d["_
-00001b30: 5f74 5f5f 225d 203d 2074 7970 6528 6f62  _t__"] = type(ob
-00001b40: 6a29 2e5f 5f6e 616d 655f 5f0d 0a20 2020  j).__name__..   
-00001b50: 2020 2020 2072 6574 7572 6e20 640d 0a0d       return d...
-00001b60: 0a20 2020 2040 636c 6173 736d 6574 686f  .    @classmetho
-00001b70: 640d 0a20 2020 2064 6566 2075 6e63 6173  d..    def uncas
-00001b80: 745f 6a73 6f6e 286d 6574 612c 206f 626a  t_json(meta, obj
-00001b90: 293a 0d0a 2020 2020 2020 2020 2222 220d  ):..        """.
-00001ba0: 0a20 2020 2020 2020 203e 3e3e 2065 7820  .        >>> ex 
-00001bb0: 3d20 4578 616d 706c 6528 312c 2022 6122  = Example(1, "a"
-00001bc0: 290d 0a20 2020 2020 2020 203e 3e3e 2065  )..        >>> e
-00001bd0: 782e 636c 732e 756e 6361 7374 5f6a 736f  x.cls.uncast_jso
-00001be0: 6e28 6578 2e70 6970 6528 6578 2e63 6c73  n(ex.pipe(ex.cls
-00001bf0: 2e63 6173 745f 6a73 6f6e 2929 0d0a 2020  .cast_json))..  
-00001c00: 2020 2020 2020 4578 616d 706c 6528 783d        Example(x=
-00001c10: 312c 2073 3d27 6127 2c20 6974 3d69 5475  1, s='a', it=iTu
-00001c20: 706c 6528 2929 0d0a 2020 2020 2020 2020  ple())..        
-00001c30: 2222 220d 0a20 2020 2020 2020 2063 6c73  """..        cls
-00001c40: 203d 2052 4547 4953 5452 595b 6f62 6a5b   = REGISTRY[obj[
-00001c50: 225f 5f74 5f5f 225d 5d0d 0a20 2020 2020  "__t__"]]..     
-00001c60: 2020 2072 6574 7572 6e20 636c 7328 0d0a     return cls(..
-00001c70: 2020 2020 2020 2020 2020 2020 2a28 0d0a              *(..
-00001c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c90: 756e 6361 7374 5f6a 736f 6e28 7629 0d0a  uncast_json(v)..
-00001ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001cb0: 666f 7220 6b2c 2076 2069 6e20 6f62 6a2e  for k, v in obj.
-00001cc0: 6974 656d 7328 2920 6966 206b 2021 3d20  items() if k != 
-00001cd0: 225f 5f74 5f5f 220d 0a20 2020 2020 2020  "__t__"..       
-00001ce0: 2020 2020 2029 0d0a 2020 2020 2020 2020       )..        
-00001cf0: 290d 0a0d 0a20 2020 2040 636c 6173 736d  )....    @classm
-00001d00: 6574 686f 640d 0a20 2020 2064 6566 2064  ethod..    def d
-00001d10: 6563 6f72 6174 6528 6d65 7461 2c20 636c  ecorate(meta, cl
-00001d20: 7329 3a0d 0a20 2020 2020 2020 2061 7373  s):..        ass
-00001d30: 6572 7420 636c 732e 5f5f 6e61 6d65 5f5f  ert cls.__name__
-00001d40: 206e 6f74 2069 6e20 5245 4749 5354 5259   not in REGISTRY
-00001d50: 0d0a 2020 2020 2020 2020 636c 732e 7069  ..        cls.pi
-00001d60: 7065 203d 206d 6574 612e 7069 7065 0d0a  pe = meta.pipe..
-00001d70: 2020 2020 2020 2020 636c 732e 7061 7274          cls.part
-00001d80: 6961 6c20 3d20 6d65 7461 2e70 6172 7469  ial = meta.parti
-00001d90: 616c 0d0a 2020 2020 2020 2020 636c 732e  al..        cls.
-00001da0: 636c 7320 3d20 6d65 7461 0d0a 2020 2020  cls = meta..    
-00001db0: 2020 2020 5245 4749 5354 5259 5b63 6c73      REGISTRY[cls
-00001dc0: 2e5f 5f6e 616d 655f 5f5d 203d 2063 6c73  .__name__] = cls
-00001dd0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00001de0: 2063 6c73 0d0a 0d0a 2320 2d2d 2d2d 2d2d   cls....# ------
-00001df0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001e00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001e10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001e20: 2d2d 2d2d 2d2d 2d2d 2d0d 0a0d 0a63 6c61  ---------....cla
-00001e30: 7373 2066 4469 6374 2863 6f6c 6c65 6374  ss fDict(collect
-00001e40: 696f 6e73 2e55 7365 7244 6963 7429 3a0d  ions.UserDict):.
-00001e50: 0a20 2020 205f 5f73 6c6f 7473 5f5f 203d  .    __slots__ =
-00001e60: 2028 290d 0a0d 0a20 2020 2064 6174 613a   ()....    data:
-00001e70: 2064 6963 740d 0a0d 0a20 2020 2064 6566   dict....    def
-00001e80: 2070 6970 6528 7365 6c66 2c20 662c 202a   pipe(self, f, *
-00001e90: 6172 6773 2c20 2a2a 6b77 6172 6773 293a  args, **kwargs):
-00001ea0: 0d0a 2020 2020 2020 2020 2222 220d 0a20  ..        """.. 
-00001eb0: 2020 2020 2020 203e 3e3e 2066 4469 6374         >>> fDict
-00001ec0: 287b 303a 2031 7d29 2e70 6970 6528 6c61  ({0: 1}).pipe(la
-00001ed0: 6d62 6461 2064 3a20 642e 6d61 705f 7661  mbda d: d.map_va
-00001ee0: 6c75 6573 280d 0a20 2020 2020 2020 202e  lues(..        .
-00001ef0: 2e2e 2020 2020 206c 616d 6264 6120 763a  ..     lambda v:
-00001f00: 2076 202b 2031 0d0a 2020 2020 2020 2020   v + 1..        
-00001f10: 2e2e 2e20 2929 0d0a 2020 2020 2020 2020  ... ))..        
-00001f20: 7b30 3a20 327d 0d0a 2020 2020 2020 2020  {0: 2}..        
-00001f30: 2222 220d 0a20 2020 2020 2020 2072 6573  """..        res
-00001f40: 203d 2066 2873 656c 662c 202a 6172 6773   = f(self, *args
-00001f50: 2c20 2a2a 6b77 6172 6773 290d 0a20 2020  , **kwargs)..   
-00001f60: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-00001f70: 6365 2872 6573 2c20 6469 6374 293a 0d0a  ce(res, dict):..
-00001f80: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00001f90: 726e 2066 4469 6374 2872 6573 290d 0a20  rn fDict(res).. 
-00001fa0: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
-00001fb0: 730d 0a0d 0a20 2020 2064 6566 2070 6172  s....    def par
-00001fc0: 7469 616c 2873 656c 662c 2066 2c20 2a61  tial(self, f, *a
-00001fd0: 7267 732c 202a 2a6b 7761 7267 7329 3a0d  rgs, **kwargs):.
-00001fe0: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00001ff0: 2020 2020 2020 3e3e 3e20 6620 3d20 6644        >>> f = fD
-00002000: 6963 7428 7b30 3a20 317d 292e 7061 7274  ict({0: 1}).part
-00002010: 6961 6c28 0d0a 2020 2020 2020 2020 2e2e  ial(..        ..
-00002020: 2e20 2020 2020 6c61 6d62 6461 2064 2c20  .     lambda d, 
-00002030: 6e3a 2064 2e6d 6170 5f76 616c 7565 7328  n: d.map_values(
-00002040: 6c61 6d62 6461 2076 3a20 7620 2b20 6e29  lambda v: v + n)
-00002050: 0d0a 2020 2020 2020 2020 2e2e 2e20 290d  ..        ... ).
-00002060: 0a20 2020 2020 2020 203e 3e3e 2066 2831  .        >>> f(1
-00002070: 290d 0a20 2020 2020 2020 207b 303a 2032  )..        {0: 2
-00002080: 7d0d 0a20 2020 2020 2020 203e 3e3e 2066  }..        >>> f
-00002090: 2832 290d 0a20 2020 2020 2020 207b 303a  (2)..        {0:
-000020a0: 2033 7d0d 0a20 2020 2020 2020 2022 2222   3}..        """
-000020b0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-000020c0: 2066 756e 6374 6f6f 6c73 2e70 6172 7469   functools.parti
-000020d0: 616c 2866 2c20 7365 6c66 2c20 2a61 7267  al(f, self, *arg
-000020e0: 732c 202a 2a6b 7761 7267 7329 0d0a 0d0a  s, **kwargs)....
-000020f0: 2020 2020 6465 6620 6b65 7973 5f74 7570      def keys_tup
-00002100: 6c65 2873 656c 6629 3a0d 0a20 2020 2020  le(self):..     
-00002110: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
-00002120: 3e3e 3e20 6644 6963 7428 7b30 3a20 317d  >>> fDict({0: 1}
-00002130: 292e 6b65 7973 5f74 7570 6c65 2829 0d0a  ).keys_tuple()..
-00002140: 2020 2020 2020 2020 6954 7570 6c65 2830          iTuple(0
-00002150: 290d 0a20 2020 2020 2020 2022 2222 0d0a  )..        """..
-00002160: 2020 2020 2020 2020 7265 7475 726e 2069          return i
-00002170: 5475 706c 652e 6672 6f6d 5f6b 6579 7328  Tuple.from_keys(
-00002180: 7365 6c66 290d 0a0d 0a20 2020 2064 6566  self)....    def
-00002190: 2076 616c 7565 735f 7475 706c 6528 7365   values_tuple(se
-000021a0: 6c66 293a 0d0a 2020 2020 2020 2020 2222  lf):..        ""
-000021b0: 220d 0a20 2020 2020 2020 203e 3e3e 2066  "..        >>> f
-000021c0: 4469 6374 287b 303a 2031 7d29 2e76 616c  Dict({0: 1}).val
-000021d0: 7565 735f 7475 706c 6528 290d 0a20 2020  ues_tuple()..   
-000021e0: 2020 2020 2069 5475 706c 6528 3129 0d0a       iTuple(1)..
-000021f0: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
-00002200: 2020 2020 2072 6574 7572 6e20 6954 7570       return iTup
-00002210: 6c65 2e66 726f 6d5f 7661 6c75 6573 2873  le.from_values(s
-00002220: 656c 6629 0d0a 2020 2020 0d0a 2020 2020  elf)..    ..    
-00002230: 6465 6620 6974 656d 735f 7475 706c 6528  def items_tuple(
-00002240: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
-00002250: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
-00002260: 2066 4469 6374 287b 303a 2031 7d29 2e69   fDict({0: 1}).i
-00002270: 7465 6d73 5f74 7570 6c65 2829 0d0a 2020  tems_tuple()..  
-00002280: 2020 2020 2020 6954 7570 6c65 2828 302c        iTuple((0,
-00002290: 2031 2929 0d0a 2020 2020 2020 2020 2222   1))..        ""
-000022a0: 220d 0a20 2020 2020 2020 2072 6574 7572  "..        retur
-000022b0: 6e20 6954 7570 6c65 2e66 726f 6d5f 6974  n iTuple.from_it
-000022c0: 656d 7328 7365 6c66 290d 0a0d 0a20 2020  ems(self)....   
-000022d0: 2023 204e 4f54 453a 2077 6520 6861 7665   # NOTE: we have
-000022e0: 2073 6570 6172 6174 6520 6d61 7020 696d   separate map im
-000022f0: 706c 656d 656e 7461 7469 6f6e 7320 0d0a  plementations ..
-00002300: 2020 2020 2320 6173 2074 6865 7920 6172      # as they ar
-00002310: 6520 636f 6e73 7461 6e74 2073 697a 652c  e constant size,
-00002320: 2064 6963 7420 746f 2064 6963 740d 0a20   dict to dict.. 
-00002330: 2020 2023 206f 7468 6572 2069 7465 7261     # other itera
-00002340: 746f 7220 6675 6e63 7469 6f6e 7320 7368  tor functions sh
-00002350: 6f75 6c64 2075 7365 2069 5475 706c 6520  ould use iTuple 
-00002360: 2866 726f 6d20 7468 6520 6162 6f76 6529  (from the above)
-00002370: 0d0a 0d0a 2020 2020 6465 6620 6d61 705f  ....    def map_
-00002380: 6b65 7973 2873 656c 662c 2066 2c20 2a61  keys(self, f, *a
-00002390: 7267 732c 202a 2a6b 7761 7267 7329 3a0d  rgs, **kwargs):.
-000023a0: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-000023b0: 2020 2020 2020 3e3e 3e20 6644 6963 7428        >>> fDict(
-000023c0: 7b30 3a20 317d 292e 6d61 705f 6b65 7973  {0: 1}).map_keys
-000023d0: 286c 616d 6264 6120 763a 2076 202b 2031  (lambda v: v + 1
-000023e0: 290d 0a20 2020 2020 2020 207b 313a 2031  )..        {1: 1
-000023f0: 7d0d 0a20 2020 2020 2020 2022 2222 0d0a  }..        """..
-00002400: 2020 2020 2020 2020 7265 7475 726e 2066          return f
-00002410: 4469 6374 280d 0a20 2020 2020 2020 2020  Dict(..         
-00002420: 2020 2028 6628 6b2c 202a 6172 6773 2c20     (f(k, *args, 
-00002430: 2a2a 6b77 6172 6773 292c 2076 2920 666f  **kwargs), v) fo
-00002440: 7220 6b2c 2076 2069 6e20 7365 6c66 2e69  r k, v in self.i
-00002450: 7465 6d73 2829 0d0a 2020 2020 2020 2020  tems()..        
-00002460: 290d 0a0d 0a20 2020 2064 6566 206d 6170  )....    def map
-00002470: 5f76 616c 7565 7328 7365 6c66 2c20 662c  _values(self, f,
-00002480: 202a 6172 6773 2c20 2a2a 6b77 6172 6773   *args, **kwargs
-00002490: 293a 0d0a 2020 2020 2020 2020 2222 220d  ):..        """.
-000024a0: 0a20 2020 2020 2020 203e 3e3e 2066 4469  .        >>> fDi
-000024b0: 6374 287b 303a 2031 7d29 2e6d 6170 5f76  ct({0: 1}).map_v
-000024c0: 616c 7565 7328 6c61 6d62 6461 2076 3a20  alues(lambda v: 
-000024d0: 7620 2b20 3129 0d0a 2020 2020 2020 2020  v + 1)..        
-000024e0: 7b30 3a20 327d 0d0a 2020 2020 2020 2020  {0: 2}..        
-000024f0: 2222 220d 0a20 2020 2020 2020 2072 6574  """..        ret
-00002500: 7572 6e20 6644 6963 7428 0d0a 2020 2020  urn fDict(..    
-00002510: 2020 2020 2020 2020 286b 2c20 6628 762c          (k, f(v,
-00002520: 202a 6172 6773 2c20 2a2a 6b77 6172 6773   *args, **kwargs
-00002530: 2929 2066 6f72 206b 2c20 7620 696e 2073  )) for k, v in s
-00002540: 656c 662e 6974 656d 7328 290d 0a20 2020  elf.items()..   
-00002550: 2020 2020 2029 0d0a 0d0a 2020 2020 6465       )....    de
-00002560: 6620 6d61 705f 6974 656d 7328 7365 6c66  f map_items(self
-00002570: 2c20 662c 202a 6172 6773 2c20 2a2a 6b77  , f, *args, **kw
-00002580: 6172 6773 293a 0d0a 2020 2020 2020 2020  args):..        
-00002590: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
-000025a0: 2066 4469 6374 287b 303a 2031 7d29 2e6d   fDict({0: 1}).m
-000025b0: 6170 5f69 7465 6d73 286c 616d 6264 6120  ap_items(lambda 
-000025c0: 6b2c 2076 3a20 2876 2c20 6b29 290d 0a20  k, v: (v, k)).. 
-000025d0: 2020 2020 2020 207b 313a 2030 7d0d 0a20         {1: 0}.. 
-000025e0: 2020 2020 2020 2022 2222 0d0a 2020 2020         """..    
-000025f0: 2020 2020 7265 7475 726e 2066 4469 6374      return fDict
-00002600: 280d 0a20 2020 2020 2020 2020 2020 2066  (..            f
-00002610: 286b 2c20 762c 202a 6172 6773 2c20 2a2a  (k, v, *args, **
-00002620: 6b77 6172 6773 2920 666f 7220 6b2c 2076  kwargs) for k, v
-00002630: 2069 6e20 7365 6c66 2e69 7465 6d73 2829   in self.items()
-00002640: 0d0a 2020 2020 2020 2020 290d 0a0d 0a20  ..        ).... 
-00002650: 2020 2064 6566 2069 6e76 6572 7428 7365     def invert(se
-00002660: 6c66 293a 0d0a 2020 2020 2020 2020 2222  lf):..        ""
-00002670: 220d 0a20 2020 2020 2020 203e 3e3e 2066  "..        >>> f
-00002680: 4469 6374 287b 303a 2031 7d29 2e69 6e76  Dict({0: 1}).inv
-00002690: 6572 7428 290d 0a20 2020 2020 2020 207b  ert()..        {
-000026a0: 313a 2030 7d0d 0a20 2020 2020 2020 2022  1: 0}..        "
-000026b0: 2222 0d0a 2020 2020 2020 2020 7265 7475  ""..        retu
-000026c0: 726e 2066 4469 6374 2828 762c 206b 2920  rn fDict((v, k) 
-000026d0: 666f 7220 6b2c 2076 2069 6e20 7365 6c66  for k, v in self
-000026e0: 2e69 7465 6d73 2829 290d 0a0d 0a23 202d  .items())....# -
-000026f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002700: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002710: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002720: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0d0a  --------------..
-00002730: 0d0a 4064 6174 6163 6c61 7373 6573 2e64  ..@dataclasses.d
-00002740: 6174 6163 6c61 7373 2869 6e69 7420 3d20  ataclass(init = 
-00002750: 4661 6c73 652c 2072 6570 723d 5472 7565  False, repr=True
-00002760: 290d 0a63 6c61 7373 2069 5475 706c 6528  )..class iTuple(
-00002770: 636f 6c6c 6563 7469 6f6e 732e 5573 6572  collections.User
-00002780: 4c69 7374 2c20 7475 706c 6529 3a20 2320  List, tuple): # 
-00002790: 7479 7065 3a20 6967 6e6f 7265 0d0a 2020  type: ignore..  
-000027a0: 2020 5f5f 736c 6f74 735f 5f20 3d20 2829    __slots__ = ()
-000027b0: 0d0a 0d0a 2020 2020 6461 7461 3a20 7475  ....    data: tu
-000027c0: 706c 6520 2320 7479 7065 3a20 6967 6e6f  ple # type: igno
-000027d0: 7265 0d0a 0d0a 2020 2020 2320 2d2d 2d2d  re....    # ----
-000027e0: 2d0d 0a0d 0a20 2020 2040 7374 6174 6963  -....    @static
-000027f0: 6d65 7468 6f64 0d0a 2020 2020 6465 6620  method..    def 
-00002800: 5f5f 6e65 775f 5f28 636c 732c 2064 6174  __new__(cls, dat
-00002810: 6120 3d20 4e6f 6e65 293a 0d0a 2020 2020  a = None):..    
-00002820: 2020 2020 2320 4e4f 5445 3a20 7765 2075      # NOTE: we u
-00002830: 7365 2063 6c73 206e 6f74 2061 7272 6179  se cls not array
-00002840: 0d0a 2020 2020 2020 2020 2320 736f 2073  ..        # so s
-00002850: 7562 2d63 6c61 7373 696e 6720 2a64 6f65  ub-classing *doe
-00002860: 732a 2063 6861 6e67 6520 6964 656e 7469  s* change identi
-00002870: 7479 0d0a 2020 2020 2020 2020 6966 2069  ty..        if i
-00002880: 7369 6e73 7461 6e63 6528 6461 7461 2c20  sinstance(data, 
-00002890: 636c 7329 3a0d 0a20 2020 2020 2020 2020  cls):..         
-000028a0: 2020 2072 6574 7572 6e20 6461 7461 0d0a     return data..
-000028b0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-000028c0: 7570 6572 2829 2e5f 5f6e 6577 5f5f 2863  uper().__new__(c
-000028d0: 6c73 2c20 6461 7461 3d64 6174 6129 0d0a  ls, data=data)..
-000028e0: 0d0a 2020 2020 4073 7461 7469 636d 6574  ..    @staticmet
-000028f0: 686f 640d 0a20 2020 2064 6566 2077 7261  hod..    def wra
-00002900: 705f 7475 706c 6528 6461 7461 293a 0d0a  p_tuple(data):..
-00002910: 2020 2020 2020 2020 7265 7475 726e 2064          return d
-00002920: 6174 6120 6966 2069 7369 6e73 7461 6e63  ata if isinstanc
-00002930: 6528 6461 7461 2c20 7475 706c 6529 2065  e(data, tuple) e
-00002940: 6c73 6520 7475 706c 6528 6461 7461 290d  lse tuple(data).
-00002950: 0a20 2020 200d 0a20 2020 2064 6566 205f  .    ..    def _
-00002960: 5f69 6e69 745f 5f28 7365 6c66 2c20 6461  _init__(self, da
-00002970: 7461 203d 204e 6f6e 6529 3a0d 0a20 2020  ta = None):..   
-00002980: 2020 2020 2023 2054 4f44 4f3a 206f 7074       # TODO: opt
-00002990: 696f 6e20 666f 7220 6c61 7a79 2069 6e69  ion for lazy ini
-000029a0: 743f 0d0a 2020 2020 2020 2020 7365 6c66  t?..        self
-000029b0: 2e64 6174 6120 3d20 280d 0a20 2020 2020  .data = (..     
-000029c0: 2020 2020 2020 2074 7570 6c65 2829 2069         tuple() i
-000029d0: 6620 6461 7461 2069 7320 4e6f 6e65 0d0a  f data is None..
-000029e0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000029f0: 2073 656c 662e 7772 6170 5f74 7570 6c65   self.wrap_tuple
-00002a00: 2864 6174 6129 0d0a 2020 2020 2020 2020  (data)..        
-00002a10: 290d 0a0d 0a20 2020 2064 6566 205f 5f72  )....    def __r
-00002a20: 6570 725f 5f28 7365 6c66 293a 0d0a 2020  epr__(self):..  
-00002a30: 2020 2020 2020 7320 3d20 7375 7065 7228        s = super(
-00002a40: 292e 5f5f 7265 7072 5f5f 2829 0d0a 2020  ).__repr__()..  
-00002a50: 2020 2020 2020 7265 7475 726e 2022 7b7d        return "{}
-00002a60: 287b 7d29 222e 666f 726d 6174 280d 0a20  ({})".format(.. 
-00002a70: 2020 2020 2020 2020 2020 2074 7970 6528             type(
-00002a80: 7365 6c66 292e 5f5f 6e61 6d65 5f5f 2c0d  self).__name__,.
-00002a90: 0a20 2020 2020 2020 2020 2020 2073 5b31  .            s[1
-00002aa0: 3a2d 3220 6966 2073 5b2d 325d 203d 3d20  :-2 if s[-2] == 
-00002ab0: 222c 2220 656c 7365 202d 315d 2c0d 0a20  "," else -1],.. 
-00002ac0: 2020 2020 2020 2029 0d0a 0d0a 2020 2020         )....    
-00002ad0: 6465 6620 5f5f 6861 7368 5f5f 2873 656c  def __hash__(sel
-00002ae0: 6629 3a0d 0a20 2020 2020 2020 2072 6574  f):..        ret
-00002af0: 7572 6e20 6861 7368 2873 656c 662e 6461  urn hash(self.da
-00002b00: 7461 290d 0a0d 0a20 2020 2040 636c 6173  ta)....    @clas
-00002b10: 736d 6574 686f 640d 0a20 2020 2064 6566  smethod..    def
-00002b20: 2064 6563 6f72 6174 6528 6d65 7461 2c20   decorate(meta, 
-00002b30: 636c 7329 3a0d 0a20 2020 2020 2020 2061  cls):..        a
-00002b40: 7373 6572 7420 636c 732e 5f5f 6e61 6d65  ssert cls.__name
-00002b50: 5f5f 206e 6f74 2069 6e20 5245 4749 5354  __ not in REGIST
-00002b60: 5259 0d0a 2020 2020 2020 2020 5245 4749  RY..        REGI
-00002b70: 5354 5259 5b63 6c73 2e5f 5f6e 616d 655f  STRY[cls.__name_
-00002b80: 5f5d 203d 2063 6c73 0d0a 2020 2020 2020  _] = cls..      
-00002b90: 2020 7265 7475 726e 2063 6c73 0d0a 0d0a    return cls....
-00002ba0: 2020 2020 2320 2d2d 2d2d 2d0d 0a0d 0a20      # -----.... 
-00002bb0: 2020 2064 6566 2063 6173 745f 6a73 6f6e     def cast_json
-00002bc0: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
-00002bd0: 2022 2222 0d0a 2020 2020 2020 2020 3e3e   """..        >>
-00002be0: 3e20 6954 7570 6c65 2e72 616e 6765 2831  > iTuple.range(1
-00002bf0: 292e 6361 7374 5f6a 736f 6e28 290d 0a20  ).cast_json().. 
-00002c00: 2020 2020 2020 207b 275f 5f74 5f5f 273a         {'__t__':
-00002c10: 2027 6954 7570 6c65 272c 2027 6461 7461   'iTuple', 'data
-00002c20: 273a 205b 305d 7d0d 0a20 2020 2020 2020  ': [0]}..       
-00002c30: 2022 2222 0d0a 2020 2020 2020 2020 7265   """..        re
-00002c40: 7475 726e 2064 6963 7428 0d0a 2020 2020  turn dict(..    
-00002c50: 2020 2020 2020 2020 5f5f 745f 5f20 3d20          __t__ = 
-00002c60: 7479 7065 2873 656c 6629 2e5f 5f6e 616d  type(self).__nam
-00002c70: 655f 5f2c 0d0a 2020 2020 2020 2020 2020  e__,..          
-00002c80: 2020 6461 7461 203d 206c 6973 7428 7365    data = list(se
-00002c90: 6c66 2e6d 6170 2863 6173 745f 6a73 6f6e  lf.map(cast_json
-00002ca0: 2929 2c0d 0a20 2020 2020 2020 2029 0d0a  )),..        )..
-00002cb0: 0d0a 2020 2020 4063 6c61 7373 6d65 7468  ..    @classmeth
-00002cc0: 6f64 0d0a 2020 2020 6465 6620 756e 6361  od..    def unca
-00002cd0: 7374 5f6a 736f 6e28 636c 732c 206f 626a  st_json(cls, obj
-00002ce0: 293a 0d0a 2020 2020 2020 2020 2222 220d  ):..        """.
-00002cf0: 0a20 2020 2020 2020 203e 3e3e 2069 5475  .        >>> iTu
-00002d00: 706c 652e 756e 6361 7374 5f6a 736f 6e28  ple.uncast_json(
-00002d10: 6954 7570 6c65 2e72 616e 6765 2831 292e  iTuple.range(1).
-00002d20: 6361 7374 5f6a 736f 6e28 2929 0d0a 2020  cast_json())..  
-00002d30: 2020 2020 2020 6954 7570 6c65 2830 290d        iTuple(0).
-00002d40: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00002d50: 2020 2020 2020 6173 7365 7274 206f 626a        assert obj
-00002d60: 5b22 5f5f 745f 5f22 5d20 3d3d 2063 6c73  ["__t__"] == cls
-00002d70: 2e5f 5f6e 616d 655f 5f0d 0a20 2020 2020  .__name__..     
-00002d80: 2020 2072 6574 7572 6e20 636c 7328 6461     return cls(da
-00002d90: 7461 3d6f 626a 5b22 6461 7461 225d 290d  ta=obj["data"]).
-00002da0: 0a0d 0a20 2020 2023 202d 2d2d 2d2d 0d0a  ...    # -----..
-00002db0: 0d0a 2020 2020 4063 6c61 7373 6d65 7468  ..    @classmeth
-00002dc0: 6f64 0d0a 2020 2020 6465 6620 7261 6e67  od..    def rang
-00002dd0: 6528 636c 732c 202a 6172 6773 2c20 2a2a  e(cls, *args, **
-00002de0: 6b77 6172 6773 293a 0d0a 2020 2020 2020  kwargs):..      
-00002df0: 2020 2222 220d 0a20 2020 2020 2020 203e    """..        >
-00002e00: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
-00002e10: 3329 0d0a 2020 2020 2020 2020 6954 7570  3)..        iTup
-00002e20: 6c65 2830 2c20 312c 2032 290d 0a20 2020  le(0, 1, 2)..   
-00002e30: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
-00002e40: 2020 7265 7475 726e 2063 6c73 2872 616e    return cls(ran
-00002e50: 6765 282a 6172 6773 2c20 2a2a 6b77 6172  ge(*args, **kwar
-00002e60: 6773 2929 0d0a 0d0a 2020 2020 4063 6c61  gs))....    @cla
-00002e70: 7373 6d65 7468 6f64 0d0a 2020 2020 6465  ssmethod..    de
-00002e80: 6620 6672 6f6d 5f6b 6579 7328 636c 732c  f from_keys(cls,
-00002e90: 2064 293a 0d0a 2020 2020 2020 2020 2222   d):..        ""
-00002ea0: 220d 0a20 2020 2020 2020 203e 3e3e 2069  "..        >>> i
-00002eb0: 5475 706c 652e 6672 6f6d 5f6b 6579 7328  Tuple.from_keys(
-00002ec0: 7b69 3a20 6920 2b20 3120 666f 7220 6920  {i: i + 1 for i 
-00002ed0: 696e 2072 616e 6765 2832 297d 290d 0a20  in range(2)}).. 
-00002ee0: 2020 2020 2020 2069 5475 706c 6528 302c         iTuple(0,
-00002ef0: 2031 290d 0a20 2020 2020 2020 2022 2222   1)..        """
-00002f00: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00002f10: 2063 6c73 2864 2e6b 6579 7328 2929 0d0a   cls(d.keys())..
-00002f20: 2020 2020 2020 2020 0d0a 2020 2020 4063          ..    @c
-00002f30: 6c61 7373 6d65 7468 6f64 0d0a 2020 2020  lassmethod..    
-00002f40: 6465 6620 6672 6f6d 5f76 616c 7565 7328  def from_values(
-00002f50: 636c 732c 2064 293a 0d0a 2020 2020 2020  cls, d):..      
-00002f60: 2020 2222 220d 0a20 2020 2020 2020 203e    """..        >
-00002f70: 3e3e 2069 5475 706c 652e 6672 6f6d 5f76  >> iTuple.from_v
-00002f80: 616c 7565 7328 7b69 3a20 6920 2b20 3120  alues({i: i + 1 
-00002f90: 666f 7220 6920 696e 2072 616e 6765 2832  for i in range(2
-00002fa0: 297d 290d 0a20 2020 2020 2020 2069 5475  )})..        iTu
-00002fb0: 706c 6528 312c 2032 290d 0a20 2020 2020  ple(1, 2)..     
-00002fc0: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
-00002fd0: 7265 7475 726e 2063 6c73 2864 2e76 616c  return cls(d.val
-00002fe0: 7565 7328 2929 0d0a 2020 2020 2020 2020  ues())..        
-00002ff0: 0d0a 2020 2020 4063 6c61 7373 6d65 7468  ..    @classmeth
-00003000: 6f64 0d0a 2020 2020 6465 6620 6672 6f6d  od..    def from
-00003010: 5f69 7465 6d73 2863 6c73 2c20 6429 3a0d  _items(cls, d):.
-00003020: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00003030: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
-00003040: 2e66 726f 6d5f 6974 656d 7328 7b69 3a20  .from_items({i: 
-00003050: 6920 2b20 3120 666f 7220 6920 696e 2072  i + 1 for i in r
-00003060: 616e 6765 2832 297d 290d 0a20 2020 2020  ange(2)})..     
-00003070: 2020 2069 5475 706c 6528 2830 2c20 3129     iTuple((0, 1)
-00003080: 2c20 2831 2c20 3229 290d 0a20 2020 2020  , (1, 2))..     
-00003090: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
-000030a0: 7265 7475 726e 2063 6c73 2864 2e69 7465  return cls(d.ite
-000030b0: 6d73 2829 290d 0a0d 0a20 2020 2023 202d  ms())....    # -
-000030c0: 2d2d 2d2d 0d0a 0d0a 2020 2020 6465 6620  ----....    def 
-000030d0: 7069 7065 2873 656c 662c 2066 2c20 2a61  pipe(self, f, *a
-000030e0: 7267 732c 202a 2a6b 7761 7267 7329 3a0d  rgs, **kwargs):.
-000030f0: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00003100: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
-00003110: 2e72 616e 6765 2832 292e 7069 7065 286c  .range(2).pipe(l
-00003120: 616d 6264 6120 6974 3a20 6974 290d 0a20  ambda it: it).. 
-00003130: 2020 2020 2020 2069 5475 706c 6528 302c         iTuple(0,
-00003140: 2031 290d 0a20 2020 2020 2020 203e 3e3e   1)..        >>>
-00003150: 2069 5475 706c 652e 7261 6e67 6528 3229   iTuple.range(2)
-00003160: 2e70 6970 6528 0d0a 2020 2020 2020 2020  .pipe(..        
-00003170: 2e2e 2e20 2020 2020 6c61 6d62 6461 2069  ...     lambda i
-00003180: 742c 2076 3a20 6974 2e6d 6170 286c 616d  t, v: it.map(lam
-00003190: 6264 6120 783a 2078 202a 2076 292c 2032  bda x: x * v), 2
-000031a0: 0d0a 2020 2020 2020 2020 2e2e 2e20 290d  ..        ... ).
-000031b0: 0a20 2020 2020 2020 2069 5475 706c 6528  .        iTuple(
-000031c0: 302c 2032 290d 0a20 2020 2020 2020 2022  0, 2)..        "
-000031d0: 2222 0d0a 2020 2020 2020 2020 7265 7475  ""..        retu
-000031e0: 726e 2066 2873 656c 662c 202a 6172 6773  rn f(self, *args
-000031f0: 2c20 2a2a 6b77 6172 6773 290d 0a0d 0a20  , **kwargs).... 
-00003200: 2020 2064 6566 2070 6172 7469 616c 2873     def partial(s
-00003210: 656c 662c 2066 2c20 2a61 7267 732c 202a  elf, f, *args, *
-00003220: 2a6b 7761 7267 7329 3a0d 0a20 2020 2020  *kwargs):..     
-00003230: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
-00003240: 3e3e 3e20 6620 3d20 6954 7570 6c65 2e72  >>> f = iTuple.r
-00003250: 616e 6765 2832 292e 7061 7274 6961 6c28  ange(2).partial(
-00003260: 0d0a 2020 2020 2020 2020 2e2e 2e20 2020  ..        ...   
-00003270: 2020 6c61 6d62 6461 2069 742c 2076 3a20    lambda it, v: 
-00003280: 6974 2e6d 6170 286c 616d 6264 6120 783a  it.map(lambda x:
-00003290: 2078 202a 2076 290d 0a20 2020 2020 2020   x * v)..       
-000032a0: 202e 2e2e 2029 0d0a 2020 2020 2020 2020   ... )..        
-000032b0: 3e3e 3e20 6628 3229 0d0a 2020 2020 2020  >>> f(2)..      
-000032c0: 2020 6954 7570 6c65 2830 2c20 3229 0d0a    iTuple(0, 2)..
-000032d0: 2020 2020 2020 2020 3e3e 3e20 6628 3329          >>> f(3)
-000032e0: 0d0a 2020 2020 2020 2020 6954 7570 6c65  ..        iTuple
-000032f0: 2830 2c20 3329 0d0a 2020 2020 2020 2020  (0, 3)..        
-00003300: 2222 220d 0a20 2020 2020 2020 2072 6574  """..        ret
-00003310: 7572 6e20 6675 6e63 746f 6f6c 732e 7061  urn functools.pa
-00003320: 7274 6961 6c28 662c 2073 656c 662c 202a  rtial(f, self, *
-00003330: 6172 6773 2c20 2a2a 6b77 6172 6773 290d  args, **kwargs).
-00003340: 0a0d 0a20 2020 2023 202d 2d2d 2d2d 0d0a  ...    # -----..
-00003350: 0d0a 2020 2020 6465 6620 6c65 6e28 7365  ..    def len(se
-00003360: 6c66 293a 0d0a 2020 2020 2020 2020 2222  lf):..        ""
-00003370: 220d 0a20 2020 2020 2020 203e 3e3e 2069  "..        >>> i
-00003380: 5475 706c 652e 7261 6e67 6528 3329 2e6c  Tuple.range(3).l
-00003390: 656e 2829 0d0a 2020 2020 2020 2020 330d  en()..        3.
-000033a0: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-000033b0: 2020 2020 2020 7265 7475 726e 206c 656e        return len
-000033c0: 2873 656c 6629 0d0a 0d0a 2020 2020 6465  (self)....    de
-000033d0: 6620 6170 7065 6e64 2873 656c 662c 2076  f append(self, v
-000033e0: 616c 7565 2c20 2a76 616c 7565 7329 3a0d  alue, *values):.
-000033f0: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00003400: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
-00003410: 2e72 616e 6765 2831 292e 6170 7065 6e64  .range(1).append
-00003420: 2831 290d 0a20 2020 2020 2020 2069 5475  (1)..        iTu
-00003430: 706c 6528 302c 2031 290d 0a20 2020 2020  ple(0, 1)..     
-00003440: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
-00003450: 6e67 6528 3129 2e61 7070 656e 6428 312c  nge(1).append(1,
-00003460: 2032 290d 0a20 2020 2020 2020 2069 5475   2)..        iTu
-00003470: 706c 6528 302c 2031 2c20 3229 0d0a 2020  ple(0, 1, 2)..  
-00003480: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
-00003490: 2e72 616e 6765 2831 292e 6170 7065 6e64  .range(1).append
-000034a0: 2831 2c20 322c 2033 290d 0a20 2020 2020  (1, 2, 3)..     
-000034b0: 2020 2069 5475 706c 6528 302c 2031 2c20     iTuple(0, 1, 
-000034c0: 322c 2033 290d 0a20 2020 2020 2020 203e  2, 3)..        >
-000034d0: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
-000034e0: 3129 2e61 7070 656e 6428 312c 2028 322c  1).append(1, (2,
-000034f0: 2929 0d0a 2020 2020 2020 2020 6954 7570  ))..        iTup
-00003500: 6c65 2830 2c20 312c 2028 322c 2929 0d0a  le(0, 1, (2,))..
-00003510: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
-00003520: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00003530: 202b 2028 7661 6c75 652c 202a 7661 6c75   + (value, *valu
-00003540: 6573 290d 0a0d 0a20 2020 2064 6566 2070  es)....    def p
-00003550: 7265 7065 6e64 2873 656c 662c 2076 616c  repend(self, val
-00003560: 7565 2c20 2a76 616c 7565 7329 3a0d 0a20  ue, *values):.. 
-00003570: 2020 2020 2020 2022 2222 0d0a 2020 2020         """..    
-00003580: 2020 2020 3e3e 3e20 6954 7570 6c65 2e72      >>> iTuple.r
-00003590: 616e 6765 2831 292e 7072 6570 656e 6428  ange(1).prepend(
-000035a0: 3129 0d0a 2020 2020 2020 2020 6954 7570  1)..        iTup
-000035b0: 6c65 2831 2c20 3029 0d0a 2020 2020 2020  le(1, 0)..      
-000035c0: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
-000035d0: 6765 2831 292e 7072 6570 656e 6428 312c  ge(1).prepend(1,
-000035e0: 2032 290d 0a20 2020 2020 2020 2069 5475   2)..        iTu
-000035f0: 706c 6528 312c 2032 2c20 3029 0d0a 2020  ple(1, 2, 0)..  
-00003600: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
-00003610: 2e72 616e 6765 2831 292e 7072 6570 656e  .range(1).prepen
-00003620: 6428 312c 2032 2c20 3329 0d0a 2020 2020  d(1, 2, 3)..    
-00003630: 2020 2020 6954 7570 6c65 2831 2c20 322c      iTuple(1, 2,
-00003640: 2033 2c20 3029 0d0a 2020 2020 2020 2020   3, 0)..        
-00003650: 3e3e 3e20 6954 7570 6c65 2e72 616e 6765  >>> iTuple.range
-00003660: 2831 292e 7072 6570 656e 6428 312c 2028  (1).prepend(1, (
-00003670: 322c 2929 0d0a 2020 2020 2020 2020 6954  2,))..        iT
-00003680: 7570 6c65 2831 2c20 2832 2c29 2c20 3029  uple(1, (2,), 0)
-00003690: 0d0a 2020 2020 2020 2020 2222 220d 0a20  ..        """.. 
-000036a0: 2020 2020 2020 2072 6574 7572 6e20 2876         return (v
-000036b0: 616c 7565 2c20 2a76 616c 7565 7329 202b  alue, *values) +
-000036c0: 2073 656c 660d 0a0d 0a20 2020 2064 6566   self....    def
-000036d0: 207a 6970 2873 656c 662c 202a 6974 7273   zip(self, *itrs
-000036e0: 2c20 6c61 7a79 203d 2046 616c 7365 293a  , lazy = False):
-000036f0: 0d0a 2020 2020 2020 2020 2222 220d 0a20  ..        """.. 
-00003700: 2020 2020 2020 203e 3e3e 2069 5475 706c         >>> iTupl
-00003710: 6528 5b5b 312c 2031 5d2c 205b 322c 2032  e([[1, 1], [2, 2
-00003720: 5d2c 205b 332c 2033 5d5d 292e 7a69 7028  ], [3, 3]]).zip(
-00003730: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
-00003740: 6528 2831 2c20 322c 2033 292c 2028 312c  e((1, 2, 3), (1,
-00003750: 2032 2c20 3329 290d 0a20 2020 2020 2020   2, 3))..       
-00003760: 203e 3e3e 2069 5475 706c 6528 5b69 5475   >>> iTuple([iTu
-00003770: 706c 652e 7261 6e67 6528 3329 2c20 6954  ple.range(3), iT
-00003780: 7570 6c65 2e72 616e 6765 2831 2c20 3429  uple.range(1, 4)
-00003790: 5d29 2e7a 6970 2829 0d0a 2020 2020 2020  ]).zip()..      
-000037a0: 2020 6954 7570 6c65 2828 302c 2031 292c    iTuple((0, 1),
-000037b0: 2028 312c 2032 292c 2028 322c 2033 2929   (1, 2), (2, 3))
-000037c0: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
-000037d0: 7570 6c65 2e72 616e 6765 2833 292e 7a69  uple.range(3).zi
-000037e0: 7028 6954 7570 6c65 2e72 616e 6765 2831  p(iTuple.range(1
-000037f0: 2c20 3429 290d 0a20 2020 2020 2020 2069  , 4))..        i
-00003800: 5475 706c 6528 2830 2c20 3129 2c20 2831  Tuple((0, 1), (1
-00003810: 2c20 3229 2c20 2832 2c20 3329 290d 0a20  , 2), (2, 3)).. 
-00003820: 2020 2020 2020 2022 2222 0d0a 2020 2020         """..    
-00003830: 2020 2020 6966 206c 656e 2869 7472 7329      if len(itrs)
-00003840: 203d 3d20 303a 0d0a 2020 2020 2020 2020   == 0:..        
-00003850: 2020 2020 7265 7320 3d20 7a69 7028 2a73      res = zip(*s
-00003860: 656c 6629 0d0a 2020 2020 2020 2020 656c  elf)..        el
-00003870: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-00003880: 2072 6573 203d 207a 6970 2873 656c 662c   res = zip(self,
-00003890: 202a 6974 7273 290d 0a20 2020 2020 2020   *itrs)..       
-000038a0: 2072 6574 7572 6e20 7265 7320 6966 206c   return res if l
-000038b0: 617a 7920 656c 7365 2069 5475 706c 6528  azy else iTuple(
-000038c0: 6461 7461 3d72 6573 290d 0a0d 0a20 2020  data=res)....   
-000038d0: 2064 6566 2066 6c61 7474 656e 2873 656c   def flatten(sel
-000038e0: 6629 3a0d 0a20 2020 2020 2020 2022 2222  f):..        """
-000038f0: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
-00003900: 7570 6c65 2e72 616e 6765 2833 292e 6d61  uple.range(3).ma
-00003910: 7028 6c61 6d62 6461 2078 3a20 5b78 5d29  p(lambda x: [x])
-00003920: 2e66 6c61 7474 656e 2829 0d0a 2020 2020  .flatten()..    
-00003930: 2020 2020 6954 7570 6c65 2830 2c20 312c      iTuple(0, 1,
-00003940: 2032 290d 0a20 2020 2020 2020 2022 2222   2)..        """
-00003950: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00003960: 2069 5475 706c 6528 6974 6572 746f 6f6c   iTuple(itertool
-00003970: 732e 6368 6169 6e28 2a73 656c 6629 290d  s.chain(*self)).
-00003980: 0a0d 0a20 2020 2064 6566 2065 7874 656e  ...    def exten
-00003990: 6428 7365 6c66 2c20 7661 6c75 652c 202a  d(self, value, *
-000039a0: 7661 6c75 6573 293a 0d0a 2020 2020 2020  values):..      
-000039b0: 2020 2222 220d 0a20 2020 2020 2020 203e    """..        >
-000039c0: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
-000039d0: 3129 2e65 7874 656e 6428 2831 2c29 290d  1).extend((1,)).
-000039e0: 0a20 2020 2020 2020 2069 5475 706c 6528  .        iTuple(
-000039f0: 302c 2031 290d 0a20 2020 2020 2020 203e  0, 1)..        >
-00003a00: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
-00003a10: 3129 2e65 7874 656e 6428 5b31 5d29 0d0a  1).extend([1])..
-00003a20: 2020 2020 2020 2020 6954 7570 6c65 2830          iTuple(0
-00003a30: 2c20 3129 0d0a 2020 2020 2020 2020 3e3e  , 1)..        >>
-00003a40: 3e20 6954 7570 6c65 2e72 616e 6765 2831  > iTuple.range(1
-00003a50: 292e 6578 7465 6e64 285b 315d 2c20 5b32  ).extend([1], [2
-00003a60: 5d29 0d0a 2020 2020 2020 2020 6954 7570  ])..        iTup
-00003a70: 6c65 2830 2c20 312c 2032 290d 0a20 2020  le(0, 1, 2)..   
-00003a80: 2020 2020 203e 3e3e 2069 5475 706c 652e       >>> iTuple.
-00003a90: 7261 6e67 6528 3129 2e65 7874 656e 6428  range(1).extend(
-00003aa0: 5b31 5d2c 205b 5b32 5d5d 290d 0a20 2020  [1], [[2]])..   
-00003ab0: 2020 2020 2069 5475 706c 6528 302c 2031       iTuple(0, 1
-00003ac0: 2c20 5b32 5d29 0d0a 2020 2020 2020 2020  , [2])..        
-00003ad0: 3e3e 3e20 6954 7570 6c65 2e72 616e 6765  >>> iTuple.range
-00003ae0: 2831 292e 6578 7465 6e64 285b 315d 2c20  (1).extend([1], 
-00003af0: 5b5b 325d 5d2c 205b 325d 290d 0a20 2020  [[2]], [2])..   
-00003b00: 2020 2020 2069 5475 706c 6528 302c 2031       iTuple(0, 1
-00003b10: 2c20 5b32 5d2c 2032 290d 0a20 2020 2020  , [2], 2)..     
-00003b20: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
-00003b30: 7265 7475 726e 2069 5475 706c 6528 6974  return iTuple(it
-00003b40: 6572 746f 6f6c 732e 6368 6169 6e2e 6672  ertools.chain.fr
-00003b50: 6f6d 5f69 7465 7261 626c 6528 0d0a 2020  om_iterable(..  
-00003b60: 2020 2020 2020 2020 2020 2873 656c 662c            (self,
-00003b70: 2076 616c 7565 2c20 2a76 616c 7565 7329   value, *values)
-00003b80: 0d0a 2020 2020 2020 2020 2929 0d0a 0d0a  ..        ))....
-00003b90: 2020 2020 6465 6620 7072 6574 656e 6428      def pretend(
-00003ba0: 7365 6c66 2c20 7661 6c75 652c 202a 7661  self, value, *va
-00003bb0: 6c75 6573 293a 0d0a 2020 2020 2020 2020  lues):..        
-00003bc0: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
-00003bd0: 2069 5475 706c 652e 7261 6e67 6528 3129   iTuple.range(1)
-00003be0: 2e70 7265 7465 6e64 2828 312c 2929 0d0a  .pretend((1,))..
-00003bf0: 2020 2020 2020 2020 6954 7570 6c65 2831          iTuple(1
-00003c00: 2c20 3029 0d0a 2020 2020 2020 2020 3e3e  , 0)..        >>
-00003c10: 3e20 6954 7570 6c65 2e72 616e 6765 2831  > iTuple.range(1
-00003c20: 292e 7072 6574 656e 6428 5b31 5d29 0d0a  ).pretend([1])..
-00003c30: 2020 2020 2020 2020 6954 7570 6c65 2831          iTuple(1
-00003c40: 2c20 3029 0d0a 2020 2020 2020 2020 3e3e  , 0)..        >>
-00003c50: 3e20 6954 7570 6c65 2e72 616e 6765 2831  > iTuple.range(1
-00003c60: 292e 7072 6574 656e 6428 5b31 5d2c 205b  ).pretend([1], [
-00003c70: 325d 290d 0a20 2020 2020 2020 2069 5475  2])..        iTu
-00003c80: 706c 6528 312c 2032 2c20 3029 0d0a 2020  ple(1, 2, 0)..  
-00003c90: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
-00003ca0: 2e72 616e 6765 2831 292e 7072 6574 656e  .range(1).preten
-00003cb0: 6428 5b31 5d2c 205b 5b32 5d5d 290d 0a20  d([1], [[2]]).. 
-00003cc0: 2020 2020 2020 2069 5475 706c 6528 312c         iTuple(1,
-00003cd0: 205b 325d 2c20 3029 0d0a 2020 2020 2020   [2], 0)..      
-00003ce0: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
-00003cf0: 6765 2831 292e 7072 6574 656e 6428 5b31  ge(1).pretend([1
-00003d00: 5d2c 205b 5b32 5d5d 2c20 5b32 5d29 0d0a  ], [[2]], [2])..
-00003d10: 2020 2020 2020 2020 6954 7570 6c65 2831          iTuple(1
-00003d20: 2c20 5b32 5d2c 2032 2c20 3029 0d0a 2020  , [2], 2, 0)..  
-00003d30: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-00003d40: 2020 2072 6574 7572 6e20 6954 7570 6c65     return iTuple
-00003d50: 2869 7465 7274 6f6f 6c73 2e63 6861 696e  (itertools.chain
-00003d60: 2e66 726f 6d5f 6974 6572 6162 6c65 280d  .from_iterable(.
-00003d70: 0a20 2020 2020 2020 2020 2020 2028 7661  .            (va
-00003d80: 6c75 652c 202a 7661 6c75 6573 2c20 7365  lue, *values, se
-00003d90: 6c66 290d 0a20 2020 2020 2020 2029 290d  lf)..        )).
-00003da0: 0a0d 0a20 2020 2064 6566 2066 696c 7465  ...    def filte
-00003db0: 725f 6571 2873 656c 662c 2076 2c20 6620  r_eq(self, v, f 
-00003dc0: 3d20 4e6f 6e65 2c20 6571 203d 204e 6f6e  = None, eq = Non
-00003dd0: 652c 206c 617a 7920 3d20 4661 6c73 6529  e, lazy = False)
-00003de0: 3a0d 0a20 2020 2020 2020 2022 2222 0d0a  :..        """..
-00003df0: 2020 2020 2020 2020 3e3e 3e20 6954 7570          >>> iTup
-00003e00: 6c65 2e72 616e 6765 2833 292e 6669 6c74  le.range(3).filt
-00003e10: 6572 5f65 7128 3129 0d0a 2020 2020 2020  er_eq(1)..      
-00003e20: 2020 6954 7570 6c65 2831 290d 0a20 2020    iTuple(1)..   
-00003e30: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
-00003e40: 2020 6966 2066 2069 7320 4e6f 6e65 2061    if f is None a
-00003e50: 6e64 2065 7120 6973 204e 6f6e 653a 0d0a  nd eq is None:..
-00003e60: 2020 2020 2020 2020 2020 2020 7265 7320              res 
-00003e70: 3d20 6669 6c74 6572 286c 616d 6264 6120  = filter(lambda 
-00003e80: 783a 2078 203d 3d20 762c 2073 656c 6629  x: x == v, self)
-00003e90: 0d0a 2020 2020 2020 2020 656c 6966 2066  ..        elif f
-00003ea0: 2069 7320 6e6f 7420 4e6f 6e65 3a0d 0a20   is not None:.. 
-00003eb0: 2020 2020 2020 2020 2020 2072 6573 203d             res =
-00003ec0: 2066 696c 7465 7228 6c61 6d62 6461 2078   filter(lambda x
-00003ed0: 3a20 6628 7829 203d 3d20 762c 2073 656c  : f(x) == v, sel
-00003ee0: 6629 0d0a 2020 2020 2020 2020 656c 6966  f)..        elif
-00003ef0: 2065 7120 6973 206e 6f74 204e 6f6e 653a   eq is not None:
-00003f00: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
-00003f10: 7320 3d20 6669 6c74 6572 286c 616d 6264  s = filter(lambd
-00003f20: 6120 783a 2065 7128 782c 2076 292c 2073  a x: eq(x, v), s
-00003f30: 656c 6629 0d0a 2020 2020 2020 2020 656c  elf)..        el
-00003f40: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
-00003f50: 2072 6573 203d 2066 696c 7465 7228 6c61   res = filter(la
-00003f60: 6d62 6461 2078 3a20 6571 2866 2878 292c  mbda x: eq(f(x),
-00003f70: 2076 292c 2073 656c 6629 0d0a 2020 2020   v), self)..    
-00003f80: 2020 2020 7265 7475 726e 2072 6573 2069      return res i
-00003f90: 6620 6c61 7a79 2065 6c73 6520 7479 7065  f lazy else type
-00003fa0: 2873 656c 6629 2864 6174 613d 7265 7329  (self)(data=res)
-00003fb0: 0d0a 0d0a 2020 2020 6465 6620 6669 6c74  ....    def filt
-00003fc0: 6572 2873 656c 662c 2066 2c20 6571 203d  er(self, f, eq =
-00003fd0: 204e 6f6e 652c 206c 617a 7920 3d20 4661   None, lazy = Fa
-00003fe0: 6c73 6529 3a0d 0a20 2020 2020 2020 2022  lse):..        "
-00003ff0: 2222 0d0a 2020 2020 2020 2020 3e3e 3e20  ""..        >>> 
-00004000: 6954 7570 6c65 2e72 616e 6765 2833 292e  iTuple.range(3).
-00004010: 6669 6c74 6572 286c 616d 6264 6120 783a  filter(lambda x:
-00004020: 2078 203e 2031 290d 0a20 2020 2020 2020   x > 1)..       
-00004030: 2069 5475 706c 6528 3229 0d0a 2020 2020   iTuple(2)..    
-00004040: 2020 2020 2222 220d 0a20 2020 2020 2020      """..       
-00004050: 2072 6574 7572 6e20 7365 6c66 2e66 696c   return self.fil
-00004060: 7465 725f 6571 2854 7275 652c 2066 203d  ter_eq(True, f =
-00004070: 2066 2c20 6571 203d 2065 712c 206c 617a   f, eq = eq, laz
-00004080: 7920 3d20 6c61 7a79 290d 0a0d 0a20 2020  y = lazy)....   
-00004090: 2064 6566 206d 6170 2873 656c 662c 2066   def map(self, f
-000040a0: 2c20 2a69 7465 7261 626c 6573 2c20 6c61  , *iterables, la
-000040b0: 7a79 203d 2046 616c 7365 293a 0d0a 2020  zy = False):..  
-000040c0: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-000040d0: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
-000040e0: 6e67 6528 3329 2e6d 6170 286c 616d 6264  nge(3).map(lambd
-000040f0: 6120 783a 2078 202a 2032 290d 0a20 2020  a x: x * 2)..   
-00004100: 2020 2020 2069 5475 706c 6528 302c 2032       iTuple(0, 2
-00004110: 2c20 3429 0d0a 2020 2020 2020 2020 2222  , 4)..        ""
-00004120: 220d 0a20 2020 2020 2020 2072 6573 203d  "..        res =
-00004130: 206d 6170 2866 2c20 7365 6c66 2c20 2a69   map(f, self, *i
-00004140: 7465 7261 626c 6573 290d 0a20 2020 2020  terables)..     
-00004150: 2020 2072 6574 7572 6e20 7265 7320 6966     return res if
-00004160: 206c 617a 7920 656c 7365 2069 5475 706c   lazy else iTupl
-00004170: 6528 6461 7461 3d72 6573 290d 0a0d 0a20  e(data=res).... 
-00004180: 2020 2064 6566 2065 6e75 6d65 7261 7465     def enumerate
-00004190: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
-000041a0: 2022 2222 0d0a 2020 2020 2020 2020 3e3e   """..        >>
-000041b0: 3e20 6954 7570 6c65 2e72 616e 6765 2833  > iTuple.range(3
-000041c0: 292e 656e 756d 6572 6174 6528 290d 0a20  ).enumerate().. 
-000041d0: 2020 2020 2020 2069 5475 706c 6528 2830         iTuple((0
-000041e0: 2c20 3029 2c20 2831 2c20 3129 2c20 2832  , 0), (1, 1), (2
-000041f0: 2c20 3229 290d 0a20 2020 2020 2020 2022  , 2))..        "
-00004200: 2222 0d0a 2020 2020 2020 2020 2320 544f  ""..        # TO
-00004210: 444f 3a20 616c 6c6f 7720 6c61 7a79 0d0a  DO: allow lazy..
-00004220: 2020 2020 2020 2020 7265 7475 726e 2069          return i
-00004230: 5475 706c 6528 656e 756d 6572 6174 6528  Tuple(enumerate(
-00004240: 7365 6c66 2929 0d0a 0d0a 2020 2020 6465  self))....    de
-00004250: 6620 6772 6f75 7062 7928 0d0a 2020 2020  f groupby(..    
-00004260: 2020 2020 7365 6c66 2c20 0d0a 2020 2020      self, ..    
-00004270: 2020 2020 662c 200d 0a20 2020 2020 2020      f, ..       
-00004280: 206c 617a 7920 3d20 4661 6c73 652c 200d   lazy = False, .
-00004290: 0a20 2020 2020 2020 206b 6579 7320 3d20  .        keys = 
-000042a0: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
-000042b0: 7069 7065 3d20 4e6f 6e65 2c0d 0a20 2020  pipe= None,..   
-000042c0: 2029 3a0d 0a20 2020 2020 2020 2022 2222   ):..        """
-000042d0: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
-000042e0: 7570 6c65 2e72 616e 6765 2833 292e 6772  uple.range(3).gr
-000042f0: 6f75 7062 7928 6c61 6d62 6461 2078 3a20  oupby(lambda x: 
-00004300: 7820 3c20 3229 0d0a 2020 2020 2020 2020  x < 2)..        
-00004310: 6954 7570 6c65 2828 302c 2031 292c 2028  iTuple((0, 1), (
-00004320: 322c 2929 0d0a 2020 2020 2020 2020 3e3e  2,))..        >>
-00004330: 3e20 6954 7570 6c65 2e72 616e 6765 2833  > iTuple.range(3
-00004340: 292e 6772 6f75 7062 7928 0d0a 2020 2020  ).groupby(..    
-00004350: 2020 2020 2e2e 2e20 2020 206c 616d 6264      ...    lambd
-00004360: 6120 783a 2078 203c 2032 2c20 6b65 7973  a x: x < 2, keys
-00004370: 3d54 7275 652c 2070 6970 653d 6644 6963  =True, pipe=fDic
-00004380: 740d 0a20 2020 2020 2020 202e 2e2e 2029  t..        ... )
-00004390: 0d0a 2020 2020 2020 2020 7b54 7275 653a  ..        {True:
-000043a0: 2028 302c 2031 292c 2046 616c 7365 3a20   (0, 1), False: 
-000043b0: 2832 2c29 7d0d 0a20 2020 2020 2020 2022  (2,)}..        "
-000043c0: 2222 0d0a 2020 2020 2020 2020 2320 544f  ""..        # TO
-000043d0: 444f 3a20 6c61 7a79 206e 6f20 6b65 7973  DO: lazy no keys
-000043e0: 0d0a 2020 2020 2020 2020 7265 7320 3d20  ..        res = 
-000043f0: 6974 6572 746f 6f6c 732e 6772 6f75 7062  itertools.groupb
-00004400: 7928 7365 6c66 2c20 6b65 793d 6629 0d0a  y(self, key=f)..
-00004410: 2020 2020 2020 2020 6966 206c 617a 7920          if lazy 
-00004420: 616e 6420 6b65 7973 2061 6e64 2070 6970  and keys and pip
-00004430: 6520 6973 204e 6f6e 653a 0d0a 2020 2020  e is None:..    
-00004440: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-00004450: 6573 0d0a 2020 2020 2020 2020 6966 2070  es..        if p
-00004460: 6970 6520 6973 204e 6f6e 653a 0d0a 2020  ipe is None:..  
-00004470: 2020 2020 2020 2020 2020 7069 7065 203d            pipe =
-00004480: 2069 5475 706c 650d 0a20 2020 2020 2020   iTuple..       
-00004490: 2069 6620 6b65 7973 3a0d 0a20 2020 2020   if keys:..     
-000044a0: 2020 2020 2020 2072 6574 7572 6e20 7069         return pi
-000044b0: 7065 2828 6b2c 2074 7570 6c65 2867 292c  pe((k, tuple(g),
-000044c0: 2920 666f 7220 6b2c 2067 2069 6e20 7265  ) for k, g in re
-000044d0: 7329 0d0a 2020 2020 2020 2020 656c 7365  s)..        else
-000044e0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-000044f0: 6574 7572 6e20 7069 7065 2874 7570 6c65  eturn pipe(tuple
-00004500: 2867 2920 666f 7220 6b2c 2067 2069 6e20  (g) for k, g in 
-00004510: 7265 7329 0d0a 0d0a 2020 2020 6465 6620  res)....    def 
-00004520: 6669 7273 7428 7365 6c66 293a 0d0a 2020  first(self):..  
-00004530: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-00004540: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
-00004550: 6e67 6528 3329 2e66 6972 7374 2829 0d0a  nge(3).first()..
-00004560: 2020 2020 2020 2020 300d 0a20 2020 2020          0..     
-00004570: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
-00004580: 7265 7475 726e 2073 656c 665b 305d 0d0a  return self[0]..
-00004590: 2020 2020 0d0a 2020 2020 6465 6620 6c61      ..    def la
-000045a0: 7374 2873 656c 6629 3a0d 0a20 2020 2020  st(self):..     
-000045b0: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
-000045c0: 3e3e 3e20 6954 7570 6c65 2e72 616e 6765  >>> iTuple.range
-000045d0: 2833 292e 6c61 7374 2829 0d0a 2020 2020  (3).last()..    
-000045e0: 2020 2020 320d 0a20 2020 2020 2020 2022      2..        "
-000045f0: 2222 0d0a 2020 2020 2020 2020 7265 7475  ""..        retu
-00004600: 726e 2073 656c 665b 2d31 5d0d 0a0d 0a20  rn self[-1].... 
-00004610: 2020 2064 6566 2066 6972 7374 5f77 6865     def first_whe
-00004620: 7265 2873 656c 662c 2066 293a 0d0a 2020  re(self, f):..  
-00004630: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-00004640: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
-00004650: 6e67 6528 3329 2e66 6972 7374 5f77 6865  nge(3).first_whe
-00004660: 7265 286c 616d 6264 6120 763a 2076 203e  re(lambda v: v >
-00004670: 2030 290d 0a20 2020 2020 2020 2031 0d0a   0)..        1..
-00004680: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
-00004690: 2020 2020 2066 6f72 2076 2069 6e20 7365       for v in se
-000046a0: 6c66 3a0d 0a20 2020 2020 2020 2020 2020  lf:..           
-000046b0: 2069 6620 6628 7629 3a0d 0a20 2020 2020   if f(v):..     
-000046c0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-000046d0: 6e20 760d 0a20 2020 2020 2020 2072 6574  n v..        ret
-000046e0: 7572 6e20 4e6f 6e65 0d0a 0d0a 2020 2020  urn None....    
-000046f0: 6465 6620 6c61 7374 5f77 6865 7265 2873  def last_where(s
-00004700: 656c 662c 2066 293a 0d0a 2020 2020 2020  elf, f):..      
-00004710: 2020 2222 220d 0a20 2020 2020 2020 203e    """..        >
-00004720: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
-00004730: 3329 2e6c 6173 745f 7768 6572 6528 6c61  3).last_where(la
-00004740: 6d62 6461 2076 3a20 7620 3c20 3229 0d0a  mbda v: v < 2)..
-00004750: 2020 2020 2020 2020 310d 0a20 2020 2020          1..     
-00004760: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
-00004770: 666f 7220 7620 696e 2072 6576 6572 7365  for v in reverse
-00004780: 6428 7365 6c66 293a 0d0a 2020 2020 2020  d(self):..      
-00004790: 2020 2020 2020 6966 2066 2876 293a 0d0a        if f(v):..
-000047a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000047b0: 7265 7475 726e 2076 0d0a 2020 2020 2020  return v..      
-000047c0: 2020 7265 7475 726e 204e 6f6e 650d 0a0d    return None...
-000047d0: 0a20 2020 2064 6566 2074 616b 6528 7365  .    def take(se
-000047e0: 6c66 2c20 6e29 3a0d 0a20 2020 2020 2020  lf, n):..       
-000047f0: 2022 2222 0d0a 2020 2020 2020 2020 3e3e   """..        >>
-00004800: 3e20 6954 7570 6c65 2e72 616e 6765 2833  > iTuple.range(3
-00004810: 292e 7461 6b65 2832 290d 0a20 2020 2020  ).take(2)..     
-00004820: 2020 2069 5475 706c 6528 302c 2031 290d     iTuple(0, 1).
-00004830: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00004840: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00004850: 665b 3a6e 5d0d 0a0d 0a20 2020 2064 6566  f[:n]....    def
-00004860: 2074 6169 6c28 7365 6c66 2c20 6e29 3a0d   tail(self, n):.
-00004870: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
-00004880: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
-00004890: 2e72 616e 6765 2833 292e 7461 696c 2832  .range(3).tail(2
-000048a0: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
-000048b0: 6528 312c 2032 290d 0a20 2020 2020 2020  e(1, 2)..       
-000048c0: 2022 2222 0d0a 2020 2020 2020 2020 7265   """..        re
-000048d0: 7475 726e 2073 656c 665b 2d6e 3a5d 0d0a  turn self[-n:]..
-000048e0: 0d0a 2020 2020 6465 6620 7265 7665 7273  ..    def revers
-000048f0: 6528 7365 6c66 2c20 6c61 7a79 203d 2046  e(self, lazy = F
-00004900: 616c 7365 293a 0d0a 2020 2020 2020 2020  alse):..        
-00004910: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
-00004920: 2069 5475 706c 652e 7261 6e67 6528 3329   iTuple.range(3)
-00004930: 2e72 6576 6572 7365 2829 0d0a 2020 2020  .reverse()..    
-00004940: 2020 2020 6954 7570 6c65 2832 2c20 312c      iTuple(2, 1,
-00004950: 2030 290d 0a20 2020 2020 2020 2022 2222   0)..        """
-00004960: 0d0a 2020 2020 2020 2020 6966 206c 617a  ..        if laz
-00004970: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
-00004980: 7265 7475 726e 2072 6576 6572 7365 6428  return reversed(
-00004990: 7365 6c66 290d 0a20 2020 2020 2020 2072  self)..        r
-000049a0: 6574 7572 6e20 7479 7065 2873 656c 6629  eturn type(self)
-000049b0: 2864 6174 613d 7265 7665 7273 6564 2873  (data=reversed(s
-000049c0: 656c 6629 290d 0a0d 0a20 2020 2064 6566  elf))....    def
-000049d0: 2074 616b 655f 7768 696c 6528 7365 6c66   take_while(self
-000049e0: 2c20 662c 206e 203d 204e 6f6e 652c 206c  , f, n = None, l
-000049f0: 617a 7920 3d20 4661 6c73 6529 3a0d 0a20  azy = False):.. 
-00004a00: 2020 2020 2020 2022 2222 0d0a 2020 2020         """..    
-00004a10: 2020 2020 3e3e 3e20 6954 7570 6c65 2e72      >>> iTuple.r
-00004a20: 616e 6765 2833 292e 7461 6b65 5f77 6869  ange(3).take_whi
-00004a30: 6c65 286c 616d 6264 6120 763a 2076 203c  le(lambda v: v <
-00004a40: 2031 290d 0a20 2020 2020 2020 2069 5475   1)..        iTu
-00004a50: 706c 6528 3029 0d0a 2020 2020 2020 2020  ple(0)..        
-00004a60: 2222 220d 0a20 2020 2020 2020 2064 6566  """..        def
-00004a70: 2069 7465 7228 293a 0d0a 2020 2020 2020   iter():..      
-00004a80: 2020 2020 2020 6920 3d20 300d 0a20 2020        i = 0..   
-00004a90: 2020 2020 2020 2020 2066 6f72 2076 2069           for v i
-00004aa0: 6e20 7365 6c66 3a0d 0a20 2020 2020 2020  n self:..       
-00004ab0: 2020 2020 2020 2020 2069 6620 6628 7629           if f(v)
-00004ac0: 2061 6e64 2028 6e20 6973 204e 6f6e 6520   and (n is None 
-00004ad0: 6f72 2069 203c 206e 293a 0d0a 2020 2020  or i < n):..    
-00004ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004af0: 7969 656c 6420 760d 0a20 2020 2020 2020  yield v..       
-00004b00: 2020 2020 2020 2020 2020 2020 2069 202b               i +
-00004b10: 3d20 310d 0a20 2020 2020 2020 2020 2020  = 1..           
-00004b20: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
-00004b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b40: 7265 7475 726e 0d0a 2020 2020 2020 2020  return..        
-00004b50: 7265 7320 3d20 6974 6572 2829 0d0a 2020  res = iter()..  
-00004b60: 2020 2020 2020 7265 7475 726e 2072 6573        return res
-00004b70: 2069 6620 6c61 7a79 2065 6c73 6520 7479   if lazy else ty
-00004b80: 7065 2873 656c 6629 2864 6174 613d 7265  pe(self)(data=re
-00004b90: 7329 0d0a 0d0a 2020 2020 6465 6620 7461  s)....    def ta
-00004ba0: 696c 5f77 6869 6c65 2873 656c 662c 2066  il_while(self, f
-00004bb0: 2c20 6e20 3d20 4e6f 6e65 293a 0d0a 2020  , n = None):..  
-00004bc0: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-00004bd0: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
-00004be0: 6e67 6528 3329 2e74 6169 6c5f 7768 696c  nge(3).tail_whil
-00004bf0: 6528 6c61 6d62 6461 2076 3a20 7620 3e20  e(lambda v: v > 
-00004c00: 3129 0d0a 2020 2020 2020 2020 6954 7570  1)..        iTup
-00004c10: 6c65 2832 290d 0a20 2020 2020 2020 2022  le(2)..        "
-00004c20: 2222 0d0a 2020 2020 2020 2020 6920 3d20  ""..        i = 
-00004c30: 300d 0a20 2020 2020 2020 2066 6f72 2076  0..        for v
-00004c40: 2069 6e20 7265 7665 7273 6564 2873 656c   in reversed(sel
-00004c50: 6629 3a0d 0a20 2020 2020 2020 2020 2020  f):..           
-00004c60: 2069 6620 6628 7629 2061 6e64 2028 6e20   if f(v) and (n 
-00004c70: 6973 204e 6f6e 6520 6f72 2069 203c 206e  is None or i < n
-00004c80: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
-00004c90: 2020 2020 6920 2b3d 2031 0d0a 2020 2020      i += 1..    
-00004ca0: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
-00004cb0: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-00004cc0: 7265 616b 0d0a 2020 2020 2020 2020 7265  reak..        re
-00004cd0: 7475 726e 2073 656c 662e 7461 696c 2869  turn self.tail(i
-00004ce0: 290d 0a0d 0a20 2020 2023 204e 4f54 453a  )....    # NOTE:
-00004cf0: 2066 726f 6d20 6173 2069 6e2c 2073 7461   from as in, sta
-00004d00: 7274 696e 6720 6672 6f6d 2066 6972 7374  rting from first
-00004d10: 2074 7275 650d 0a20 2020 2023 2076 6572   true..    # ver
-00004d20: 7375 7320 6162 6f76 652c 2077 6869 6368  sus above, which
-00004d30: 2069 7320 756e 7469 6c20 6669 7273 7420   is until first 
-00004d40: 6661 6c73 650d 0a20 2020 2064 6566 2074  false..    def t
-00004d50: 616b 655f 6166 7465 7228 7365 6c66 2c20  ake_after(self, 
-00004d60: 662c 206e 203d 204e 6f6e 652c 206c 617a  f, n = None, laz
-00004d70: 7920 3d20 4661 6c73 6529 3a0d 0a20 2020  y = False):..   
-00004d80: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
-00004d90: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
-00004da0: 6765 2833 292e 7461 6b65 5f61 6674 6572  ge(3).take_after
-00004db0: 286c 616d 6264 6120 763a 2076 203c 2031  (lambda v: v < 1
-00004dc0: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
-00004dd0: 6528 312c 2032 290d 0a20 2020 2020 2020  e(1, 2)..       
-00004de0: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
-00004df0: 6528 3329 2e74 616b 655f 6166 7465 7228  e(3).take_after(
-00004e00: 6c61 6d62 6461 2076 3a20 7620 3c20 312c  lambda v: v < 1,
-00004e10: 206e 203d 2031 290d 0a20 2020 2020 2020   n = 1)..       
-00004e20: 2069 5475 706c 6528 3129 0d0a 2020 2020   iTuple(1)..    
-00004e30: 2020 2020 2222 220d 0a20 2020 2020 2020      """..       
-00004e40: 2064 6566 2069 7465 7228 293a 0d0a 2020   def iter():..  
-00004e50: 2020 2020 2020 2020 2020 6920 3d20 300d            i = 0.
-00004e60: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00004e70: 2076 2069 6e20 7365 6c66 3a0d 0a20 2020   v in self:..   
-00004e80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00004e90: 6628 7629 3a0d 0a20 2020 2020 2020 2020  f(v):..         
-00004ea0: 2020 2020 2020 2020 2020 2070 6173 730d             pass.
-00004eb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004ec0: 2065 6c69 6620 6e20 6973 204e 6f6e 6520   elif n is None 
-00004ed0: 6f72 2069 203c 206e 3a0d 0a20 2020 2020  or i < n:..     
-00004ee0: 2020 2020 2020 2020 2020 2020 2020 2079                 y
-00004ef0: 6965 6c64 2076 0d0a 2020 2020 2020 2020  ield v..        
-00004f00: 2020 2020 2020 2020 2020 2020 6920 2b3d              i +=
-00004f10: 2031 0d0a 2020 2020 2020 2020 2020 2020   1..            
-00004f20: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
-00004f30: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00004f40: 6574 7572 6e0d 0a20 2020 2020 2020 2072  eturn..        r
-00004f50: 6573 203d 2069 7465 7228 290d 0a20 2020  es = iter()..   
-00004f60: 2020 2020 2072 6574 7572 6e20 7265 7320       return res 
-00004f70: 6966 206c 617a 7920 656c 7365 2074 7970  if lazy else typ
-00004f80: 6528 7365 6c66 2928 6461 7461 3d72 6573  e(self)(data=res
-00004f90: 290d 0a0d 0a20 2020 2064 6566 2074 6169  )....    def tai
-00004fa0: 6c5f 6166 7465 7228 7365 6c66 2c20 662c  l_after(self, f,
-00004fb0: 206e 203d 204e 6f6e 6529 3a0d 0a20 2020   n = None):..   
-00004fc0: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
-00004fd0: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
-00004fe0: 6765 2833 292e 7461 696c 5f61 6674 6572  ge(3).tail_after
-00004ff0: 286c 616d 6264 6120 763a 2076 203c 2032  (lambda v: v < 2
-00005000: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
-00005010: 6528 302c 2031 290d 0a20 2020 2020 2020  e(0, 1)..       
-00005020: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
-00005030: 6528 3329 2e74 6169 6c5f 6166 7465 7228  e(3).tail_after(
-00005040: 6c61 6d62 6461 2076 3a20 7620 3c20 322c  lambda v: v < 2,
-00005050: 2031 290d 0a20 2020 2020 2020 2069 5475   1)..        iTu
-00005060: 706c 6528 3129 0d0a 2020 2020 2020 2020  ple(1)..        
-00005070: 2222 220d 0a20 2020 2020 2020 206c 203d  """..        l =
-00005080: 2030 0d0a 2020 2020 2020 2020 7220 3d20   0..        r = 
-00005090: 300d 0a20 2020 2020 2020 2066 6f72 2076  0..        for v
-000050a0: 2069 6e20 7265 7665 7273 6564 2873 656c   in reversed(sel
-000050b0: 6629 3a0d 0a20 2020 2020 2020 2020 2020  f):..           
-000050c0: 2069 6620 6e6f 7420 6628 7629 3a0d 0a20   if not f(v):.. 
-000050d0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-000050e0: 202b 3d20 310d 0a20 2020 2020 2020 2020   += 1..         
-000050f0: 2020 2065 6c69 6620 6e20 6973 204e 6f6e     elif n is Non
-00005100: 6520 6f72 2072 203c 206e 3a0d 0a20 2020  e or r < n:..   
-00005110: 2020 2020 2020 2020 2020 2020 2072 202b               r +
-00005120: 3d20 310d 0a20 2020 2020 2020 2020 2020  = 1..           
-00005130: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
-00005140: 2020 2020 2020 2020 6272 6561 6b0d 0a20          break.. 
-00005150: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00005160: 6c66 2e74 6169 6c28 6c20 2b20 7229 2e74  lf.tail(l + r).t
-00005170: 616b 6528 7229 0d0a 0d0a 2020 2020 6465  ake(r)....    de
-00005180: 6620 6973 6c69 6365 2873 656c 662c 206c  f islice(self, l
-00005190: 6566 7420 3d20 4e6f 6e65 2c20 7269 6768  eft = None, righ
-000051a0: 7420 3d20 4e6f 6e65 293a 0d0a 2020 2020  t = None):..    
-000051b0: 2020 2020 2222 220d 0a20 2020 2020 2020      """..       
-000051c0: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
-000051d0: 6528 3529 2e69 736c 6963 6528 312c 2033  e(5).islice(1, 3
-000051e0: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
-000051f0: 6528 312c 2032 290d 0a20 2020 2020 2020  e(1, 2)..       
-00005200: 2022 2222 0d0a 2020 2020 2020 2020 7265   """..        re
-00005210: 7475 726e 2073 656c 665b 6c65 6674 3a72  turn self[left:r
-00005220: 6967 6874 5d0d 0a0d 0a20 2020 2064 6566  ight]....    def
-00005230: 2075 6e69 7175 6528 7365 6c66 293a 0d0a   unique(self):..
-00005240: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
-00005250: 2020 2020 203e 3e3e 2069 5475 706c 6528       >>> iTuple(
-00005260: 5b31 2c20 312c 2033 2c20 322c 2034 2c20  [1, 1, 3, 2, 4, 
-00005270: 322c 2033 5d29 2e75 6e69 7175 6528 290d  2, 3]).unique().
-00005280: 0a20 2020 2020 2020 2069 5475 706c 6528  .        iTuple(
-00005290: 312c 2033 2c20 322c 2034 290d 0a20 2020  1, 3, 2, 4)..   
-000052a0: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
-000052b0: 2020 6465 6620 6974 6572 2829 3a0d 0a20    def iter():.. 
-000052c0: 2020 2020 2020 2020 2020 2073 6565 6e20             seen 
-000052d0: 3d20 7365 7428 290d 0a20 2020 2020 2020  = set()..       
-000052e0: 2020 2020 2073 6565 6e5f 6164 6420 3d20       seen_add = 
-000052f0: 7365 656e 2e61 6464 0d0a 2020 2020 2020  seen.add..      
-00005300: 2020 2020 2020 7365 656e 5f63 6f6e 7461        seen_conta
-00005310: 696e 7320 3d20 7365 656e 2e5f 5f63 6f6e  ins = seen.__con
-00005320: 7461 696e 735f 5f0d 0a20 2020 2020 2020  tains__..       
-00005330: 2020 2020 2066 6f72 2076 2069 6e20 6974       for v in it
-00005340: 6572 746f 6f6c 732e 6669 6c74 6572 6661  ertools.filterfa
-00005350: 6c73 6528 7365 656e 5f63 6f6e 7461 696e  lse(seen_contain
-00005360: 732c 2073 656c 6629 3a0d 0a20 2020 2020  s, self):..     
-00005370: 2020 2020 2020 2020 2020 2073 6565 6e5f             seen_
-00005380: 6164 6428 7629 0d0a 2020 2020 2020 2020  add(v)..        
-00005390: 2020 2020 2020 2020 7969 656c 6420 760d          yield v.
-000053a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000053b0: 7479 7065 2873 656c 6629 2864 6174 613d  type(self)(data=
-000053c0: 6974 6572 2829 290d 0a20 2020 200d 0a20  iter())..    .. 
-000053d0: 2020 2064 6566 2073 6f72 7428 7365 6c66     def sort(self
-000053e0: 2c20 6620 3d20 6c61 6d62 6461 2076 3a20  , f = lambda v: 
-000053f0: 7629 3a0d 0a20 2020 2020 2020 2022 2222  v):..        """
-00005400: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
-00005410: 7570 6c65 2e72 616e 6765 2833 292e 7265  uple.range(3).re
-00005420: 7665 7273 6528 292e 736f 7274 2829 0d0a  verse().sort()..
-00005430: 2020 2020 2020 2020 6954 7570 6c65 2830          iTuple(0
-00005440: 2c20 312c 2032 290d 0a20 2020 2020 2020  , 1, 2)..       
-00005450: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
-00005460: 6528 3329 2e73 6f72 7428 290d 0a20 2020  e(3).sort()..   
-00005470: 2020 2020 2069 5475 706c 6528 302c 2031       iTuple(0, 1
-00005480: 2c20 3229 0d0a 2020 2020 2020 2020 2222  , 2)..        ""
-00005490: 220d 0a20 2020 2020 2020 2072 6574 7572  "..        retur
-000054a0: 6e20 7479 7065 2873 656c 6629 2864 6174  n type(self)(dat
-000054b0: 613d 736f 7274 6564 2873 656c 662c 206b  a=sorted(self, k
-000054c0: 6579 203d 2066 2929 0d0a 0d0a 2020 2020  ey = f))....    
-000054d0: 6465 6620 6163 6375 6d75 6c61 7465 2873  def accumulate(s
-000054e0: 656c 662c 2066 2c20 696e 6974 6961 6c20  elf, f, initial 
-000054f0: 3d20 4e6f 6e65 2c20 6c61 7a79 203d 2046  = None, lazy = F
-00005500: 616c 7365 293a 0d0a 2020 2020 2020 2020  alse):..        
-00005510: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
-00005520: 2069 5475 706c 652e 7261 6e67 6528 3329   iTuple.range(3)
-00005530: 2e61 6363 756d 756c 6174 6528 6c61 6d62  .accumulate(lamb
-00005540: 6461 2061 6363 2c20 763a 2076 290d 0a20  da acc, v: v).. 
-00005550: 2020 2020 2020 2069 5475 706c 6528 302c         iTuple(0,
-00005560: 2031 2c20 3229 0d0a 2020 2020 2020 2020   1, 2)..        
-00005570: 3e3e 3e20 6954 7570 6c65 2e72 616e 6765  >>> iTuple.range
-00005580: 2833 292e 6163 6375 6d75 6c61 7465 286c  (3).accumulate(l
-00005590: 616d 6264 6120 6163 632c 2076 3a20 762c  ambda acc, v: v,
-000055a0: 2069 6e69 7469 616c 3d30 290d 0a20 2020   initial=0)..   
-000055b0: 2020 2020 2069 5475 706c 6528 302c 2030       iTuple(0, 0
-000055c0: 2c20 312c 2032 290d 0a20 2020 2020 2020  , 1, 2)..       
-000055d0: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
-000055e0: 6528 3329 2e61 6363 756d 756c 6174 6528  e(3).accumulate(
-000055f0: 6f70 6572 6174 6f72 2e61 6464 290d 0a20  operator.add).. 
-00005600: 2020 2020 2020 2069 5475 706c 6528 302c         iTuple(0,
-00005610: 2031 2c20 3329 0d0a 2020 2020 2020 2020   1, 3)..        
-00005620: 2222 220d 0a20 2020 2020 2020 2072 6573  """..        res
-00005630: 203d 2069 7465 7274 6f6f 6c73 2e61 6363   = itertools.acc
-00005640: 756d 756c 6174 6528 7365 6c66 2c20 6675  umulate(self, fu
-00005650: 6e63 3d66 2c20 696e 6974 6961 6c3d 696e  nc=f, initial=in
-00005660: 6974 6961 6c29 0d0a 2020 2020 2020 2020  itial)..        
-00005670: 7265 7475 726e 2072 6573 2069 6620 6c61  return res if la
-00005680: 7a79 2065 6c73 6520 6954 7570 6c65 2864  zy else iTuple(d
-00005690: 6174 613d 7265 7329 0d0a 0d0a 2020 2020  ata=res)....    
-000056a0: 6465 6620 666f 6c64 6375 6d28 7365 6c66  def foldcum(self
-000056b0: 2c20 2a61 7267 732c 202a 2a6b 7761 7267  , *args, **kwarg
-000056c0: 7329 3a0d 0a20 2020 2020 2020 2022 2222  s):..        """
-000056d0: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
-000056e0: 7570 6c65 2e72 616e 6765 2833 292e 666f  uple.range(3).fo
-000056f0: 6c64 6375 6d28 6c61 6d62 6461 2061 6363  ldcum(lambda acc
-00005700: 2c20 763a 2076 290d 0a20 2020 2020 2020  , v: v)..       
-00005710: 2069 5475 706c 6528 302c 2031 2c20 3229   iTuple(0, 1, 2)
-00005720: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
-00005730: 7570 6c65 2e72 616e 6765 2833 292e 666f  uple.range(3).fo
-00005740: 6c64 6375 6d28 6f70 6572 6174 6f72 2e61  ldcum(operator.a
-00005750: 6464 290d 0a20 2020 2020 2020 2069 5475  dd)..        iTu
-00005760: 706c 6528 302c 2031 2c20 3329 0d0a 2020  ple(0, 1, 3)..  
-00005770: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
-00005780: 2020 2072 6574 7572 6e20 7365 6c66 2e61     return self.a
-00005790: 6363 756d 756c 6174 6528 2a61 7267 732c  ccumulate(*args,
-000057a0: 202a 2a6b 7761 7267 7329 0d0a 0d0a 2020   **kwargs)....  
-000057b0: 2020 6465 6620 666f 6c64 2873 656c 662c    def fold(self,
-000057c0: 2066 2c20 696e 6974 6961 6c3d 4e6f 6e65   f, initial=None
-000057d0: 293a 0d0a 2020 2020 2020 2020 2222 220d  ):..        """.
-000057e0: 0a20 2020 2020 2020 203e 3e3e 2069 5475  .        >>> iTu
-000057f0: 706c 652e 7261 6e67 6528 3329 2e66 6f6c  ple.range(3).fol
-00005800: 6428 6c61 6d62 6461 2061 6363 2c20 763a  d(lambda acc, v:
-00005810: 2076 290d 0a20 2020 2020 2020 2032 0d0a   v)..        2..
-00005820: 2020 2020 2020 2020 3e3e 3e20 6954 7570          >>> iTup
-00005830: 6c65 2e72 616e 6765 2833 292e 666f 6c64  le.range(3).fold
-00005840: 286c 616d 6264 6120 6163 632c 2076 3a20  (lambda acc, v: 
-00005850: 762c 2069 6e69 7469 616c 3d30 290d 0a20  v, initial=0).. 
-00005860: 2020 2020 2020 2032 0d0a 2020 2020 2020         2..      
-00005870: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
-00005880: 6765 2833 292e 666f 6c64 286f 7065 7261  ge(3).fold(opera
-00005890: 746f 722e 6164 6429 0d0a 2020 2020 2020  tor.add)..      
-000058a0: 2020 330d 0a20 2020 2020 2020 2022 2222    3..        """
-000058b0: 0d0a 2020 2020 2020 2020 6966 2069 6e69  ..        if ini
-000058c0: 7469 616c 2069 7320 6e6f 7420 4e6f 6e65  tial is not None
-000058d0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-000058e0: 6573 203d 2066 756e 6374 6f6f 6c73 2e72  es = functools.r
-000058f0: 6564 7563 6528 662c 2073 656c 662c 2069  educe(f, self, i
-00005900: 6e69 7469 616c 290d 0a20 2020 2020 2020  nitial)..       
-00005910: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
-00005920: 2020 2020 7265 7320 3d20 6675 6e63 746f      res = functo
-00005930: 6f6c 732e 7265 6475 6365 2866 2c20 7365  ols.reduce(f, se
-00005940: 6c66 290d 0a20 2020 2020 2020 2072 6574  lf)..        ret
-00005950: 7572 6e20 7265 730d 0a0d 0a20 2020 2023  urn res....    #
-00005960: 202d 2d2d 2d2d 0d0a 0d0a 2020 2020 2320   -----....    # 
-00005970: 636f 6d62 696e 6174 6f72 6963 730d 0a0d  combinatorics...
-00005980: 0a20 2020 2023 202d 2d2d 2d2d 0d0a 0d0a  .    # -----....
-00005990: 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  # --------------
-000059a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000059b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000059c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000059d0: 2d0d 0a0d 0a40 6e54 7570 6c65 2e64 6563  -....@nTuple.dec
-000059e0: 6f72 6174 650d 0a63 6c61 7373 2045 7861  orate..class Exa
-000059f0: 6d70 6c65 2874 7970 696e 672e 4e61 6d65  mple(typing.Name
-00005a00: 6454 7570 6c65 293a 0d0a 2020 2020 2222  dTuple):..    ""
-00005a10: 220d 0a20 2020 203e 3e3e 2065 7820 3d20  "..    >>> ex = 
-00005a20: 4578 616d 706c 6528 312c 2022 6122 290d  Example(1, "a").
-00005a30: 0a20 2020 203e 3e3e 2065 780d 0a20 2020  .    >>> ex..   
-00005a40: 2045 7861 6d70 6c65 2878 3d31 2c20 733d   Example(x=1, s=
-00005a50: 2761 272c 2069 743d 6954 7570 6c65 2829  'a', it=iTuple()
-00005a60: 290d 0a20 2020 203e 3e3e 2065 782e 636c  )..    >>> ex.cl
-00005a70: 730d 0a20 2020 203c 636c 6173 7320 2778  s..    <class 'x
-00005a80: 7475 706c 6573 2e78 7475 706c 6573 2e6e  tuples.xtuples.n
-00005a90: 5475 706c 6527 3e0d 0a20 2020 203e 3e3e  Tuple'>..    >>>
-00005aa0: 2065 782e 7069 7065 286c 616d 6264 6120   ex.pipe(lambda 
-00005ab0: 6e74 3a20 6e74 2e78 290d 0a20 2020 2031  nt: nt.x)..    1
-00005ac0: 0d0a 2020 2020 3e3e 3e20 6620 3d20 6578  ..    >>> f = ex
-00005ad0: 2e70 6172 7469 616c 286c 616d 6264 6120  .partial(lambda 
-00005ae0: 6e74 2c20 763a 206e 742e 7820 2a20 7629  nt, v: nt.x * v)
-00005af0: 0d0a 2020 2020 3e3e 3e20 6628 3229 0d0a  ..    >>> f(2)..
-00005b00: 2020 2020 320d 0a20 2020 203e 3e3e 2066      2..    >>> f
-00005b10: 2833 290d 0a20 2020 2033 0d0a 2020 2020  (3)..    3..    
-00005b20: 2222 220d 0a20 2020 2023 204e 4f54 453a  """..    # NOTE:
-00005b30: 2063 6c73 2c20 7069 7065 2c20 7061 7274   cls, pipe, part
-00005b40: 6961 6c20 6172 6520 6d61 6e64 6174 6f72  ial are mandator
-00005b50: 7920 626f 696c 6572 706c 6174 650d 0a0d  y boilerplate...
-00005b60: 0a20 2020 2078 3a20 696e 740d 0a20 2020  .    x: int..   
-00005b70: 2073 3a20 7374 720d 0a20 2020 2069 743a   s: str..    it:
-00005b80: 2069 5475 706c 6520 3d20 6954 7570 6c65   iTuple = iTuple
-00005b90: 285b 5d29 0d0a 0d0a 2020 2020 4070 726f  ([])....    @pro
-00005ba0: 7065 7274 790d 0a20 2020 2064 6566 2063  perty..    def c
-00005bb0: 6c73 2873 656c 6629 3a0d 0a20 2020 2020  ls(self):..     
-00005bc0: 2020 202e 2e2e 0d0a 0d0a 2020 2020 6465     .......    de
-00005bd0: 6620 7069 7065 2873 656c 662c 2066 2c20  f pipe(self, f, 
-00005be0: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
-00005bf0: 3a0d 0a20 2020 2020 2020 202e 2e2e 0d0a  :..        .....
-00005c00: 0d0a 2020 2020 6465 6620 7061 7274 6961  ..    def partia
-00005c10: 6c28 7365 6c66 2c20 662c 202a 6172 6773  l(self, f, *args
-00005c20: 2c20 2a2a 6b77 6172 6773 293a 0d0a 2020  , **kwargs):..  
-00005c30: 2020 2020 2020 2e2e 2e0d 0a0d 0a23 202d        .......# -
-00005c40: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00005c50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00005c60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00005c70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0d0a  --------------..
-00005c80: 0d0a 2320 696d 706f 7274 206d 6973 632e  ..# import misc.
-00005c90: 7065 7266 6d6f 6e0d 0a0d 0a23 2064 6566  perfmon....# def
-00005ca0: 2069 6e74 5f6d 656d 6f72 795f 6765 6e28   int_memory_gen(
-00005cb0: 6375 6d3d 4661 6c73 6529 3a0d 0a23 2020  cum=False):..#  
-00005cc0: 2020 2069 203d 2030 0d0a 2320 2020 2020     i = 0..#     
-00005cd0: 7768 696c 6520 5472 7565 3a0d 0a23 2020  while True:..#  
-00005ce0: 2020 2020 2020 2079 6965 6c64 2069 0d0a         yield i..
-00005cf0: 2320 2020 2020 7265 7475 726e 0d0a 0d0a  #     return....
-00005d00: 2320 6465 6620 6469 6374 5f6d 656d 6f72  # def dict_memor
-00005d10: 795f 6765 6e28 6375 6d3d 4661 6c73 6529  y_gen(cum=False)
-00005d20: 3a0d 0a23 2020 2020 2069 203d 2030 0d0a  :..#     i = 0..
-00005d30: 2320 2020 2020 6966 2063 756d 3a0d 0a23  #     if cum:..#
-00005d40: 2020 2020 2020 2020 2077 6869 6c65 2054           while T
-00005d50: 7275 653a 0d0a 2320 2020 2020 2020 2020  rue:..#         
-00005d60: 2020 2020 7969 656c 6420 7b69 693a 2069      yield {ii: i
-00005d70: 6920 666f 7220 6969 2069 6e20 7261 6e67  i for ii in rang
-00005d80: 6528 6929 7d0d 0a23 2020 2020 2020 2020  e(i)}..#        
-00005d90: 2020 2020 2069 202b 3d20 310d 0a23 2020       i += 1..#  
-00005da0: 2020 2065 6c73 653a 0d0a 2320 2020 2020     else:..#     
-00005db0: 2020 2020 7768 696c 6520 5472 7565 3a0d      while True:.
-00005dc0: 0a23 2020 2020 2020 2020 2020 2020 2079  .#             y
-00005dd0: 6965 6c64 207b 693a 2069 7d0d 0a23 2020  ield {i: i}..#  
-00005de0: 2020 2020 2020 2020 2020 2069 202b 3d20             i += 
-00005df0: 310d 0a23 2020 2020 2072 6574 7572 6e0d  1..#     return.
-00005e00: 0a0d 0a23 2064 6566 206c 6973 745f 6d65  ...# def list_me
-00005e10: 6d6f 7279 5f67 656e 2863 756d 3d46 616c  mory_gen(cum=Fal
-00005e20: 7365 293a 0d0a 2320 2020 2020 6920 3d20  se):..#     i = 
-00005e30: 300d 0a23 2020 2020 2069 6620 6375 6d3a  0..#     if cum:
-00005e40: 0d0a 2320 2020 2020 2020 2020 7768 696c  ..#         whil
-00005e50: 6520 5472 7565 3a0d 0a23 2020 2020 2020  e True:..#      
-00005e60: 2020 2020 2020 2079 6965 6c64 206c 6973         yield lis
-00005e70: 7428 7261 6e67 6528 6929 290d 0a23 2020  t(range(i))..#  
-00005e80: 2020 2020 2020 2020 2020 2069 202b 3d20             i += 
-00005e90: 310d 0a23 2020 2020 2065 6c73 653a 0d0a  1..#     else:..
-00005ea0: 2320 2020 2020 2020 2020 7768 696c 6520  #         while 
-00005eb0: 5472 7565 3a0d 0a23 2020 2020 2020 2020  True:..#        
-00005ec0: 2020 2020 2079 6965 6c64 205b 695d 0d0a       yield [i]..
-00005ed0: 2320 2020 2020 2020 2020 2020 2020 6920  #             i 
-00005ee0: 2b3d 2031 0d0a 2320 2020 2020 7265 7475  += 1..#     retu
-00005ef0: 726e 0d0a 0d0a 2320 6465 6620 6954 7570  rn....# def iTup
-00005f00: 6c65 5f6d 656d 6f72 795f 6765 6e28 6375  le_memory_gen(cu
-00005f10: 6d3d 4661 6c73 6529 3a0d 0a23 2020 2020  m=False):..#    
-00005f20: 2069 203d 2030 0d0a 2320 2020 2020 6966   i = 0..#     if
-00005f30: 2063 756d 3a0d 0a23 2020 2020 2020 2020   cum:..#        
-00005f40: 2077 6869 6c65 2054 7275 653a 0d0a 2320   while True:..# 
-00005f50: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
-00005f60: 6420 6954 7570 6c65 2872 616e 6765 2869  d iTuple(range(i
-00005f70: 2929 0d0a 2320 2020 2020 2020 2020 2020  ))..#           
-00005f80: 2020 6920 2b3d 2031 0d0a 2320 2020 2020    i += 1..#     
-00005f90: 656c 7365 3a0d 0a23 2020 2020 2020 2020  else:..#        
-00005fa0: 2077 6869 6c65 2054 7275 653a 0d0a 2320   while True:..# 
-00005fb0: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
-00005fc0: 6420 6954 7570 6c65 285b 695d 290d 0a23  d iTuple([i])..#
-00005fd0: 2020 2020 2020 2020 2020 2020 2069 202b               i +
-00005fe0: 3d20 310d 0a23 2020 2020 2072 6574 7572  = 1..#     retur
-00005ff0: 6e0d 0a0d 0a23 2070 7269 6e74 2822 696e  n....# print("in
-00006000: 7422 2c20 6d69 7363 2e70 6572 666d 6f6e  t", misc.perfmon
-00006010: 2e70 726f 6669 6c65 5f6d 656d 6f72 7928  .profile_memory(
-00006020: 0d0a 2320 2020 2020 696e 745f 6d65 6d6f  ..#     int_memo
-00006030: 7279 5f67 656e 0d0a 2320 2929 0d0a 0d0a  ry_gen..# ))....
-00006040: 2320 7072 696e 7428 226c 6973 7422 2c20  # print("list", 
-00006050: 6d69 7363 2e70 6572 666d 6f6e 2e70 726f  misc.perfmon.pro
-00006060: 6669 6c65 5f6d 656d 6f72 7928 0d0a 2320  file_memory(..# 
-00006070: 2020 2020 6c69 7374 5f6d 656d 6f72 795f      list_memory_
-00006080: 6765 6e0d 0a23 2029 290d 0a0d 0a23 2070  gen..# ))....# p
-00006090: 7269 6e74 2822 6954 7570 6c65 222c 206d  rint("iTuple", m
-000060a0: 6973 632e 7065 7266 6d6f 6e2e 7072 6f66  isc.perfmon.prof
-000060b0: 696c 655f 6d65 6d6f 7279 280d 0a23 2020  ile_memory(..#  
-000060c0: 2020 2069 5475 706c 655f 6d65 6d6f 7279     iTuple_memory
-000060d0: 5f67 656e 0d0a 2320 2929 0d0a 0d0a 2320  _gen..# ))....# 
-000060e0: 7072 696e 7428 226c 6973 7420 6375 6d22  print("list cum"
-000060f0: 2c20 6d69 7363 2e70 6572 666d 6f6e 2e70  , misc.perfmon.p
-00006100: 726f 6669 6c65 5f6d 656d 6f72 7928 0d0a  rofile_memory(..
-00006110: 2320 2020 2020 6c69 7374 5f6d 656d 6f72  #     list_memor
-00006120: 795f 6765 6e2c 2063 756d 3d54 7275 652c  y_gen, cum=True,
-00006130: 0d0a 2320 2929 0d0a 0d0a 2320 7072 696e  ..# ))....# prin
-00006140: 7428 2269 5475 706c 6520 6375 6d22 2c20  t("iTuple cum", 
-00006150: 6d69 7363 2e70 6572 666d 6f6e 2e70 726f  misc.perfmon.pro
-00006160: 6669 6c65 5f6d 656d 6f72 7928 0d0a 2320  file_memory(..# 
-00006170: 2020 2020 6954 7570 6c65 5f6d 656d 6f72      iTuple_memor
-00006180: 795f 6765 6e2c 2063 756d 3d54 7275 652c  y_gen, cum=True,
-00006190: 0d0a 2320 2929 0d0a 0d0a 2320 2d2d 2d2d  ..# ))....# ----
-000061a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000061b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000061c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000061d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0d 0a0d 0a23  -----------....#
-000061e0: 2073 203d 2053 2831 290d 0a23 2073 5f70   s = S(1)..# s_p
-000061f0: 6172 656e 7420 3d20 535f 5061 7265 6e74  arent = S_Parent
-00006200: 2873 290d 0a0d 0a23 2070 7269 6e74 2873  (s)....# print(s
-00006210: 2e63 6c73 2e61 6e6e 6f74 6174 696f 6e73  .cls.annotations
-00006220: 2873 2929 0d0a 0d0a 2320 7072 696e 7428  (s))....# print(
-00006230: 732e 636c 7329 0d0a 0d0a 2320 7072 696e  s.cls)....# prin
-00006240: 7428 735f 7061 7265 6e74 2e63 6173 745f  t(s_parent.cast_
-00006250: 6a73 6f6e 2829 290d 0a0d 0a23 2070 7269  json())....# pri
-00006260: 6e74 2869 5475 706c 6528 5b73 5f70 6172  nt(iTuple([s_par
-00006270: 656e 745d 292e 6361 7374 5f6a 736f 6e28  ent]).cast_json(
-00006280: 2929 0d0a 0d0a 2320 2320 2d2d 2d2d 2d2d  ))....# # ------
-00006290: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000062a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000062b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000062c0: 2d2d 2d2d 2d2d 2d2d 2d0d 0a0d 0a23 206c  ---------....# l
-000062d0: 203d 2069 5475 706c 6528 5b73 5d29 0d0a   = iTuple([s])..
-000062e0: 0d0a 2320 7072 696e 7428 6c2e 6578 7465  ..# print(l.exte
-000062f0: 6e64 285b 325d 2929 0d0a 0d0a 2320 7072  nd([2]))....# pr
-00006300: 696e 7428 6c2e 6170 7065 6e64 2831 2929  int(l.append(1))
-00006310: 0d0a 0d0a 2320 7072 696e 7428 6c2e 6d61  ....# print(l.ma
-00006320: 7028 7072 696e 7429 290d 0a0d 0a23 2023  p(print))....# #
-00006330: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
-00006340: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00006350: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00006360: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00006370: 0d0a 0d0a 2320 7072 696e 7428 732e 636c  ....# print(s.cl
-00006380: 7329 0d0a 0d0a 2320 7072 696e 7428 2253  s)....# print("S
-00006390: 686f 756c 6420 6265 2074 7275 653a 222c  hould be true:",
-000063a0: 206e 5475 706c 652e 6973 5f69 6e73 7461   nTuple.is_insta
-000063b0: 6e63 6528 7329 290d 0a23 2070 7269 6e74  nce(s))..# print
-000063c0: 2822 5368 6f75 6c64 2062 6520 6661 6c73  ("Should be fals
-000063d0: 653a 222c 206e 5475 706c 652e 6973 5f73  e:", nTuple.is_s
-000063e0: 7562 636c 6173 7328 7329 290d 0a0d 0a23  ubclass(s))....#
-000063f0: 2070 7269 6e74 2822 5368 6f75 6c64 2062   print("Should b
-00006400: 6520 7472 7565 3a22 2c20 6e54 7570 6c65  e true:", nTuple
-00006410: 2e69 735f 7375 6263 6c61 7373 2853 2929  .is_subclass(S))
-00006420: 0d0a 2320 7072 696e 7428 2253 686f 756c  ..# print("Shoul
-00006430: 6420 6265 2066 616c 7365 3a22 2c20 6e54  d be false:", nT
-00006440: 7570 6c65 2e69 735f 696e 7374 616e 6365  uple.is_instance
-00006450: 2853 2929 0d0a 0d0a 2320 2d2d 2d2d 2d2d  (S))....# ------
-00006460: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00006470: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00006480: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00006490: 2d2d 2d2d 2d2d 2d2d 2d0d 0a0d 0a23 204e  ---------....# N
-000064a0: 4f54 453a 2069 2063 6f75 646c 2069 6e20  OTE: i coudl in 
-000064b0: 7468 656f 7279 2067 656e 6572 6174 6520  theory generate 
-000064c0: 7371 6c61 6c63 6865 6d79 2074 6162 6c65  sqlalchemy table
-000064d0: 730d 0a0d 0a23 2062 6173 6564 206f 6e20  s....# based on 
-000064e0: 7468 6520 7374 7275 6374 2064 6566 696e  the struct defin
-000064f0: 6974 696f 6e0d 0a0d 0a23 206a 6f69 6e73  ition....# joins
-00006500: 2070 7265 7375 6d61 626c 7920 6172 6520   presumably are 
-00006510: 7468 656e 206d 616e 7561 6c3f 0d0a 0d0a  then manual?....
-00006520: 2320 7769 7468 2073 7461 6e64 6172 6469  # with standardi
-00006530: 7365 6420 6567 2e20 7065 7273 6973 7420  sed eg. persist 
-00006540: 6d65 7468 6f64 7320 6261 7365 6420 6f6e  methods based on
-00006550: 2075 6e69 7175 6520 6b65 7973 2c20 6574   unique keys, et
-00006560: 632e 0d0a 0d0a 2320 6275 7420 616e 7920  c.....# but any 
-00006570: 706f 696e 743f 0d0a 0d0a 2320 6861 6e64  point?....# hand
-00006580: 6c65 2064 6174 6573 2061 7320 7469 6e79  le dates as tiny
-00006590: 2073 7472 7563 7473 3f0d 0a23 2073 7572   structs?..# sur
-000065a0: 656c 7920 7072 6f68 6962 6974 6976 656c  ely prohibitivel
-000065b0: 7920 6578 7065 6e73 6976 650d 0a0d 0a23  y expensive....#
-000065c0: 2074 7570 6c65 7320 7065 7268 6170 7320   tuples perhaps 
-000065d0: 6e6f 743f 2062 7574 2073 7469 6c6c 2061  not? but still a
-000065e0: 2062 6974 2c20 616e 6420 616c 6c20 7468   bit, and all th
-000065f0: 6520 6461 7465 7469 6d65 206d 6574 686f  e datetime metho
-00006600: 6473 2073 7564 6465 6e6c 7920 776f 756c  ds suddenly woul
-00006610: 646e 2774 2077 6f72 6b2e 0d0a 0d0a 2320  dn't work.....# 
-00006620: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00006630: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00006640: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00006650: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0d  ---------------.
-00006660: 0a                                       .
+00000470: 2020 2320 6465 6620 6d65 7461 5f64 6566    # def meta_def
+00000480: 6175 6c74 2873 656c 662c 206f 626a 293a  ault(self, obj):
+00000490: 0d0a 2020 2020 2320 2020 2020 7265 7475  ..    #     retu
+000004a0: 726e 206a 736f 6e2e 4a53 4f4e 456e 636f  rn json.JSONEnco
+000004b0: 6465 722e 6465 6661 756c 7428 7365 6c66  der.default(self
+000004c0: 2c20 6f62 6a29 0d0a 0d0a 2020 2020 2320  , obj)....    # 
+000004d0: 6465 6620 6465 6661 756c 7428 7365 6c66  def default(self
+000004e0: 2c20 6f62 6a29 3a0d 0a20 2020 2023 2020  , obj):..    #  
+000004f0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+00000500: 286f 626a 2c20 6644 6963 7429 3a0d 0a20  (obj, fDict):.. 
+00000510: 2020 2023 2020 2020 2020 2020 2072 6574     #         ret
+00000520: 7572 6e20 7365 6c66 2e6d 6574 615f 6465  urn self.meta_de
+00000530: 6661 756c 7428 6f62 6a2e 6461 7461 290d  fault(obj.data).
+00000540: 0a20 2020 2023 2020 2020 2072 6574 7572  .    #     retur
+00000550: 6e20 6361 7374 5f6a 736f 6e28 6f62 6a2c  n cast_json(obj,
+00000560: 2064 6566 6175 6c74 3d73 656c 662e 6d65   default=self.me
+00000570: 7461 5f64 6566 6175 6c74 290d 0a0d 0a23  ta_default)....#
+00000580: 202d 2d2d 2d2d 0d0a 0d0a 636c 6173 7320   -----....class 
+00000590: 4a53 4f4e 4465 636f 6465 7228 6a73 6f6e  JSONDecoder(json
+000005a0: 2e4a 534f 4e44 6563 6f64 6572 293a 0d0a  .JSONDecoder):..
+000005b0: 0d0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
+000005c0: 5f5f 2873 656c 662c 202a 6172 6773 2c20  __(self, *args, 
+000005d0: 2a2a 6b77 6172 6773 293a 0d0a 2020 2020  **kwargs):..    
+000005e0: 2020 2020 6a73 6f6e 2e4a 534f 4e44 6563      json.JSONDec
+000005f0: 6f64 6572 2e5f 5f69 6e69 745f 5f28 0d0a  oder.__init__(..
+00000600: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00000610: 2c0d 0a20 2020 2020 2020 2020 2020 206f  ,..            o
+00000620: 626a 6563 745f 686f 6f6b 3d73 656c 662e  bject_hook=self.
+00000630: 6f62 6a65 6374 5f68 6f6f 6b2c 0d0a 2020  object_hook,..  
+00000640: 2020 2020 2020 2020 2020 2a61 7267 732c            *args,
+00000650: 0d0a 2020 2020 2020 2020 2020 2020 2a2a  ..            **
+00000660: 6b77 6172 6773 0d0a 2020 2020 2020 2020  kwargs..        
+00000670: 2020 2020 230d 0a20 2020 2020 2020 2029      #..        )
+00000680: 0d0a 0d0a 2020 2020 4063 6c61 7373 6d65  ....    @classme
+00000690: 7468 6f64 0d0a 2020 2020 6465 6620 7874  thod..    def xt
+000006a0: 7570 6c65 5f6f 626a 6563 745f 686f 6f6b  uple_object_hook
+000006b0: 2863 6c73 2c20 6429 3a0d 0a20 2020 2020  (cls, d):..     
+000006c0: 2020 2072 6574 7572 6e20 756e 6361 7374     return uncast
+000006d0: 5f6a 736f 6e28 6429 0d0a 0d0a 2020 2020  _json(d)....    
+000006e0: 6465 6620 6f62 6a65 6374 5f68 6f6f 6b28  def object_hook(
+000006f0: 7365 6c66 2c20 6429 3a0d 0a20 2020 2020  self, d):..     
+00000700: 2020 2072 6574 7572 6e20 7365 6c66 2e78     return self.x
+00000710: 7475 706c 655f 6f62 6a65 6374 5f68 6f6f  tuple_object_hoo
+00000720: 6b28 6429 0d0a 0d0a 2320 2d2d 2d2d 2d0d  k(d)....# -----.
+00000730: 0a0d 0a64 6566 2063 6173 745f 6a73 6f6e  ...def cast_json
+00000740: 286f 626a 2c20 6465 6661 756c 7420 3d20  (obj, default = 
+00000750: 6c61 6d62 6461 206f 626a 3a20 6f62 6a29  lambda obj: obj)
+00000760: 3a0d 0a20 2020 2069 6620 6e54 7570 6c65  :..    if nTuple
+00000770: 2e69 735f 696e 7374 616e 6365 286f 626a  .is_instance(obj
+00000780: 293a 0d0a 2020 2020 2020 2020 7265 7475  ):..        retu
+00000790: 726e 206e 5475 706c 652e 6361 7374 5f6a  rn nTuple.cast_j
+000007a0: 736f 6e28 6f62 6a29 0d0a 2020 2020 7472  son(obj)..    tr
+000007b0: 793a 0d0a 2020 2020 2020 2020 7265 7475  y:..        retu
+000007c0: 726e 206f 626a 2e63 6173 745f 6a73 6f6e  rn obj.cast_json
+000007d0: 2829 0d0a 2020 2020 6578 6365 7074 3a0d  ()..    except:.
+000007e0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000007f0: 6465 6661 756c 7428 6f62 6a29 0d0a 0d0a  default(obj)....
+00000800: 6465 6620 756e 6361 7374 5f6a 736f 6e28  def uncast_json(
+00000810: 6f62 6a29 3a0d 0a20 2020 2069 6620 6e6f  obj):..    if no
+00000820: 7420 6973 696e 7374 616e 6365 286f 626a  t isinstance(obj
+00000830: 2c20 6469 6374 293a 0d0a 2020 2020 2020  , dict):..      
+00000840: 2020 7265 7475 726e 206f 626a 0d0a 2020    return obj..  
+00000850: 2020 5f5f 745f 5f20 3d20 6f62 6a2e 6765    __t__ = obj.ge
+00000860: 7428 225f 5f74 5f5f 222c 204e 6f6e 6529  t("__t__", None)
+00000870: 0d0a 2020 2020 6966 205f 5f74 5f5f 2069  ..    if __t__ i
+00000880: 7320 4e6f 6e65 3a0d 0a20 2020 2020 2020  s None:..       
+00000890: 2072 6574 7572 6e20 6f62 6a0d 0a20 2020   return obj..   
+000008a0: 2063 6c73 203d 2069 5475 706c 6520 6966   cls = iTuple if
+000008b0: 205f 5f74 5f5f 203d 3d20 2269 5475 706c   __t__ == "iTupl
+000008c0: 6522 2065 6c73 6520 5245 4749 5354 5259  e" else REGISTRY
+000008d0: 5b5f 5f74 5f5f 5d0d 0a20 2020 2069 6620  [__t__]..    if 
+000008e0: 6861 7361 7474 7228 636c 732c 2022 756e  hasattr(cls, "un
+000008f0: 6361 7374 5f6a 736f 6e22 293a 0d0a 2020  cast_json"):..  
+00000900: 2020 2020 2020 7265 7475 726e 2063 6c73        return cls
+00000910: 2e75 6e63 6173 745f 6a73 6f6e 286f 626a  .uncast_json(obj
+00000920: 290d 0a20 2020 2072 6574 7572 6e20 636c  )..    return cl
+00000930: 7328 0d0a 2020 2020 2020 2020 2a28 7620  s(..        *(v 
+00000940: 666f 7220 6b2c 2076 2069 6e20 6f62 6a2e  for k, v in obj.
+00000950: 6974 656d 7328 2920 6966 206b 2021 3d20  items() if k != 
+00000960: 225f 5f74 5f5f 2229 0d0a 2020 2020 290d  "__t__")..    ).
+00000970: 0a0d 0a23 202d 2d2d 2d2d 0d0a 0d0a 2320  ...# -----....# 
+00000980: 544f 444f 3a20 6653 7472 696e 6720 736f  TODO: fString so
+00000990: 2063 616e 2064 6f20 2e70 6970 6520 3f0d   can do .pipe ?.
+000009a0: 0a64 6566 2074 6f5f 6a73 6f6e 2876 2c20  .def to_json(v, 
+000009b0: 2a2a 6b77 6172 6773 293a 0d0a 2020 2020  **kwargs):..    
+000009c0: 2222 220d 0a20 2020 203e 3e3e 2070 7269  """..    >>> pri
+000009d0: 6e74 2869 5475 706c 6528 5b45 7861 6d70  nt(iTuple([Examp
+000009e0: 6c65 2831 2c20 2261 2229 5d29 2e70 6970  le(1, "a")]).pip
+000009f0: 6528 746f 5f6a 736f 6e2c 2069 6e64 656e  e(to_json, inden
+00000a00: 743d 3229 290d 0a20 2020 207b 0d0a 2020  t=2))..    {..  
+00000a10: 2020 2020 225f 5f74 5f5f 223a 2022 6954      "__t__": "iT
+00000a20: 7570 6c65 222c 0d0a 2020 2020 2020 2264  uple",..      "d
+00000a30: 6174 6122 3a20 5b0d 0a20 2020 2020 2020  ata": [..       
+00000a40: 207b 0d0a 2020 2020 2020 2020 2020 2278   {..          "x
+00000a50: 223a 2031 2c0d 0a20 2020 2020 2020 2020  ": 1,..         
+00000a60: 2022 7322 3a20 2261 222c 0d0a 2020 2020   "s": "a",..    
+00000a70: 2020 2020 2020 2269 7422 3a20 7b0d 0a20        "it": {.. 
+00000a80: 2020 2020 2020 2020 2020 2022 5f5f 745f             "__t_
+00000a90: 5f22 3a20 2269 5475 706c 6522 2c0d 0a20  _": "iTuple",.. 
+00000aa0: 2020 2020 2020 2020 2020 2022 6461 7461             "data
+00000ab0: 223a 205b 5d0d 0a20 2020 2020 2020 2020  ": []..         
+00000ac0: 207d 2c0d 0a20 2020 2020 2020 2020 2022   },..          "
+00000ad0: 5f5f 745f 5f22 3a20 2245 7861 6d70 6c65  __t__": "Example
+00000ae0: 220d 0a20 2020 2020 2020 207d 0d0a 2020  "..        }..  
+00000af0: 2020 2020 5d0d 0a20 2020 207d 0d0a 2020      ]..    }..  
+00000b00: 2020 3e3e 3e20 7072 696e 7428 6954 7570    >>> print(iTup
+00000b10: 6c65 285b 0d0a 2020 2020 2e2e 2e20 2020  le([..    ...   
+00000b20: 2020 6954 7570 6c65 285b 4578 616d 706c    iTuple([Exampl
+00000b30: 6528 312c 2022 6122 295d 290d 0a20 2020  e(1, "a")])..   
+00000b40: 202e 2e2e 205d 292e 7069 7065 2874 6f5f   ... ]).pipe(to_
+00000b50: 6a73 6f6e 2c20 696e 6465 6e74 3d32 2929  json, indent=2))
+00000b60: 0d0a 2020 2020 7b0d 0a20 2020 2020 2022  ..    {..      "
+00000b70: 5f5f 745f 5f22 3a20 2269 5475 706c 6522  __t__": "iTuple"
+00000b80: 2c0d 0a20 2020 2020 2022 6461 7461 223a  ,..      "data":
+00000b90: 205b 0d0a 2020 2020 2020 2020 7b0d 0a20   [..        {.. 
+00000ba0: 2020 2020 2020 2020 2022 5f5f 745f 5f22           "__t__"
+00000bb0: 3a20 2269 5475 706c 6522 2c0d 0a20 2020  : "iTuple",..   
+00000bc0: 2020 2020 2020 2022 6461 7461 223a 205b         "data": [
+00000bd0: 0d0a 2020 2020 2020 2020 2020 2020 7b0d  ..            {.
+00000be0: 0a20 2020 2020 2020 2020 2020 2020 2022  .              "
+00000bf0: 7822 3a20 312c 0d0a 2020 2020 2020 2020  x": 1,..        
+00000c00: 2020 2020 2020 2273 223a 2022 6122 2c0d        "s": "a",.
+00000c10: 0a20 2020 2020 2020 2020 2020 2020 2022  .              "
+00000c20: 6974 223a 207b 0d0a 2020 2020 2020 2020  it": {..        
+00000c30: 2020 2020 2020 2020 225f 5f74 5f5f 223a          "__t__":
+00000c40: 2022 6954 7570 6c65 222c 0d0a 2020 2020   "iTuple",..    
+00000c50: 2020 2020 2020 2020 2020 2020 2264 6174              "dat
+00000c60: 6122 3a20 5b5d 0d0a 2020 2020 2020 2020  a": []..        
+00000c70: 2020 2020 2020 7d2c 0d0a 2020 2020 2020        },..      
+00000c80: 2020 2020 2020 2020 225f 5f74 5f5f 223a          "__t__":
+00000c90: 2022 4578 616d 706c 6522 0d0a 2020 2020   "Example"..    
+00000ca0: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
+00000cb0: 2020 2020 205d 0d0a 2020 2020 2020 2020       ]..        
+00000cc0: 7d0d 0a20 2020 2020 205d 0d0a 2020 2020  }..      ]..    
+00000cd0: 7d0d 0a20 2020 203e 3e3e 2070 7269 6e74  }..    >>> print
+00000ce0: 2845 7861 6d70 6c65 2832 2c20 2262 222c  (Example(2, "b",
+00000cf0: 2069 5475 706c 6528 5b0d 0a20 2020 202e   iTuple([..    .
+00000d00: 2e2e 2020 2020 2069 5475 706c 6528 5b45  ..     iTuple([E
+00000d10: 7861 6d70 6c65 2831 2c20 2261 2229 5d29  xample(1, "a")])
+00000d20: 0d0a 2020 2020 2e2e 2e20 5d29 292e 7069  ..    ... ])).pi
+00000d30: 7065 2874 6f5f 6a73 6f6e 2c20 696e 6465  pe(to_json, inde
+00000d40: 6e74 3d32 2929 0d0a 2020 2020 7b0d 0a20  nt=2))..    {.. 
+00000d50: 2020 2020 2022 7822 3a20 322c 0d0a 2020       "x": 2,..  
+00000d60: 2020 2020 2273 223a 2022 6222 2c0d 0a20      "s": "b",.. 
+00000d70: 2020 2020 2022 6974 223a 207b 0d0a 2020       "it": {..  
+00000d80: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
+00000d90: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
+00000da0: 2020 2264 6174 6122 3a20 5b0d 0a20 2020    "data": [..   
+00000db0: 2020 2020 2020 207b 0d0a 2020 2020 2020         {..      
+00000dc0: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
+00000dd0: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
+00000de0: 2020 2020 2020 2264 6174 6122 3a20 5b0d        "data": [.
+00000df0: 0a20 2020 2020 2020 2020 2020 2020 207b  .              {
+00000e00: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00000e10: 2020 2278 223a 2031 2c0d 0a20 2020 2020    "x": 1,..     
+00000e20: 2020 2020 2020 2020 2020 2022 7322 3a20             "s": 
+00000e30: 2261 222c 0d0a 2020 2020 2020 2020 2020  "a",..          
+00000e40: 2020 2020 2020 2269 7422 3a20 7b0d 0a20        "it": {.. 
+00000e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e60: 2022 5f5f 745f 5f22 3a20 2269 5475 706c   "__t__": "iTupl
+00000e70: 6522 2c0d 0a20 2020 2020 2020 2020 2020  e",..           
+00000e80: 2020 2020 2020 2022 6461 7461 223a 205b         "data": [
+00000e90: 5d0d 0a20 2020 2020 2020 2020 2020 2020  ]..             
+00000ea0: 2020 207d 2c0d 0a20 2020 2020 2020 2020     },..         
+00000eb0: 2020 2020 2020 2022 5f5f 745f 5f22 3a20         "__t__": 
+00000ec0: 2245 7861 6d70 6c65 220d 0a20 2020 2020  "Example"..     
+00000ed0: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
+00000ee0: 2020 2020 2020 2020 5d0d 0a20 2020 2020          ]..     
+00000ef0: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
+00000f00: 5d0d 0a20 2020 2020 207d 2c0d 0a20 2020  ]..      },..   
+00000f10: 2020 2022 5f5f 745f 5f22 3a20 2245 7861     "__t__": "Exa
+00000f20: 6d70 6c65 220d 0a20 2020 207d 0d0a 2020  mple"..    }..  
+00000f30: 2020 2222 220d 0a20 2020 2072 6574 7572    """..    retur
+00000f40: 6e20 6a73 6f6e 2e64 756d 7073 2876 2c20  n json.dumps(v, 
+00000f50: 636c 733d 4a53 4f4e 456e 636f 6465 722c  cls=JSONEncoder,
+00000f60: 202a 2a6b 7761 7267 7329 0d0a 0d0a 6465   **kwargs)....de
+00000f70: 6620 6672 6f6d 5f6a 736f 6e28 763a 2073  f from_json(v: s
+00000f80: 7472 2c20 2a2a 6b77 6172 6773 293a 0d0a  tr, **kwargs):..
+00000f90: 2020 2020 2222 220d 0a20 2020 203e 3e3e      """..    >>>
+00000fa0: 2065 7820 3d20 6954 7570 6c65 285b 4578   ex = iTuple([Ex
+00000fb0: 616d 706c 6528 312c 2022 6122 295d 290d  ample(1, "a")]).
+00000fc0: 0a20 2020 203e 3e3e 2066 726f 6d5f 6a73  .    >>> from_js
+00000fd0: 6f6e 2865 782e 7069 7065 2874 6f5f 6a73  on(ex.pipe(to_js
+00000fe0: 6f6e 2929 0d0a 2020 2020 6954 7570 6c65  on))..    iTuple
+00000ff0: 2845 7861 6d70 6c65 2878 3d31 2c20 733d  (Example(x=1, s=
+00001000: 2761 272c 2069 743d 6954 7570 6c65 2829  'a', it=iTuple()
+00001010: 2929 0d0a 2020 2020 3e3e 3e20 6672 6f6d  ))..    >>> from
+00001020: 5f6a 736f 6e28 0d0a 2020 2020 2e2e 2e20  _json(..    ... 
+00001030: 2020 2020 6954 7570 6c65 285b 6954 7570      iTuple([iTup
+00001040: 6c65 285b 4578 616d 706c 6528 312c 2022  le([Example(1, "
+00001050: 6122 295d 295d 292e 7069 7065 2874 6f5f  a")])]).pipe(to_
+00001060: 6a73 6f6e 290d 0a20 2020 202e 2e2e 2029  json)..    ... )
+00001070: 0d0a 2020 2020 6954 7570 6c65 2869 5475  ..    iTuple(iTu
+00001080: 706c 6528 4578 616d 706c 6528 783d 312c  ple(Example(x=1,
+00001090: 2073 3d27 6127 2c20 6974 3d69 5475 706c   s='a', it=iTupl
+000010a0: 6528 2929 2929 0d0a 2020 2020 3e3e 3e20  e())))..    >>> 
+000010b0: 6672 6f6d 5f6a 736f 6e28 0d0a 2020 2020  from_json(..    
+000010c0: 2e2e 2e20 2020 2020 4578 616d 706c 6528  ...     Example(
+000010d0: 322c 2022 6222 2c20 6954 7570 6c65 285b  2, "b", iTuple([
+000010e0: 0d0a 2020 2020 2e2e 2e20 2020 2020 2020  ..    ...       
+000010f0: 2020 6954 7570 6c65 285b 4578 616d 706c    iTuple([Exampl
+00001100: 6528 312c 2022 6122 295d 290d 0a20 2020  e(1, "a")])..   
+00001110: 202e 2e2e 2020 2020 205d 2929 2e70 6970   ...     ])).pip
+00001120: 6528 746f 5f6a 736f 6e29 0d0a 2020 2020  e(to_json)..    
+00001130: 2e2e 2e20 290d 0a20 2020 2045 7861 6d70  ... )..    Examp
+00001140: 6c65 2878 3d32 2c20 733d 2762 272c 2069  le(x=2, s='b', i
+00001150: 743d 6954 7570 6c65 2869 5475 706c 6528  t=iTuple(iTuple(
+00001160: 4578 616d 706c 6528 783d 312c 2073 3d27  Example(x=1, s='
+00001170: 6127 2c20 6974 3d69 5475 706c 6528 2929  a', it=iTuple())
+00001180: 2929 290d 0a20 2020 2022 2222 0d0a 2020  )))..    """..  
+00001190: 2020 7265 7475 726e 206a 736f 6e2e 6c6f    return json.lo
+000011a0: 6164 7328 762c 2063 6c73 3d4a 534f 4e44  ads(v, cls=JSOND
+000011b0: 6563 6f64 6572 2c20 2a2a 6b77 6172 6773  ecoder, **kwargs
+000011c0: 290d 0a0d 0a64 6566 206c 6f61 645f 6a73  )....def load_js
+000011d0: 6f6e 2866 293a 0d0a 2020 2020 7265 7475  on(f):..    retu
+000011e0: 726e 206a 736f 6e2e 6c6f 6164 2866 2c20  rn json.load(f, 
+000011f0: 636c 733d 4a53 4f4e 4465 636f 6465 7229  cls=JSONDecoder)
+00001200: 0d0a 0d0a 6465 6620 6475 6d70 5f6a 736f  ....def dump_jso
+00001210: 6e28 662c 2076 293a 0d0a 2020 2020 7265  n(f, v):..    re
+00001220: 7475 726e 206a 736f 6e2e 6475 6d70 2866  turn json.dump(f
+00001230: 2c20 762c 2063 6c73 3d4a 534f 4e45 6e63  , v, cls=JSONEnc
+00001240: 6f64 6572 290d 0a0d 0a23 202d 2d2d 2d2d  oder)....# -----
+00001250: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001260: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001270: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001280: 2d2d 2d2d 2d2d 2d2d 2d2d 0d0a 0d0a 2320  ----------....# 
+00001290: 544f 444f 3a20 736f 6d65 206b 696e 6420  TODO: some kind 
+000012a0: 6f66 2076 616c 6964 6174 696f 6e20 706c  of validation pl
+000012b0: 6163 6568 6f6c 6465 723f 0d0a 2320 6361  aceholder?..# ca
+000012c0: 6c6c 6564 2069 6e20 696e 6974 2c20 6567  lled in init, eg
+000012d0: 2e20 7175 6172 7465 7220 696e 205b 3120  . quarter in [1 
+000012e0: 2e2e 2034 5d0d 0a0d 0a63 6c61 7373 206e  .. 4]....class n
+000012f0: 5475 706c 6528 6162 632e 4142 4329 3a0d  Tuple(abc.ABC):.
+00001300: 0a0d 0a20 2020 2040 6162 632e 6162 7374  ...    @abc.abst
+00001310: 7261 6374 6d65 7468 6f64 0d0a 2020 2020  ractmethod..    
+00001320: 6465 6620 5f5f 6162 7374 7261 6374 5f5f  def __abstract__
+00001330: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
+00001340: 2023 204e 4f54 453a 2068 6572 6520 746f   # NOTE: here to
+00001350: 2070 7265 7665 6e74 2069 6e69 7469 616c   prevent initial
+00001360: 6973 6520 696e 7374 616e 6365 7320 6f66  ise instances of
+00001370: 2074 6869 730d 0a20 2020 2020 2020 2023   this..        #
+00001380: 2062 7574 2072 6174 6865 7220 7573 6520   but rather use 
+00001390: 7468 6520 6465 636f 7261 746f 7220 616e  the decorator an
+000013a0: 6420 7479 7069 6e67 2e4e 616d 6564 5475  d typing.NamedTu
+000013b0: 706c 650d 0a20 2020 2020 2020 2072 6574  ple..        ret
+000013c0: 7572 6e0d 0a0d 0a20 2020 2040 7374 6174  urn....    @stat
+000013d0: 6963 6d65 7468 6f64 0d0a 2020 2020 6465  icmethod..    de
+000013e0: 6620 7069 7065 286f 626a 2c20 662c 202a  f pipe(obj, f, *
+000013f0: 6172 6773 2c20 2a2a 6b77 6172 6773 293a  args, **kwargs):
+00001400: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00001410: 2066 286f 626a 2c20 2a61 7267 732c 202a   f(obj, *args, *
+00001420: 2a6b 7761 7267 7329 0d0a 0d0a 2020 2020  *kwargs)....    
+00001430: 4073 7461 7469 636d 6574 686f 640d 0a20  @staticmethod.. 
+00001440: 2020 2064 6566 2070 6172 7469 616c 286f     def partial(o
+00001450: 626a 2c20 662c 202a 6172 6773 2c20 2a2a  bj, f, *args, **
+00001460: 6b77 6172 6773 293a 0d0a 2020 2020 2020  kwargs):..      
+00001470: 2020 7265 7475 726e 2066 756e 6374 6f6f    return functoo
+00001480: 6c73 2e70 6172 7469 616c 2866 2c20 6f62  ls.partial(f, ob
+00001490: 6a2c 202a 6172 6773 2c20 2a2a 6b77 6172  j, *args, **kwar
+000014a0: 6773 290d 0a0d 0a20 2020 2040 636c 6173  gs)....    @clas
+000014b0: 736d 6574 686f 640d 0a20 2020 2064 6566  smethod..    def
+000014c0: 2069 735f 7375 6263 6c61 7373 2863 6c73   is_subclass(cls
+000014d0: 2c20 7429 3a0d 0a20 2020 2020 2020 2022  , t):..        "
+000014e0: 2222 0d0a 2020 2020 2020 2020 3e3e 3e20  ""..        >>> 
+000014f0: 6e54 7570 6c65 2e69 735f 7375 6263 6c61  nTuple.is_subcla
+00001500: 7373 2874 7570 6c65 290d 0a20 2020 2020  ss(tuple)..     
+00001510: 2020 2046 616c 7365 0d0a 2020 2020 2020     False..      
+00001520: 2020 3e3e 3e20 6e54 7570 6c65 2e69 735f    >>> nTuple.is_
+00001530: 7375 6263 6c61 7373 2845 7861 6d70 6c65  subclass(Example
+00001540: 2831 2c20 2261 2229 290d 0a20 2020 2020  (1, "a"))..     
+00001550: 2020 2046 616c 7365 0d0a 2020 2020 2020     False..      
+00001560: 2020 3e3e 3e20 6e54 7570 6c65 2e69 735f    >>> nTuple.is_
+00001570: 7375 6263 6c61 7373 2845 7861 6d70 6c65  subclass(Example
+00001580: 290d 0a20 2020 2020 2020 2054 7275 650d  )..        True.
+00001590: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+000015a0: 2020 2020 2020 7472 793a 0d0a 2020 2020        try:..    
+000015b0: 2020 2020 2020 2020 6973 5f73 7562 203d          is_sub =
+000015c0: 2069 7373 7562 636c 6173 7328 742c 2074   issubclass(t, t
+000015d0: 7570 6c65 290d 0a20 2020 2020 2020 2065  uple)..        e
+000015e0: 7863 6570 743a 0d0a 2020 2020 2020 2020  xcept:..        
+000015f0: 2020 2020 6973 5f73 7562 203d 2046 616c      is_sub = Fal
+00001600: 7365 0d0a 2020 2020 2020 2020 7265 7475  se..        retu
+00001610: 726e 2028 0d0a 2020 2020 2020 2020 2020  rn (..          
+00001620: 2020 6973 5f73 7562 2061 6e64 0d0a 2020    is_sub and..  
+00001630: 2020 2020 2020 2020 2020 6861 7361 7474            hasatt
+00001640: 7228 742c 2022 636c 7322 2920 616e 640d  r(t, "cls") and.
+00001650: 0a20 2020 2020 2020 2020 2020 2068 6173  .            has
+00001660: 6174 7472 2874 2c20 2270 6970 6522 2920  attr(t, "pipe") 
+00001670: 616e 640d 0a20 2020 2020 2020 2020 2020  and..           
+00001680: 2068 6173 6174 7472 2874 2c20 2270 6172   hasattr(t, "par
+00001690: 7469 616c 2229 0d0a 2020 2020 2020 2020  tial")..        
+000016a0: 290d 0a0d 0a20 2020 2040 636c 6173 736d  )....    @classm
+000016b0: 6574 686f 640d 0a20 2020 2064 6566 2069  ethod..    def i
+000016c0: 735f 696e 7374 616e 6365 2863 6c73 2c20  s_instance(cls, 
+000016d0: 6f62 6a29 3a0d 0a20 2020 2020 2020 2022  obj):..        "
+000016e0: 2222 0d0a 2020 2020 2020 2020 3e3e 3e20  ""..        >>> 
+000016f0: 6e54 7570 6c65 2e69 735f 696e 7374 616e  nTuple.is_instan
+00001700: 6365 2874 7570 6c65 290d 0a20 2020 2020  ce(tuple)..     
+00001710: 2020 2046 616c 7365 0d0a 2020 2020 2020     False..      
+00001720: 2020 3e3e 3e20 6e54 7570 6c65 2e69 735f    >>> nTuple.is_
+00001730: 696e 7374 616e 6365 2845 7861 6d70 6c65  instance(Example
+00001740: 290d 0a20 2020 2020 2020 2046 616c 7365  )..        False
+00001750: 0d0a 2020 2020 2020 2020 3e3e 3e20 6e54  ..        >>> nT
+00001760: 7570 6c65 2e69 735f 696e 7374 616e 6365  uple.is_instance
+00001770: 2845 7861 6d70 6c65 2831 2c20 2261 2229  (Example(1, "a")
+00001780: 290d 0a20 2020 2020 2020 2054 7275 650d  )..        True.
+00001790: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+000017a0: 2020 2020 2020 7265 7475 726e 2028 0d0a        return (..
+000017b0: 2020 2020 2020 2020 2020 2020 636c 732e              cls.
+000017c0: 6973 5f73 7562 636c 6173 7328 7479 7065  is_subclass(type
+000017d0: 286f 626a 2929 2061 6e64 0d0a 2020 2020  (obj)) and..    
+000017e0: 2020 2020 2020 2020 6861 7361 7474 7228          hasattr(
+000017f0: 6f62 6a2c 2027 5f61 7364 6963 7427 2920  obj, '_asdict') 
+00001800: 616e 640d 0a20 2020 2020 2020 2020 2020  and..           
+00001810: 2068 6173 6174 7472 286f 626a 2c20 275f   hasattr(obj, '_
+00001820: 6669 656c 6473 2729 0d0a 2020 2020 2020  fields')..      
+00001830: 2020 290d 0a0d 0a0d 0a20 2020 2040 7374    )......    @st
+00001840: 6174 6963 6d65 7468 6f64 0d0a 2020 2020  aticmethod..    
+00001850: 6465 6620 616e 6e6f 7461 7469 6f6e 7328  def annotations(
+00001860: 6f62 6a29 3a0d 0a20 2020 2020 2020 2022  obj):..        "
+00001870: 2222 0d0a 2020 2020 2020 2020 3e3e 3e20  ""..        >>> 
+00001880: 6578 203d 2045 7861 6d70 6c65 2831 2c20  ex = Example(1, 
+00001890: 2261 2229 0d0a 2020 2020 2020 2020 3e3e  "a")..        >>
+000018a0: 3e20 6578 2e70 6970 6528 6578 2e63 6c73  > ex.pipe(ex.cls
+000018b0: 2e61 6e6e 6f74 6174 696f 6e73 290d 0a20  .annotations).. 
+000018c0: 2020 2020 2020 207b 2778 273a 203c 636c         {'x': <cl
+000018d0: 6173 7320 2769 6e74 273e 2c20 2773 273a  ass 'int'>, 's':
+000018e0: 203c 636c 6173 7320 2773 7472 273e 2c20   <class 'str'>, 
+000018f0: 2769 7427 3a20 3c63 6c61 7373 2027 7874  'it': <class 'xt
+00001900: 7570 6c65 732e 7874 7570 6c65 732e 6954  uples.xtuples.iT
+00001910: 7570 6c65 273e 7d0d 0a20 2020 2020 2020  uple'>}..       
+00001920: 2022 2222 0d0a 2020 2020 2020 2020 7265   """..        re
+00001930: 7475 726e 2066 4469 6374 286f 626a 2e5f  turn fDict(obj._
+00001940: 5f61 6e6e 6f74 6174 696f 6e73 5f5f 290d  _annotations__).
+00001950: 0a0d 0a20 2020 2040 636c 6173 736d 6574  ...    @classmet
+00001960: 686f 640d 0a20 2020 2064 6566 2061 735f  hod..    def as_
+00001970: 6469 6374 2863 6c73 2c20 6f62 6a29 3a0d  dict(cls, obj):.
+00001980: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+00001990: 2020 2020 2020 3e3e 3e20 6578 203d 2045        >>> ex = E
+000019a0: 7861 6d70 6c65 2831 2c20 2261 2229 0d0a  xample(1, "a")..
+000019b0: 2020 2020 2020 2020 3e3e 3e20 6578 2e70          >>> ex.p
+000019c0: 6970 6528 6578 2e63 6c73 2e61 735f 6469  ipe(ex.cls.as_di
+000019d0: 6374 290d 0a20 2020 2020 2020 207b 2778  ct)..        {'x
+000019e0: 273a 2031 2c20 2773 273a 2027 6127 2c20  ': 1, 's': 'a', 
+000019f0: 2769 7427 3a20 6954 7570 6c65 2829 7d0d  'it': iTuple()}.
+00001a00: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+00001a10: 2020 2020 2020 7265 7475 726e 2066 4469        return fDi
+00001a20: 6374 286f 626a 2e5f 6173 6469 6374 2829  ct(obj._asdict()
+00001a30: 290d 0a0d 0a20 2020 2040 636c 6173 736d  )....    @classm
+00001a40: 6574 686f 640d 0a20 2020 2064 6566 2063  ethod..    def c
+00001a50: 6173 745f 6a73 6f6e 2863 6c73 2c20 6f62  ast_json(cls, ob
+00001a60: 6a29 3a0d 0a20 2020 2020 2020 2022 2222  j):..        """
+00001a70: 0d0a 2020 2020 2020 2020 3e3e 3e20 6578  ..        >>> ex
+00001a80: 203d 2045 7861 6d70 6c65 2831 2c20 2261   = Example(1, "a
+00001a90: 2229 0d0a 2020 2020 2020 2020 3e3e 3e20  ")..        >>> 
+00001aa0: 6578 2e70 6970 6528 6578 2e63 6c73 2e63  ex.pipe(ex.cls.c
+00001ab0: 6173 745f 6a73 6f6e 290d 0a20 2020 2020  ast_json)..     
+00001ac0: 2020 207b 2778 273a 2031 2c20 2773 273a     {'x': 1, 's':
+00001ad0: 2027 6127 2c20 2769 7427 3a20 7b27 5f5f   'a', 'it': {'__
+00001ae0: 745f 5f27 3a20 2769 5475 706c 6527 2c20  t__': 'iTuple', 
+00001af0: 2764 6174 6127 3a20 5b5d 7d2c 2027 5f5f  'data': []}, '__
+00001b00: 745f 5f27 3a20 2745 7861 6d70 6c65 277d  t__': 'Example'}
+00001b10: 0d0a 2020 2020 2020 2020 2222 220d 0a20  ..        """.. 
+00001b20: 2020 2020 2020 2064 203d 207b 0d0a 2020         d = {..  
+00001b30: 2020 2020 2020 2020 2020 6b3a 2063 6173            k: cas
+00001b40: 745f 6a73 6f6e 2876 290d 0a20 2020 2020  t_json(v)..     
+00001b50: 2020 2020 2020 2066 6f72 206b 2c20 7620         for k, v 
+00001b60: 696e 206f 626a 2e5f 6173 6469 6374 2829  in obj._asdict()
+00001b70: 2e69 7465 6d73 2829 0d0a 2020 2020 2020  .items()..      
+00001b80: 2020 2020 2020 230d 0a20 2020 2020 2020        #..       
+00001b90: 207d 0d0a 2020 2020 2020 2020 645b 225f   }..        d["_
+00001ba0: 5f74 5f5f 225d 203d 2074 7970 6528 6f62  _t__"] = type(ob
+00001bb0: 6a29 2e5f 5f6e 616d 655f 5f0d 0a20 2020  j).__name__..   
+00001bc0: 2020 2020 2072 6574 7572 6e20 640d 0a0d       return d...
+00001bd0: 0a20 2020 2040 636c 6173 736d 6574 686f  .    @classmetho
+00001be0: 640d 0a20 2020 2064 6566 2075 6e63 6173  d..    def uncas
+00001bf0: 745f 6a73 6f6e 286d 6574 612c 206f 626a  t_json(meta, obj
+00001c00: 293a 0d0a 2020 2020 2020 2020 2222 220d  ):..        """.
+00001c10: 0a20 2020 2020 2020 203e 3e3e 2065 7820  .        >>> ex 
+00001c20: 3d20 4578 616d 706c 6528 312c 2022 6122  = Example(1, "a"
+00001c30: 290d 0a20 2020 2020 2020 203e 3e3e 2065  )..        >>> e
+00001c40: 782e 636c 732e 756e 6361 7374 5f6a 736f  x.cls.uncast_jso
+00001c50: 6e28 6578 2e70 6970 6528 6578 2e63 6c73  n(ex.pipe(ex.cls
+00001c60: 2e63 6173 745f 6a73 6f6e 2929 0d0a 2020  .cast_json))..  
+00001c70: 2020 2020 2020 4578 616d 706c 6528 783d        Example(x=
+00001c80: 312c 2073 3d27 6127 2c20 6974 3d69 5475  1, s='a', it=iTu
+00001c90: 706c 6528 2929 0d0a 2020 2020 2020 2020  ple())..        
+00001ca0: 2222 220d 0a20 2020 2020 2020 2063 6c73  """..        cls
+00001cb0: 203d 2052 4547 4953 5452 595b 6f62 6a5b   = REGISTRY[obj[
+00001cc0: 225f 5f74 5f5f 225d 5d0d 0a20 2020 2020  "__t__"]]..     
+00001cd0: 2020 2072 6574 7572 6e20 636c 7328 0d0a     return cls(..
+00001ce0: 2020 2020 2020 2020 2020 2020 2a28 0d0a              *(..
+00001cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d00: 756e 6361 7374 5f6a 736f 6e28 7629 0d0a  uncast_json(v)..
+00001d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d20: 666f 7220 6b2c 2076 2069 6e20 6f62 6a2e  for k, v in obj.
+00001d30: 6974 656d 7328 2920 6966 206b 2021 3d20  items() if k != 
+00001d40: 225f 5f74 5f5f 220d 0a20 2020 2020 2020  "__t__"..       
+00001d50: 2020 2020 2029 0d0a 2020 2020 2020 2020       )..        
+00001d60: 290d 0a0d 0a20 2020 2040 636c 6173 736d  )....    @classm
+00001d70: 6574 686f 640d 0a20 2020 2064 6566 2064  ethod..    def d
+00001d80: 6563 6f72 6174 6528 6d65 7461 2c20 636c  ecorate(meta, cl
+00001d90: 7329 3a0d 0a20 2020 2020 2020 2061 7373  s):..        ass
+00001da0: 6572 7420 636c 732e 5f5f 6e61 6d65 5f5f  ert cls.__name__
+00001db0: 206e 6f74 2069 6e20 5245 4749 5354 5259   not in REGISTRY
+00001dc0: 0d0a 2020 2020 2020 2020 636c 732e 7069  ..        cls.pi
+00001dd0: 7065 203d 206d 6574 612e 7069 7065 0d0a  pe = meta.pipe..
+00001de0: 2020 2020 2020 2020 636c 732e 7061 7274          cls.part
+00001df0: 6961 6c20 3d20 6d65 7461 2e70 6172 7469  ial = meta.parti
+00001e00: 616c 0d0a 2020 2020 2020 2020 636c 732e  al..        cls.
+00001e10: 636c 7320 3d20 6d65 7461 0d0a 2020 2020  cls = meta..    
+00001e20: 2020 2020 5245 4749 5354 5259 5b63 6c73      REGISTRY[cls
+00001e30: 2e5f 5f6e 616d 655f 5f5d 203d 2063 6c73  .__name__] = cls
+00001e40: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00001e50: 2063 6c73 0d0a 0d0a 2320 2d2d 2d2d 2d2d   cls....# ------
+00001e60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001e70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001e80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001e90: 2d2d 2d2d 2d2d 2d2d 2d0d 0a0d 0a63 6c61  ---------....cla
+00001ea0: 7373 2066 4469 6374 2863 6f6c 6c65 6374  ss fDict(collect
+00001eb0: 696f 6e73 2e55 7365 7244 6963 7429 3a0d  ions.UserDict):.
+00001ec0: 0a20 2020 205f 5f73 6c6f 7473 5f5f 203d  .    __slots__ =
+00001ed0: 2028 290d 0a0d 0a20 2020 2064 6174 613a   ()....    data:
+00001ee0: 2064 6963 740d 0a0d 0a20 2020 2064 6566   dict....    def
+00001ef0: 2070 6970 6528 7365 6c66 2c20 662c 202a   pipe(self, f, *
+00001f00: 6172 6773 2c20 2a2a 6b77 6172 6773 293a  args, **kwargs):
+00001f10: 0d0a 2020 2020 2020 2020 2222 220d 0a20  ..        """.. 
+00001f20: 2020 2020 2020 203e 3e3e 2066 4469 6374         >>> fDict
+00001f30: 287b 303a 2031 7d29 2e70 6970 6528 6c61  ({0: 1}).pipe(la
+00001f40: 6d62 6461 2064 3a20 642e 6d61 705f 7661  mbda d: d.map_va
+00001f50: 6c75 6573 280d 0a20 2020 2020 2020 202e  lues(..        .
+00001f60: 2e2e 2020 2020 206c 616d 6264 6120 763a  ..     lambda v:
+00001f70: 2076 202b 2031 0d0a 2020 2020 2020 2020   v + 1..        
+00001f80: 2e2e 2e20 2929 0d0a 2020 2020 2020 2020  ... ))..        
+00001f90: 7b30 3a20 327d 0d0a 2020 2020 2020 2020  {0: 2}..        
+00001fa0: 2222 220d 0a20 2020 2020 2020 2072 6573  """..        res
+00001fb0: 203d 2066 2873 656c 662c 202a 6172 6773   = f(self, *args
+00001fc0: 2c20 2a2a 6b77 6172 6773 290d 0a20 2020  , **kwargs)..   
+00001fd0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+00001fe0: 6365 2872 6573 2c20 6469 6374 293a 0d0a  ce(res, dict):..
+00001ff0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00002000: 726e 2066 4469 6374 2872 6573 290d 0a20  rn fDict(res).. 
+00002010: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
+00002020: 730d 0a0d 0a20 2020 2064 6566 2070 6172  s....    def par
+00002030: 7469 616c 2873 656c 662c 2066 2c20 2a61  tial(self, f, *a
+00002040: 7267 732c 202a 2a6b 7761 7267 7329 3a0d  rgs, **kwargs):.
+00002050: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+00002060: 2020 2020 2020 3e3e 3e20 6620 3d20 6644        >>> f = fD
+00002070: 6963 7428 7b30 3a20 317d 292e 7061 7274  ict({0: 1}).part
+00002080: 6961 6c28 0d0a 2020 2020 2020 2020 2e2e  ial(..        ..
+00002090: 2e20 2020 2020 6c61 6d62 6461 2064 2c20  .     lambda d, 
+000020a0: 6e3a 2064 2e6d 6170 5f76 616c 7565 7328  n: d.map_values(
+000020b0: 6c61 6d62 6461 2076 3a20 7620 2b20 6e29  lambda v: v + n)
+000020c0: 0d0a 2020 2020 2020 2020 2e2e 2e20 290d  ..        ... ).
+000020d0: 0a20 2020 2020 2020 203e 3e3e 2066 2831  .        >>> f(1
+000020e0: 290d 0a20 2020 2020 2020 207b 303a 2032  )..        {0: 2
+000020f0: 7d0d 0a20 2020 2020 2020 203e 3e3e 2066  }..        >>> f
+00002100: 2832 290d 0a20 2020 2020 2020 207b 303a  (2)..        {0:
+00002110: 2033 7d0d 0a20 2020 2020 2020 2022 2222   3}..        """
+00002120: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00002130: 2066 756e 6374 6f6f 6c73 2e70 6172 7469   functools.parti
+00002140: 616c 2866 2c20 7365 6c66 2c20 2a61 7267  al(f, self, *arg
+00002150: 732c 202a 2a6b 7761 7267 7329 0d0a 0d0a  s, **kwargs)....
+00002160: 2020 2020 6465 6620 6b65 7973 5f74 7570      def keys_tup
+00002170: 6c65 2873 656c 6629 3a0d 0a20 2020 2020  le(self):..     
+00002180: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
+00002190: 3e3e 3e20 6644 6963 7428 7b30 3a20 317d  >>> fDict({0: 1}
+000021a0: 292e 6b65 7973 5f74 7570 6c65 2829 0d0a  ).keys_tuple()..
+000021b0: 2020 2020 2020 2020 6954 7570 6c65 2830          iTuple(0
+000021c0: 290d 0a20 2020 2020 2020 2022 2222 0d0a  )..        """..
+000021d0: 2020 2020 2020 2020 7265 7475 726e 2069          return i
+000021e0: 5475 706c 652e 6672 6f6d 5f6b 6579 7328  Tuple.from_keys(
+000021f0: 7365 6c66 290d 0a0d 0a20 2020 2064 6566  self)....    def
+00002200: 2076 616c 7565 735f 7475 706c 6528 7365   values_tuple(se
+00002210: 6c66 293a 0d0a 2020 2020 2020 2020 2222  lf):..        ""
+00002220: 220d 0a20 2020 2020 2020 203e 3e3e 2066  "..        >>> f
+00002230: 4469 6374 287b 303a 2031 7d29 2e76 616c  Dict({0: 1}).val
+00002240: 7565 735f 7475 706c 6528 290d 0a20 2020  ues_tuple()..   
+00002250: 2020 2020 2069 5475 706c 6528 3129 0d0a       iTuple(1)..
+00002260: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
+00002270: 2020 2020 2072 6574 7572 6e20 6954 7570       return iTup
+00002280: 6c65 2e66 726f 6d5f 7661 6c75 6573 2873  le.from_values(s
+00002290: 656c 6629 0d0a 2020 2020 0d0a 2020 2020  elf)..    ..    
+000022a0: 6465 6620 6974 656d 735f 7475 706c 6528  def items_tuple(
+000022b0: 7365 6c66 293a 0d0a 2020 2020 2020 2020  self):..        
+000022c0: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
+000022d0: 2066 4469 6374 287b 303a 2031 7d29 2e69   fDict({0: 1}).i
+000022e0: 7465 6d73 5f74 7570 6c65 2829 0d0a 2020  tems_tuple()..  
+000022f0: 2020 2020 2020 6954 7570 6c65 2828 302c        iTuple((0,
+00002300: 2031 2929 0d0a 2020 2020 2020 2020 2222   1))..        ""
+00002310: 220d 0a20 2020 2020 2020 2072 6574 7572  "..        retur
+00002320: 6e20 6954 7570 6c65 2e66 726f 6d5f 6974  n iTuple.from_it
+00002330: 656d 7328 7365 6c66 290d 0a0d 0a20 2020  ems(self)....   
+00002340: 2023 204e 4f54 453a 2077 6520 6861 7665   # NOTE: we have
+00002350: 2073 6570 6172 6174 6520 6d61 7020 696d   separate map im
+00002360: 706c 656d 656e 7461 7469 6f6e 7320 0d0a  plementations ..
+00002370: 2020 2020 2320 6173 2074 6865 7920 6172      # as they ar
+00002380: 6520 636f 6e73 7461 6e74 2073 697a 652c  e constant size,
+00002390: 2064 6963 7420 746f 2064 6963 740d 0a20   dict to dict.. 
+000023a0: 2020 2023 206f 7468 6572 2069 7465 7261     # other itera
+000023b0: 746f 7220 6675 6e63 7469 6f6e 7320 7368  tor functions sh
+000023c0: 6f75 6c64 2075 7365 2069 5475 706c 6520  ould use iTuple 
+000023d0: 2866 726f 6d20 7468 6520 6162 6f76 6529  (from the above)
+000023e0: 0d0a 0d0a 2020 2020 6465 6620 6d61 705f  ....    def map_
+000023f0: 6b65 7973 2873 656c 662c 2066 2c20 2a61  keys(self, f, *a
+00002400: 7267 732c 202a 2a6b 7761 7267 7329 3a0d  rgs, **kwargs):.
+00002410: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+00002420: 2020 2020 2020 3e3e 3e20 6644 6963 7428        >>> fDict(
+00002430: 7b30 3a20 317d 292e 6d61 705f 6b65 7973  {0: 1}).map_keys
+00002440: 286c 616d 6264 6120 763a 2076 202b 2031  (lambda v: v + 1
+00002450: 290d 0a20 2020 2020 2020 207b 313a 2031  )..        {1: 1
+00002460: 7d0d 0a20 2020 2020 2020 2022 2222 0d0a  }..        """..
+00002470: 2020 2020 2020 2020 7265 7475 726e 2066          return f
+00002480: 4469 6374 280d 0a20 2020 2020 2020 2020  Dict(..         
+00002490: 2020 2028 6628 6b2c 202a 6172 6773 2c20     (f(k, *args, 
+000024a0: 2a2a 6b77 6172 6773 292c 2076 2920 666f  **kwargs), v) fo
+000024b0: 7220 6b2c 2076 2069 6e20 7365 6c66 2e69  r k, v in self.i
+000024c0: 7465 6d73 2829 0d0a 2020 2020 2020 2020  tems()..        
+000024d0: 290d 0a0d 0a20 2020 2064 6566 206d 6170  )....    def map
+000024e0: 5f76 616c 7565 7328 7365 6c66 2c20 662c  _values(self, f,
+000024f0: 202a 6172 6773 2c20 2a2a 6b77 6172 6773   *args, **kwargs
+00002500: 293a 0d0a 2020 2020 2020 2020 2222 220d  ):..        """.
+00002510: 0a20 2020 2020 2020 203e 3e3e 2066 4469  .        >>> fDi
+00002520: 6374 287b 303a 2031 7d29 2e6d 6170 5f76  ct({0: 1}).map_v
+00002530: 616c 7565 7328 6c61 6d62 6461 2076 3a20  alues(lambda v: 
+00002540: 7620 2b20 3129 0d0a 2020 2020 2020 2020  v + 1)..        
+00002550: 7b30 3a20 327d 0d0a 2020 2020 2020 2020  {0: 2}..        
+00002560: 2222 220d 0a20 2020 2020 2020 2072 6574  """..        ret
+00002570: 7572 6e20 6644 6963 7428 0d0a 2020 2020  urn fDict(..    
+00002580: 2020 2020 2020 2020 286b 2c20 6628 762c          (k, f(v,
+00002590: 202a 6172 6773 2c20 2a2a 6b77 6172 6773   *args, **kwargs
+000025a0: 2929 2066 6f72 206b 2c20 7620 696e 2073  )) for k, v in s
+000025b0: 656c 662e 6974 656d 7328 290d 0a20 2020  elf.items()..   
+000025c0: 2020 2020 2029 0d0a 0d0a 2020 2020 6465       )....    de
+000025d0: 6620 6d61 705f 6974 656d 7328 7365 6c66  f map_items(self
+000025e0: 2c20 662c 202a 6172 6773 2c20 2a2a 6b77  , f, *args, **kw
+000025f0: 6172 6773 293a 0d0a 2020 2020 2020 2020  args):..        
+00002600: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
+00002610: 2066 4469 6374 287b 303a 2031 7d29 2e6d   fDict({0: 1}).m
+00002620: 6170 5f69 7465 6d73 286c 616d 6264 6120  ap_items(lambda 
+00002630: 6b2c 2076 3a20 2876 2c20 6b29 290d 0a20  k, v: (v, k)).. 
+00002640: 2020 2020 2020 207b 313a 2030 7d0d 0a20         {1: 0}.. 
+00002650: 2020 2020 2020 2022 2222 0d0a 2020 2020         """..    
+00002660: 2020 2020 7265 7475 726e 2066 4469 6374      return fDict
+00002670: 280d 0a20 2020 2020 2020 2020 2020 2066  (..            f
+00002680: 286b 2c20 762c 202a 6172 6773 2c20 2a2a  (k, v, *args, **
+00002690: 6b77 6172 6773 2920 666f 7220 6b2c 2076  kwargs) for k, v
+000026a0: 2069 6e20 7365 6c66 2e69 7465 6d73 2829   in self.items()
+000026b0: 0d0a 2020 2020 2020 2020 290d 0a0d 0a20  ..        ).... 
+000026c0: 2020 2064 6566 2069 6e76 6572 7428 7365     def invert(se
+000026d0: 6c66 293a 0d0a 2020 2020 2020 2020 2222  lf):..        ""
+000026e0: 220d 0a20 2020 2020 2020 203e 3e3e 2066  "..        >>> f
+000026f0: 4469 6374 287b 303a 2031 7d29 2e69 6e76  Dict({0: 1}).inv
+00002700: 6572 7428 290d 0a20 2020 2020 2020 207b  ert()..        {
+00002710: 313a 2030 7d0d 0a20 2020 2020 2020 2022  1: 0}..        "
+00002720: 2222 0d0a 2020 2020 2020 2020 7265 7475  ""..        retu
+00002730: 726e 2066 4469 6374 2828 762c 206b 2920  rn fDict((v, k) 
+00002740: 666f 7220 6b2c 2076 2069 6e20 7365 6c66  for k, v in self
+00002750: 2e69 7465 6d73 2829 290d 0a0d 0a23 202d  .items())....# -
+00002760: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00002770: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00002780: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00002790: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0d0a  --------------..
+000027a0: 0d0a 4064 6174 6163 6c61 7373 6573 2e64  ..@dataclasses.d
+000027b0: 6174 6163 6c61 7373 2869 6e69 7420 3d20  ataclass(init = 
+000027c0: 4661 6c73 652c 2072 6570 723d 5472 7565  False, repr=True
+000027d0: 290d 0a63 6c61 7373 2069 5475 706c 6528  )..class iTuple(
+000027e0: 636f 6c6c 6563 7469 6f6e 732e 5573 6572  collections.User
+000027f0: 4c69 7374 2c20 7475 706c 6529 3a20 2320  List, tuple): # 
+00002800: 7479 7065 3a20 6967 6e6f 7265 0d0a 2020  type: ignore..  
+00002810: 2020 5f5f 736c 6f74 735f 5f20 3d20 2829    __slots__ = ()
+00002820: 0d0a 0d0a 2020 2020 6461 7461 3a20 7475  ....    data: tu
+00002830: 706c 6520 2320 7479 7065 3a20 6967 6e6f  ple # type: igno
+00002840: 7265 0d0a 0d0a 2020 2020 2320 2d2d 2d2d  re....    # ----
+00002850: 2d0d 0a0d 0a20 2020 2040 7374 6174 6963  -....    @static
+00002860: 6d65 7468 6f64 0d0a 2020 2020 6465 6620  method..    def 
+00002870: 5f5f 6e65 775f 5f28 636c 732c 2064 6174  __new__(cls, dat
+00002880: 6120 3d20 4e6f 6e65 293a 0d0a 2020 2020  a = None):..    
+00002890: 2020 2020 2320 4e4f 5445 3a20 7765 2075      # NOTE: we u
+000028a0: 7365 2063 6c73 206e 6f74 2061 7272 6179  se cls not array
+000028b0: 0d0a 2020 2020 2020 2020 2320 736f 2073  ..        # so s
+000028c0: 7562 2d63 6c61 7373 696e 6720 2a64 6f65  ub-classing *doe
+000028d0: 732a 2063 6861 6e67 6520 6964 656e 7469  s* change identi
+000028e0: 7479 0d0a 2020 2020 2020 2020 6966 2069  ty..        if i
+000028f0: 7369 6e73 7461 6e63 6528 6461 7461 2c20  sinstance(data, 
+00002900: 636c 7329 3a0d 0a20 2020 2020 2020 2020  cls):..         
+00002910: 2020 2072 6574 7572 6e20 6461 7461 0d0a     return data..
+00002920: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00002930: 7570 6572 2829 2e5f 5f6e 6577 5f5f 2863  uper().__new__(c
+00002940: 6c73 2c20 6461 7461 3d64 6174 6129 0d0a  ls, data=data)..
+00002950: 0d0a 2020 2020 4073 7461 7469 636d 6574  ..    @staticmet
+00002960: 686f 640d 0a20 2020 2064 6566 2077 7261  hod..    def wra
+00002970: 705f 7475 706c 6528 6461 7461 293a 0d0a  p_tuple(data):..
+00002980: 2020 2020 2020 2020 7265 7475 726e 2064          return d
+00002990: 6174 6120 6966 2069 7369 6e73 7461 6e63  ata if isinstanc
+000029a0: 6528 6461 7461 2c20 7475 706c 6529 2065  e(data, tuple) e
+000029b0: 6c73 6520 7475 706c 6528 6461 7461 290d  lse tuple(data).
+000029c0: 0a20 2020 200d 0a20 2020 2064 6566 205f  .    ..    def _
+000029d0: 5f69 6e69 745f 5f28 7365 6c66 2c20 6461  _init__(self, da
+000029e0: 7461 203d 204e 6f6e 6529 3a0d 0a20 2020  ta = None):..   
+000029f0: 2020 2020 2023 2054 4f44 4f3a 206f 7074       # TODO: opt
+00002a00: 696f 6e20 666f 7220 6c61 7a79 2069 6e69  ion for lazy ini
+00002a10: 743f 0d0a 2020 2020 2020 2020 7365 6c66  t?..        self
+00002a20: 2e64 6174 6120 3d20 280d 0a20 2020 2020  .data = (..     
+00002a30: 2020 2020 2020 2074 7570 6c65 2829 2069         tuple() i
+00002a40: 6620 6461 7461 2069 7320 4e6f 6e65 0d0a  f data is None..
+00002a50: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00002a60: 2073 656c 662e 7772 6170 5f74 7570 6c65   self.wrap_tuple
+00002a70: 2864 6174 6129 0d0a 2020 2020 2020 2020  (data)..        
+00002a80: 290d 0a0d 0a20 2020 2064 6566 205f 5f72  )....    def __r
+00002a90: 6570 725f 5f28 7365 6c66 293a 0d0a 2020  epr__(self):..  
+00002aa0: 2020 2020 2020 7320 3d20 7375 7065 7228        s = super(
+00002ab0: 292e 5f5f 7265 7072 5f5f 2829 0d0a 2020  ).__repr__()..  
+00002ac0: 2020 2020 2020 7265 7475 726e 2022 7b7d        return "{}
+00002ad0: 287b 7d29 222e 666f 726d 6174 280d 0a20  ({})".format(.. 
+00002ae0: 2020 2020 2020 2020 2020 2074 7970 6528             type(
+00002af0: 7365 6c66 292e 5f5f 6e61 6d65 5f5f 2c0d  self).__name__,.
+00002b00: 0a20 2020 2020 2020 2020 2020 2073 5b31  .            s[1
+00002b10: 3a2d 3220 6966 2073 5b2d 325d 203d 3d20  :-2 if s[-2] == 
+00002b20: 222c 2220 656c 7365 202d 315d 2c0d 0a20  "," else -1],.. 
+00002b30: 2020 2020 2020 2029 0d0a 0d0a 2020 2020         )....    
+00002b40: 6465 6620 5f5f 6861 7368 5f5f 2873 656c  def __hash__(sel
+00002b50: 6629 3a0d 0a20 2020 2020 2020 2072 6574  f):..        ret
+00002b60: 7572 6e20 6861 7368 2873 656c 662e 6461  urn hash(self.da
+00002b70: 7461 290d 0a0d 0a20 2020 2040 636c 6173  ta)....    @clas
+00002b80: 736d 6574 686f 640d 0a20 2020 2064 6566  smethod..    def
+00002b90: 2064 6563 6f72 6174 6528 6d65 7461 2c20   decorate(meta, 
+00002ba0: 636c 7329 3a0d 0a20 2020 2020 2020 2061  cls):..        a
+00002bb0: 7373 6572 7420 636c 732e 5f5f 6e61 6d65  ssert cls.__name
+00002bc0: 5f5f 206e 6f74 2069 6e20 5245 4749 5354  __ not in REGIST
+00002bd0: 5259 0d0a 2020 2020 2020 2020 5245 4749  RY..        REGI
+00002be0: 5354 5259 5b63 6c73 2e5f 5f6e 616d 655f  STRY[cls.__name_
+00002bf0: 5f5d 203d 2063 6c73 0d0a 2020 2020 2020  _] = cls..      
+00002c00: 2020 7265 7475 726e 2063 6c73 0d0a 0d0a    return cls....
+00002c10: 2020 2020 2320 2d2d 2d2d 2d0d 0a0d 0a20      # -----.... 
+00002c20: 2020 2064 6566 2063 6173 745f 6a73 6f6e     def cast_json
+00002c30: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
+00002c40: 2022 2222 0d0a 2020 2020 2020 2020 3e3e   """..        >>
+00002c50: 3e20 6954 7570 6c65 2e72 616e 6765 2831  > iTuple.range(1
+00002c60: 292e 6361 7374 5f6a 736f 6e28 290d 0a20  ).cast_json().. 
+00002c70: 2020 2020 2020 207b 275f 5f74 5f5f 273a         {'__t__':
+00002c80: 2027 6954 7570 6c65 272c 2027 6461 7461   'iTuple', 'data
+00002c90: 273a 205b 305d 7d0d 0a20 2020 2020 2020  ': [0]}..       
+00002ca0: 2022 2222 0d0a 2020 2020 2020 2020 7265   """..        re
+00002cb0: 7475 726e 2064 6963 7428 0d0a 2020 2020  turn dict(..    
+00002cc0: 2020 2020 2020 2020 5f5f 745f 5f20 3d20          __t__ = 
+00002cd0: 7479 7065 2873 656c 6629 2e5f 5f6e 616d  type(self).__nam
+00002ce0: 655f 5f2c 0d0a 2020 2020 2020 2020 2020  e__,..          
+00002cf0: 2020 6461 7461 203d 206c 6973 7428 7365    data = list(se
+00002d00: 6c66 2e6d 6170 2863 6173 745f 6a73 6f6e  lf.map(cast_json
+00002d10: 2929 2c0d 0a20 2020 2020 2020 2029 0d0a  )),..        )..
+00002d20: 0d0a 2020 2020 4063 6c61 7373 6d65 7468  ..    @classmeth
+00002d30: 6f64 0d0a 2020 2020 6465 6620 756e 6361  od..    def unca
+00002d40: 7374 5f6a 736f 6e28 636c 732c 206f 626a  st_json(cls, obj
+00002d50: 293a 0d0a 2020 2020 2020 2020 2222 220d  ):..        """.
+00002d60: 0a20 2020 2020 2020 203e 3e3e 2069 5475  .        >>> iTu
+00002d70: 706c 652e 756e 6361 7374 5f6a 736f 6e28  ple.uncast_json(
+00002d80: 6954 7570 6c65 2e72 616e 6765 2831 292e  iTuple.range(1).
+00002d90: 6361 7374 5f6a 736f 6e28 2929 0d0a 2020  cast_json())..  
+00002da0: 2020 2020 2020 6954 7570 6c65 2830 290d        iTuple(0).
+00002db0: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+00002dc0: 2020 2020 2020 6173 7365 7274 206f 626a        assert obj
+00002dd0: 5b22 5f5f 745f 5f22 5d20 3d3d 2063 6c73  ["__t__"] == cls
+00002de0: 2e5f 5f6e 616d 655f 5f0d 0a20 2020 2020  .__name__..     
+00002df0: 2020 2072 6574 7572 6e20 636c 7328 6461     return cls(da
+00002e00: 7461 3d6f 626a 5b22 6461 7461 225d 290d  ta=obj["data"]).
+00002e10: 0a0d 0a20 2020 2023 202d 2d2d 2d2d 0d0a  ...    # -----..
+00002e20: 0d0a 2020 2020 4063 6c61 7373 6d65 7468  ..    @classmeth
+00002e30: 6f64 0d0a 2020 2020 6465 6620 7261 6e67  od..    def rang
+00002e40: 6528 636c 732c 202a 6172 6773 2c20 2a2a  e(cls, *args, **
+00002e50: 6b77 6172 6773 293a 0d0a 2020 2020 2020  kwargs):..      
+00002e60: 2020 2222 220d 0a20 2020 2020 2020 203e    """..        >
+00002e70: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
+00002e80: 3329 0d0a 2020 2020 2020 2020 6954 7570  3)..        iTup
+00002e90: 6c65 2830 2c20 312c 2032 290d 0a20 2020  le(0, 1, 2)..   
+00002ea0: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
+00002eb0: 2020 7265 7475 726e 2063 6c73 2872 616e    return cls(ran
+00002ec0: 6765 282a 6172 6773 2c20 2a2a 6b77 6172  ge(*args, **kwar
+00002ed0: 6773 2929 0d0a 0d0a 2020 2020 4063 6c61  gs))....    @cla
+00002ee0: 7373 6d65 7468 6f64 0d0a 2020 2020 6465  ssmethod..    de
+00002ef0: 6620 6672 6f6d 5f6b 6579 7328 636c 732c  f from_keys(cls,
+00002f00: 2064 293a 0d0a 2020 2020 2020 2020 2222   d):..        ""
+00002f10: 220d 0a20 2020 2020 2020 203e 3e3e 2069  "..        >>> i
+00002f20: 5475 706c 652e 6672 6f6d 5f6b 6579 7328  Tuple.from_keys(
+00002f30: 7b69 3a20 6920 2b20 3120 666f 7220 6920  {i: i + 1 for i 
+00002f40: 696e 2072 616e 6765 2832 297d 290d 0a20  in range(2)}).. 
+00002f50: 2020 2020 2020 2069 5475 706c 6528 302c         iTuple(0,
+00002f60: 2031 290d 0a20 2020 2020 2020 2022 2222   1)..        """
+00002f70: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00002f80: 2063 6c73 2864 2e6b 6579 7328 2929 0d0a   cls(d.keys())..
+00002f90: 2020 2020 2020 2020 0d0a 2020 2020 4063          ..    @c
+00002fa0: 6c61 7373 6d65 7468 6f64 0d0a 2020 2020  lassmethod..    
+00002fb0: 6465 6620 6672 6f6d 5f76 616c 7565 7328  def from_values(
+00002fc0: 636c 732c 2064 293a 0d0a 2020 2020 2020  cls, d):..      
+00002fd0: 2020 2222 220d 0a20 2020 2020 2020 203e    """..        >
+00002fe0: 3e3e 2069 5475 706c 652e 6672 6f6d 5f76  >> iTuple.from_v
+00002ff0: 616c 7565 7328 7b69 3a20 6920 2b20 3120  alues({i: i + 1 
+00003000: 666f 7220 6920 696e 2072 616e 6765 2832  for i in range(2
+00003010: 297d 290d 0a20 2020 2020 2020 2069 5475  )})..        iTu
+00003020: 706c 6528 312c 2032 290d 0a20 2020 2020  ple(1, 2)..     
+00003030: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
+00003040: 7265 7475 726e 2063 6c73 2864 2e76 616c  return cls(d.val
+00003050: 7565 7328 2929 0d0a 2020 2020 2020 2020  ues())..        
+00003060: 0d0a 2020 2020 4063 6c61 7373 6d65 7468  ..    @classmeth
+00003070: 6f64 0d0a 2020 2020 6465 6620 6672 6f6d  od..    def from
+00003080: 5f69 7465 6d73 2863 6c73 2c20 6429 3a0d  _items(cls, d):.
+00003090: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+000030a0: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
+000030b0: 2e66 726f 6d5f 6974 656d 7328 7b69 3a20  .from_items({i: 
+000030c0: 6920 2b20 3120 666f 7220 6920 696e 2072  i + 1 for i in r
+000030d0: 616e 6765 2832 297d 290d 0a20 2020 2020  ange(2)})..     
+000030e0: 2020 2069 5475 706c 6528 2830 2c20 3129     iTuple((0, 1)
+000030f0: 2c20 2831 2c20 3229 290d 0a20 2020 2020  , (1, 2))..     
+00003100: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
+00003110: 7265 7475 726e 2063 6c73 2864 2e69 7465  return cls(d.ite
+00003120: 6d73 2829 290d 0a0d 0a20 2020 2023 202d  ms())....    # -
+00003130: 2d2d 2d2d 0d0a 0d0a 2020 2020 6465 6620  ----....    def 
+00003140: 7069 7065 2873 656c 662c 2066 2c20 2a61  pipe(self, f, *a
+00003150: 7267 732c 202a 2a6b 7761 7267 7329 3a0d  rgs, **kwargs):.
+00003160: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+00003170: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
+00003180: 2e72 616e 6765 2832 292e 7069 7065 286c  .range(2).pipe(l
+00003190: 616d 6264 6120 6974 3a20 6974 290d 0a20  ambda it: it).. 
+000031a0: 2020 2020 2020 2069 5475 706c 6528 302c         iTuple(0,
+000031b0: 2031 290d 0a20 2020 2020 2020 203e 3e3e   1)..        >>>
+000031c0: 2069 5475 706c 652e 7261 6e67 6528 3229   iTuple.range(2)
+000031d0: 2e70 6970 6528 0d0a 2020 2020 2020 2020  .pipe(..        
+000031e0: 2e2e 2e20 2020 2020 6c61 6d62 6461 2069  ...     lambda i
+000031f0: 742c 2076 3a20 6974 2e6d 6170 286c 616d  t, v: it.map(lam
+00003200: 6264 6120 783a 2078 202a 2076 292c 2032  bda x: x * v), 2
+00003210: 0d0a 2020 2020 2020 2020 2e2e 2e20 290d  ..        ... ).
+00003220: 0a20 2020 2020 2020 2069 5475 706c 6528  .        iTuple(
+00003230: 302c 2032 290d 0a20 2020 2020 2020 2022  0, 2)..        "
+00003240: 2222 0d0a 2020 2020 2020 2020 7265 7475  ""..        retu
+00003250: 726e 2066 2873 656c 662c 202a 6172 6773  rn f(self, *args
+00003260: 2c20 2a2a 6b77 6172 6773 290d 0a0d 0a20  , **kwargs).... 
+00003270: 2020 2064 6566 2070 6172 7469 616c 2873     def partial(s
+00003280: 656c 662c 2066 2c20 2a61 7267 732c 202a  elf, f, *args, *
+00003290: 2a6b 7761 7267 7329 3a0d 0a20 2020 2020  *kwargs):..     
+000032a0: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
+000032b0: 3e3e 3e20 6620 3d20 6954 7570 6c65 2e72  >>> f = iTuple.r
+000032c0: 616e 6765 2832 292e 7061 7274 6961 6c28  ange(2).partial(
+000032d0: 0d0a 2020 2020 2020 2020 2e2e 2e20 2020  ..        ...   
+000032e0: 2020 6c61 6d62 6461 2069 742c 2076 3a20    lambda it, v: 
+000032f0: 6974 2e6d 6170 286c 616d 6264 6120 783a  it.map(lambda x:
+00003300: 2078 202a 2076 290d 0a20 2020 2020 2020   x * v)..       
+00003310: 202e 2e2e 2029 0d0a 2020 2020 2020 2020   ... )..        
+00003320: 3e3e 3e20 6628 3229 0d0a 2020 2020 2020  >>> f(2)..      
+00003330: 2020 6954 7570 6c65 2830 2c20 3229 0d0a    iTuple(0, 2)..
+00003340: 2020 2020 2020 2020 3e3e 3e20 6628 3329          >>> f(3)
+00003350: 0d0a 2020 2020 2020 2020 6954 7570 6c65  ..        iTuple
+00003360: 2830 2c20 3329 0d0a 2020 2020 2020 2020  (0, 3)..        
+00003370: 2222 220d 0a20 2020 2020 2020 2072 6574  """..        ret
+00003380: 7572 6e20 6675 6e63 746f 6f6c 732e 7061  urn functools.pa
+00003390: 7274 6961 6c28 662c 2073 656c 662c 202a  rtial(f, self, *
+000033a0: 6172 6773 2c20 2a2a 6b77 6172 6773 290d  args, **kwargs).
+000033b0: 0a0d 0a20 2020 2023 202d 2d2d 2d2d 0d0a  ...    # -----..
+000033c0: 0d0a 2020 2020 6465 6620 6c65 6e28 7365  ..    def len(se
+000033d0: 6c66 293a 0d0a 2020 2020 2020 2020 2222  lf):..        ""
+000033e0: 220d 0a20 2020 2020 2020 203e 3e3e 2069  "..        >>> i
+000033f0: 5475 706c 652e 7261 6e67 6528 3329 2e6c  Tuple.range(3).l
+00003400: 656e 2829 0d0a 2020 2020 2020 2020 330d  en()..        3.
+00003410: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+00003420: 2020 2020 2020 7265 7475 726e 206c 656e        return len
+00003430: 2873 656c 6629 0d0a 0d0a 2020 2020 6465  (self)....    de
+00003440: 6620 6170 7065 6e64 2873 656c 662c 2076  f append(self, v
+00003450: 616c 7565 2c20 2a76 616c 7565 7329 3a0d  alue, *values):.
+00003460: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+00003470: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
+00003480: 2e72 616e 6765 2831 292e 6170 7065 6e64  .range(1).append
+00003490: 2831 290d 0a20 2020 2020 2020 2069 5475  (1)..        iTu
+000034a0: 706c 6528 302c 2031 290d 0a20 2020 2020  ple(0, 1)..     
+000034b0: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
+000034c0: 6e67 6528 3129 2e61 7070 656e 6428 312c  nge(1).append(1,
+000034d0: 2032 290d 0a20 2020 2020 2020 2069 5475   2)..        iTu
+000034e0: 706c 6528 302c 2031 2c20 3229 0d0a 2020  ple(0, 1, 2)..  
+000034f0: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
+00003500: 2e72 616e 6765 2831 292e 6170 7065 6e64  .range(1).append
+00003510: 2831 2c20 322c 2033 290d 0a20 2020 2020  (1, 2, 3)..     
+00003520: 2020 2069 5475 706c 6528 302c 2031 2c20     iTuple(0, 1, 
+00003530: 322c 2033 290d 0a20 2020 2020 2020 203e  2, 3)..        >
+00003540: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
+00003550: 3129 2e61 7070 656e 6428 312c 2028 322c  1).append(1, (2,
+00003560: 2929 0d0a 2020 2020 2020 2020 6954 7570  ))..        iTup
+00003570: 6c65 2830 2c20 312c 2028 322c 2929 0d0a  le(0, 1, (2,))..
+00003580: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
+00003590: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+000035a0: 202b 2028 7661 6c75 652c 202a 7661 6c75   + (value, *valu
+000035b0: 6573 290d 0a0d 0a20 2020 2064 6566 2070  es)....    def p
+000035c0: 7265 7065 6e64 2873 656c 662c 2076 616c  repend(self, val
+000035d0: 7565 2c20 2a76 616c 7565 7329 3a0d 0a20  ue, *values):.. 
+000035e0: 2020 2020 2020 2022 2222 0d0a 2020 2020         """..    
+000035f0: 2020 2020 3e3e 3e20 6954 7570 6c65 2e72      >>> iTuple.r
+00003600: 616e 6765 2831 292e 7072 6570 656e 6428  ange(1).prepend(
+00003610: 3129 0d0a 2020 2020 2020 2020 6954 7570  1)..        iTup
+00003620: 6c65 2831 2c20 3029 0d0a 2020 2020 2020  le(1, 0)..      
+00003630: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
+00003640: 6765 2831 292e 7072 6570 656e 6428 312c  ge(1).prepend(1,
+00003650: 2032 290d 0a20 2020 2020 2020 2069 5475   2)..        iTu
+00003660: 706c 6528 312c 2032 2c20 3029 0d0a 2020  ple(1, 2, 0)..  
+00003670: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
+00003680: 2e72 616e 6765 2831 292e 7072 6570 656e  .range(1).prepen
+00003690: 6428 312c 2032 2c20 3329 0d0a 2020 2020  d(1, 2, 3)..    
+000036a0: 2020 2020 6954 7570 6c65 2831 2c20 322c      iTuple(1, 2,
+000036b0: 2033 2c20 3029 0d0a 2020 2020 2020 2020   3, 0)..        
+000036c0: 3e3e 3e20 6954 7570 6c65 2e72 616e 6765  >>> iTuple.range
+000036d0: 2831 292e 7072 6570 656e 6428 312c 2028  (1).prepend(1, (
+000036e0: 322c 2929 0d0a 2020 2020 2020 2020 6954  2,))..        iT
+000036f0: 7570 6c65 2831 2c20 2832 2c29 2c20 3029  uple(1, (2,), 0)
+00003700: 0d0a 2020 2020 2020 2020 2222 220d 0a20  ..        """.. 
+00003710: 2020 2020 2020 2072 6574 7572 6e20 2876         return (v
+00003720: 616c 7565 2c20 2a76 616c 7565 7329 202b  alue, *values) +
+00003730: 2073 656c 660d 0a0d 0a20 2020 2064 6566   self....    def
+00003740: 207a 6970 2873 656c 662c 202a 6974 7273   zip(self, *itrs
+00003750: 2c20 6c61 7a79 203d 2046 616c 7365 293a  , lazy = False):
+00003760: 0d0a 2020 2020 2020 2020 2222 220d 0a20  ..        """.. 
+00003770: 2020 2020 2020 203e 3e3e 2069 5475 706c         >>> iTupl
+00003780: 6528 5b5b 312c 2031 5d2c 205b 322c 2032  e([[1, 1], [2, 2
+00003790: 5d2c 205b 332c 2033 5d5d 292e 7a69 7028  ], [3, 3]]).zip(
+000037a0: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
+000037b0: 6528 2831 2c20 322c 2033 292c 2028 312c  e((1, 2, 3), (1,
+000037c0: 2032 2c20 3329 290d 0a20 2020 2020 2020   2, 3))..       
+000037d0: 203e 3e3e 2069 5475 706c 6528 5b69 5475   >>> iTuple([iTu
+000037e0: 706c 652e 7261 6e67 6528 3329 2c20 6954  ple.range(3), iT
+000037f0: 7570 6c65 2e72 616e 6765 2831 2c20 3429  uple.range(1, 4)
+00003800: 5d29 2e7a 6970 2829 0d0a 2020 2020 2020  ]).zip()..      
+00003810: 2020 6954 7570 6c65 2828 302c 2031 292c    iTuple((0, 1),
+00003820: 2028 312c 2032 292c 2028 322c 2033 2929   (1, 2), (2, 3))
+00003830: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
+00003840: 7570 6c65 2e72 616e 6765 2833 292e 7a69  uple.range(3).zi
+00003850: 7028 6954 7570 6c65 2e72 616e 6765 2831  p(iTuple.range(1
+00003860: 2c20 3429 290d 0a20 2020 2020 2020 2069  , 4))..        i
+00003870: 5475 706c 6528 2830 2c20 3129 2c20 2831  Tuple((0, 1), (1
+00003880: 2c20 3229 2c20 2832 2c20 3329 290d 0a20  , 2), (2, 3)).. 
+00003890: 2020 2020 2020 2022 2222 0d0a 2020 2020         """..    
+000038a0: 2020 2020 6966 206c 656e 2869 7472 7329      if len(itrs)
+000038b0: 203d 3d20 303a 0d0a 2020 2020 2020 2020   == 0:..        
+000038c0: 2020 2020 7265 7320 3d20 7a69 7028 2a73      res = zip(*s
+000038d0: 656c 6629 0d0a 2020 2020 2020 2020 656c  elf)..        el
+000038e0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+000038f0: 2072 6573 203d 207a 6970 2873 656c 662c   res = zip(self,
+00003900: 202a 6974 7273 290d 0a20 2020 2020 2020   *itrs)..       
+00003910: 2072 6574 7572 6e20 7265 7320 6966 206c   return res if l
+00003920: 617a 7920 656c 7365 2069 5475 706c 6528  azy else iTuple(
+00003930: 6461 7461 3d72 6573 290d 0a0d 0a20 2020  data=res)....   
+00003940: 2064 6566 2066 6c61 7474 656e 2873 656c   def flatten(sel
+00003950: 6629 3a0d 0a20 2020 2020 2020 2022 2222  f):..        """
+00003960: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
+00003970: 7570 6c65 2e72 616e 6765 2833 292e 6d61  uple.range(3).ma
+00003980: 7028 6c61 6d62 6461 2078 3a20 5b78 5d29  p(lambda x: [x])
+00003990: 2e66 6c61 7474 656e 2829 0d0a 2020 2020  .flatten()..    
+000039a0: 2020 2020 6954 7570 6c65 2830 2c20 312c      iTuple(0, 1,
+000039b0: 2032 290d 0a20 2020 2020 2020 2022 2222   2)..        """
+000039c0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+000039d0: 2069 5475 706c 6528 6974 6572 746f 6f6c   iTuple(itertool
+000039e0: 732e 6368 6169 6e28 2a73 656c 6629 290d  s.chain(*self)).
+000039f0: 0a0d 0a20 2020 2064 6566 2065 7874 656e  ...    def exten
+00003a00: 6428 7365 6c66 2c20 7661 6c75 652c 202a  d(self, value, *
+00003a10: 7661 6c75 6573 293a 0d0a 2020 2020 2020  values):..      
+00003a20: 2020 2222 220d 0a20 2020 2020 2020 203e    """..        >
+00003a30: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
+00003a40: 3129 2e65 7874 656e 6428 2831 2c29 290d  1).extend((1,)).
+00003a50: 0a20 2020 2020 2020 2069 5475 706c 6528  .        iTuple(
+00003a60: 302c 2031 290d 0a20 2020 2020 2020 203e  0, 1)..        >
+00003a70: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
+00003a80: 3129 2e65 7874 656e 6428 5b31 5d29 0d0a  1).extend([1])..
+00003a90: 2020 2020 2020 2020 6954 7570 6c65 2830          iTuple(0
+00003aa0: 2c20 3129 0d0a 2020 2020 2020 2020 3e3e  , 1)..        >>
+00003ab0: 3e20 6954 7570 6c65 2e72 616e 6765 2831  > iTuple.range(1
+00003ac0: 292e 6578 7465 6e64 285b 315d 2c20 5b32  ).extend([1], [2
+00003ad0: 5d29 0d0a 2020 2020 2020 2020 6954 7570  ])..        iTup
+00003ae0: 6c65 2830 2c20 312c 2032 290d 0a20 2020  le(0, 1, 2)..   
+00003af0: 2020 2020 203e 3e3e 2069 5475 706c 652e       >>> iTuple.
+00003b00: 7261 6e67 6528 3129 2e65 7874 656e 6428  range(1).extend(
+00003b10: 5b31 5d2c 205b 5b32 5d5d 290d 0a20 2020  [1], [[2]])..   
+00003b20: 2020 2020 2069 5475 706c 6528 302c 2031       iTuple(0, 1
+00003b30: 2c20 5b32 5d29 0d0a 2020 2020 2020 2020  , [2])..        
+00003b40: 3e3e 3e20 6954 7570 6c65 2e72 616e 6765  >>> iTuple.range
+00003b50: 2831 292e 6578 7465 6e64 285b 315d 2c20  (1).extend([1], 
+00003b60: 5b5b 325d 5d2c 205b 325d 290d 0a20 2020  [[2]], [2])..   
+00003b70: 2020 2020 2069 5475 706c 6528 302c 2031       iTuple(0, 1
+00003b80: 2c20 5b32 5d2c 2032 290d 0a20 2020 2020  , [2], 2)..     
+00003b90: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
+00003ba0: 7265 7475 726e 2069 5475 706c 6528 6974  return iTuple(it
+00003bb0: 6572 746f 6f6c 732e 6368 6169 6e2e 6672  ertools.chain.fr
+00003bc0: 6f6d 5f69 7465 7261 626c 6528 0d0a 2020  om_iterable(..  
+00003bd0: 2020 2020 2020 2020 2020 2873 656c 662c            (self,
+00003be0: 2076 616c 7565 2c20 2a76 616c 7565 7329   value, *values)
+00003bf0: 0d0a 2020 2020 2020 2020 2929 0d0a 0d0a  ..        ))....
+00003c00: 2020 2020 6465 6620 7072 6574 656e 6428      def pretend(
+00003c10: 7365 6c66 2c20 7661 6c75 652c 202a 7661  self, value, *va
+00003c20: 6c75 6573 293a 0d0a 2020 2020 2020 2020  lues):..        
+00003c30: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
+00003c40: 2069 5475 706c 652e 7261 6e67 6528 3129   iTuple.range(1)
+00003c50: 2e70 7265 7465 6e64 2828 312c 2929 0d0a  .pretend((1,))..
+00003c60: 2020 2020 2020 2020 6954 7570 6c65 2831          iTuple(1
+00003c70: 2c20 3029 0d0a 2020 2020 2020 2020 3e3e  , 0)..        >>
+00003c80: 3e20 6954 7570 6c65 2e72 616e 6765 2831  > iTuple.range(1
+00003c90: 292e 7072 6574 656e 6428 5b31 5d29 0d0a  ).pretend([1])..
+00003ca0: 2020 2020 2020 2020 6954 7570 6c65 2831          iTuple(1
+00003cb0: 2c20 3029 0d0a 2020 2020 2020 2020 3e3e  , 0)..        >>
+00003cc0: 3e20 6954 7570 6c65 2e72 616e 6765 2831  > iTuple.range(1
+00003cd0: 292e 7072 6574 656e 6428 5b31 5d2c 205b  ).pretend([1], [
+00003ce0: 325d 290d 0a20 2020 2020 2020 2069 5475  2])..        iTu
+00003cf0: 706c 6528 312c 2032 2c20 3029 0d0a 2020  ple(1, 2, 0)..  
+00003d00: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
+00003d10: 2e72 616e 6765 2831 292e 7072 6574 656e  .range(1).preten
+00003d20: 6428 5b31 5d2c 205b 5b32 5d5d 290d 0a20  d([1], [[2]]).. 
+00003d30: 2020 2020 2020 2069 5475 706c 6528 312c         iTuple(1,
+00003d40: 205b 325d 2c20 3029 0d0a 2020 2020 2020   [2], 0)..      
+00003d50: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
+00003d60: 6765 2831 292e 7072 6574 656e 6428 5b31  ge(1).pretend([1
+00003d70: 5d2c 205b 5b32 5d5d 2c20 5b32 5d29 0d0a  ], [[2]], [2])..
+00003d80: 2020 2020 2020 2020 6954 7570 6c65 2831          iTuple(1
+00003d90: 2c20 5b32 5d2c 2032 2c20 3029 0d0a 2020  , [2], 2, 0)..  
+00003da0: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
+00003db0: 2020 2072 6574 7572 6e20 6954 7570 6c65     return iTuple
+00003dc0: 2869 7465 7274 6f6f 6c73 2e63 6861 696e  (itertools.chain
+00003dd0: 2e66 726f 6d5f 6974 6572 6162 6c65 280d  .from_iterable(.
+00003de0: 0a20 2020 2020 2020 2020 2020 2028 7661  .            (va
+00003df0: 6c75 652c 202a 7661 6c75 6573 2c20 7365  lue, *values, se
+00003e00: 6c66 290d 0a20 2020 2020 2020 2029 290d  lf)..        )).
+00003e10: 0a0d 0a20 2020 2064 6566 2066 696c 7465  ...    def filte
+00003e20: 725f 6571 2873 656c 662c 2076 2c20 6620  r_eq(self, v, f 
+00003e30: 3d20 4e6f 6e65 2c20 6571 203d 204e 6f6e  = None, eq = Non
+00003e40: 652c 206c 617a 7920 3d20 4661 6c73 6529  e, lazy = False)
+00003e50: 3a0d 0a20 2020 2020 2020 2022 2222 0d0a  :..        """..
+00003e60: 2020 2020 2020 2020 3e3e 3e20 6954 7570          >>> iTup
+00003e70: 6c65 2e72 616e 6765 2833 292e 6669 6c74  le.range(3).filt
+00003e80: 6572 5f65 7128 3129 0d0a 2020 2020 2020  er_eq(1)..      
+00003e90: 2020 6954 7570 6c65 2831 290d 0a20 2020    iTuple(1)..   
+00003ea0: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
+00003eb0: 2020 6966 2066 2069 7320 4e6f 6e65 2061    if f is None a
+00003ec0: 6e64 2065 7120 6973 204e 6f6e 653a 0d0a  nd eq is None:..
+00003ed0: 2020 2020 2020 2020 2020 2020 7265 7320              res 
+00003ee0: 3d20 6669 6c74 6572 286c 616d 6264 6120  = filter(lambda 
+00003ef0: 783a 2078 203d 3d20 762c 2073 656c 6629  x: x == v, self)
+00003f00: 0d0a 2020 2020 2020 2020 656c 6966 2066  ..        elif f
+00003f10: 2069 7320 6e6f 7420 4e6f 6e65 3a0d 0a20   is not None:.. 
+00003f20: 2020 2020 2020 2020 2020 2072 6573 203d             res =
+00003f30: 2066 696c 7465 7228 6c61 6d62 6461 2078   filter(lambda x
+00003f40: 3a20 6628 7829 203d 3d20 762c 2073 656c  : f(x) == v, sel
+00003f50: 6629 0d0a 2020 2020 2020 2020 656c 6966  f)..        elif
+00003f60: 2065 7120 6973 206e 6f74 204e 6f6e 653a   eq is not None:
+00003f70: 0d0a 2020 2020 2020 2020 2020 2020 7265  ..            re
+00003f80: 7320 3d20 6669 6c74 6572 286c 616d 6264  s = filter(lambd
+00003f90: 6120 783a 2065 7128 782c 2076 292c 2073  a x: eq(x, v), s
+00003fa0: 656c 6629 0d0a 2020 2020 2020 2020 656c  elf)..        el
+00003fb0: 7365 3a0d 0a20 2020 2020 2020 2020 2020  se:..           
+00003fc0: 2072 6573 203d 2066 696c 7465 7228 6c61   res = filter(la
+00003fd0: 6d62 6461 2078 3a20 6571 2866 2878 292c  mbda x: eq(f(x),
+00003fe0: 2076 292c 2073 656c 6629 0d0a 2020 2020   v), self)..    
+00003ff0: 2020 2020 7265 7475 726e 2072 6573 2069      return res i
+00004000: 6620 6c61 7a79 2065 6c73 6520 7479 7065  f lazy else type
+00004010: 2873 656c 6629 2864 6174 613d 7265 7329  (self)(data=res)
+00004020: 0d0a 0d0a 2020 2020 6465 6620 6669 6c74  ....    def filt
+00004030: 6572 2873 656c 662c 2066 2c20 6571 203d  er(self, f, eq =
+00004040: 204e 6f6e 652c 206c 617a 7920 3d20 4661   None, lazy = Fa
+00004050: 6c73 6529 3a0d 0a20 2020 2020 2020 2022  lse):..        "
+00004060: 2222 0d0a 2020 2020 2020 2020 3e3e 3e20  ""..        >>> 
+00004070: 6954 7570 6c65 2e72 616e 6765 2833 292e  iTuple.range(3).
+00004080: 6669 6c74 6572 286c 616d 6264 6120 783a  filter(lambda x:
+00004090: 2078 203e 2031 290d 0a20 2020 2020 2020   x > 1)..       
+000040a0: 2069 5475 706c 6528 3229 0d0a 2020 2020   iTuple(2)..    
+000040b0: 2020 2020 2222 220d 0a20 2020 2020 2020      """..       
+000040c0: 2072 6574 7572 6e20 7365 6c66 2e66 696c   return self.fil
+000040d0: 7465 725f 6571 2854 7275 652c 2066 203d  ter_eq(True, f =
+000040e0: 2066 2c20 6571 203d 2065 712c 206c 617a   f, eq = eq, laz
+000040f0: 7920 3d20 6c61 7a79 290d 0a0d 0a20 2020  y = lazy)....   
+00004100: 2064 6566 206d 6170 2873 656c 662c 2066   def map(self, f
+00004110: 2c20 2a69 7465 7261 626c 6573 2c20 6c61  , *iterables, la
+00004120: 7a79 203d 2046 616c 7365 293a 0d0a 2020  zy = False):..  
+00004130: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
+00004140: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
+00004150: 6e67 6528 3329 2e6d 6170 286c 616d 6264  nge(3).map(lambd
+00004160: 6120 783a 2078 202a 2032 290d 0a20 2020  a x: x * 2)..   
+00004170: 2020 2020 2069 5475 706c 6528 302c 2032       iTuple(0, 2
+00004180: 2c20 3429 0d0a 2020 2020 2020 2020 2222  , 4)..        ""
+00004190: 220d 0a20 2020 2020 2020 2072 6573 203d  "..        res =
+000041a0: 206d 6170 2866 2c20 7365 6c66 2c20 2a69   map(f, self, *i
+000041b0: 7465 7261 626c 6573 290d 0a20 2020 2020  terables)..     
+000041c0: 2020 2072 6574 7572 6e20 7265 7320 6966     return res if
+000041d0: 206c 617a 7920 656c 7365 2069 5475 706c   lazy else iTupl
+000041e0: 6528 6461 7461 3d72 6573 290d 0a0d 0a20  e(data=res).... 
+000041f0: 2020 2064 6566 2065 6e75 6d65 7261 7465     def enumerate
+00004200: 2873 656c 6629 3a0d 0a20 2020 2020 2020  (self):..       
+00004210: 2022 2222 0d0a 2020 2020 2020 2020 3e3e   """..        >>
+00004220: 3e20 6954 7570 6c65 2e72 616e 6765 2833  > iTuple.range(3
+00004230: 292e 656e 756d 6572 6174 6528 290d 0a20  ).enumerate().. 
+00004240: 2020 2020 2020 2069 5475 706c 6528 2830         iTuple((0
+00004250: 2c20 3029 2c20 2831 2c20 3129 2c20 2832  , 0), (1, 1), (2
+00004260: 2c20 3229 290d 0a20 2020 2020 2020 2022  , 2))..        "
+00004270: 2222 0d0a 2020 2020 2020 2020 2320 544f  ""..        # TO
+00004280: 444f 3a20 616c 6c6f 7720 6c61 7a79 0d0a  DO: allow lazy..
+00004290: 2020 2020 2020 2020 7265 7475 726e 2069          return i
+000042a0: 5475 706c 6528 656e 756d 6572 6174 6528  Tuple(enumerate(
+000042b0: 7365 6c66 2929 0d0a 0d0a 2020 2020 6465  self))....    de
+000042c0: 6620 6772 6f75 7062 7928 0d0a 2020 2020  f groupby(..    
+000042d0: 2020 2020 7365 6c66 2c20 0d0a 2020 2020      self, ..    
+000042e0: 2020 2020 662c 200d 0a20 2020 2020 2020      f, ..       
+000042f0: 206c 617a 7920 3d20 4661 6c73 652c 200d   lazy = False, .
+00004300: 0a20 2020 2020 2020 206b 6579 7320 3d20  .        keys = 
+00004310: 4661 6c73 652c 0d0a 2020 2020 2020 2020  False,..        
+00004320: 7069 7065 3d20 4e6f 6e65 2c0d 0a20 2020  pipe= None,..   
+00004330: 2029 3a0d 0a20 2020 2020 2020 2022 2222   ):..        """
+00004340: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
+00004350: 7570 6c65 2e72 616e 6765 2833 292e 6772  uple.range(3).gr
+00004360: 6f75 7062 7928 6c61 6d62 6461 2078 3a20  oupby(lambda x: 
+00004370: 7820 3c20 3229 0d0a 2020 2020 2020 2020  x < 2)..        
+00004380: 6954 7570 6c65 2828 302c 2031 292c 2028  iTuple((0, 1), (
+00004390: 322c 2929 0d0a 2020 2020 2020 2020 3e3e  2,))..        >>
+000043a0: 3e20 6954 7570 6c65 2e72 616e 6765 2833  > iTuple.range(3
+000043b0: 292e 6772 6f75 7062 7928 0d0a 2020 2020  ).groupby(..    
+000043c0: 2020 2020 2e2e 2e20 2020 206c 616d 6264      ...    lambd
+000043d0: 6120 783a 2078 203c 2032 2c20 6b65 7973  a x: x < 2, keys
+000043e0: 3d54 7275 652c 2070 6970 653d 6644 6963  =True, pipe=fDic
+000043f0: 740d 0a20 2020 2020 2020 202e 2e2e 2029  t..        ... )
+00004400: 0d0a 2020 2020 2020 2020 7b54 7275 653a  ..        {True:
+00004410: 2028 302c 2031 292c 2046 616c 7365 3a20   (0, 1), False: 
+00004420: 2832 2c29 7d0d 0a20 2020 2020 2020 2022  (2,)}..        "
+00004430: 2222 0d0a 2020 2020 2020 2020 2320 544f  ""..        # TO
+00004440: 444f 3a20 6c61 7a79 206e 6f20 6b65 7973  DO: lazy no keys
+00004450: 0d0a 2020 2020 2020 2020 7265 7320 3d20  ..        res = 
+00004460: 6974 6572 746f 6f6c 732e 6772 6f75 7062  itertools.groupb
+00004470: 7928 7365 6c66 2c20 6b65 793d 6629 0d0a  y(self, key=f)..
+00004480: 2020 2020 2020 2020 6966 206c 617a 7920          if lazy 
+00004490: 616e 6420 6b65 7973 2061 6e64 2070 6970  and keys and pip
+000044a0: 6520 6973 204e 6f6e 653a 0d0a 2020 2020  e is None:..    
+000044b0: 2020 2020 2020 2020 7265 7475 726e 2072          return r
+000044c0: 6573 0d0a 2020 2020 2020 2020 6966 2070  es..        if p
+000044d0: 6970 6520 6973 204e 6f6e 653a 0d0a 2020  ipe is None:..  
+000044e0: 2020 2020 2020 2020 2020 7069 7065 203d            pipe =
+000044f0: 2069 5475 706c 650d 0a20 2020 2020 2020   iTuple..       
+00004500: 2069 6620 6b65 7973 3a0d 0a20 2020 2020   if keys:..     
+00004510: 2020 2020 2020 2072 6574 7572 6e20 7069         return pi
+00004520: 7065 2828 6b2c 2074 7570 6c65 2867 292c  pe((k, tuple(g),
+00004530: 2920 666f 7220 6b2c 2067 2069 6e20 7265  ) for k, g in re
+00004540: 7329 0d0a 2020 2020 2020 2020 656c 7365  s)..        else
+00004550: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00004560: 6574 7572 6e20 7069 7065 2874 7570 6c65  eturn pipe(tuple
+00004570: 2867 2920 666f 7220 6b2c 2067 2069 6e20  (g) for k, g in 
+00004580: 7265 7329 0d0a 0d0a 2020 2020 6465 6620  res)....    def 
+00004590: 6669 7273 7428 7365 6c66 293a 0d0a 2020  first(self):..  
+000045a0: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
+000045b0: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
+000045c0: 6e67 6528 3329 2e66 6972 7374 2829 0d0a  nge(3).first()..
+000045d0: 2020 2020 2020 2020 300d 0a20 2020 2020          0..     
+000045e0: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
+000045f0: 7265 7475 726e 2073 656c 665b 305d 0d0a  return self[0]..
+00004600: 2020 2020 0d0a 2020 2020 6465 6620 6c61      ..    def la
+00004610: 7374 2873 656c 6629 3a0d 0a20 2020 2020  st(self):..     
+00004620: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
+00004630: 3e3e 3e20 6954 7570 6c65 2e72 616e 6765  >>> iTuple.range
+00004640: 2833 292e 6c61 7374 2829 0d0a 2020 2020  (3).last()..    
+00004650: 2020 2020 320d 0a20 2020 2020 2020 2022      2..        "
+00004660: 2222 0d0a 2020 2020 2020 2020 7265 7475  ""..        retu
+00004670: 726e 2073 656c 665b 2d31 5d0d 0a0d 0a20  rn self[-1].... 
+00004680: 2020 2064 6566 2066 6972 7374 5f77 6865     def first_whe
+00004690: 7265 2873 656c 662c 2066 293a 0d0a 2020  re(self, f):..  
+000046a0: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
+000046b0: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
+000046c0: 6e67 6528 3329 2e66 6972 7374 5f77 6865  nge(3).first_whe
+000046d0: 7265 286c 616d 6264 6120 763a 2076 203e  re(lambda v: v >
+000046e0: 2030 290d 0a20 2020 2020 2020 2031 0d0a   0)..        1..
+000046f0: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
+00004700: 2020 2020 2066 6f72 2076 2069 6e20 7365       for v in se
+00004710: 6c66 3a0d 0a20 2020 2020 2020 2020 2020  lf:..           
+00004720: 2069 6620 6628 7629 3a0d 0a20 2020 2020   if f(v):..     
+00004730: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00004740: 6e20 760d 0a20 2020 2020 2020 2072 6574  n v..        ret
+00004750: 7572 6e20 4e6f 6e65 0d0a 0d0a 2020 2020  urn None....    
+00004760: 6465 6620 6c61 7374 5f77 6865 7265 2873  def last_where(s
+00004770: 656c 662c 2066 293a 0d0a 2020 2020 2020  elf, f):..      
+00004780: 2020 2222 220d 0a20 2020 2020 2020 203e    """..        >
+00004790: 3e3e 2069 5475 706c 652e 7261 6e67 6528  >> iTuple.range(
+000047a0: 3329 2e6c 6173 745f 7768 6572 6528 6c61  3).last_where(la
+000047b0: 6d62 6461 2076 3a20 7620 3c20 3229 0d0a  mbda v: v < 2)..
+000047c0: 2020 2020 2020 2020 310d 0a20 2020 2020          1..     
+000047d0: 2020 2022 2222 0d0a 2020 2020 2020 2020     """..        
+000047e0: 666f 7220 7620 696e 2072 6576 6572 7365  for v in reverse
+000047f0: 6428 7365 6c66 293a 0d0a 2020 2020 2020  d(self):..      
+00004800: 2020 2020 2020 6966 2066 2876 293a 0d0a        if f(v):..
+00004810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004820: 7265 7475 726e 2076 0d0a 2020 2020 2020  return v..      
+00004830: 2020 7265 7475 726e 204e 6f6e 650d 0a0d    return None...
+00004840: 0a20 2020 2064 6566 2074 616b 6528 7365  .    def take(se
+00004850: 6c66 2c20 6e29 3a0d 0a20 2020 2020 2020  lf, n):..       
+00004860: 2022 2222 0d0a 2020 2020 2020 2020 3e3e   """..        >>
+00004870: 3e20 6954 7570 6c65 2e72 616e 6765 2833  > iTuple.range(3
+00004880: 292e 7461 6b65 2832 290d 0a20 2020 2020  ).take(2)..     
+00004890: 2020 2069 5475 706c 6528 302c 2031 290d     iTuple(0, 1).
+000048a0: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+000048b0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+000048c0: 665b 3a6e 5d0d 0a0d 0a20 2020 2064 6566  f[:n]....    def
+000048d0: 2074 6169 6c28 7365 6c66 2c20 6e29 3a0d   tail(self, n):.
+000048e0: 0a20 2020 2020 2020 2022 2222 0d0a 2020  .        """..  
+000048f0: 2020 2020 2020 3e3e 3e20 6954 7570 6c65        >>> iTuple
+00004900: 2e72 616e 6765 2833 292e 7461 696c 2832  .range(3).tail(2
+00004910: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
+00004920: 6528 312c 2032 290d 0a20 2020 2020 2020  e(1, 2)..       
+00004930: 2022 2222 0d0a 2020 2020 2020 2020 7265   """..        re
+00004940: 7475 726e 2073 656c 665b 2d6e 3a5d 0d0a  turn self[-n:]..
+00004950: 0d0a 2020 2020 6465 6620 7265 7665 7273  ..    def revers
+00004960: 6528 7365 6c66 2c20 6c61 7a79 203d 2046  e(self, lazy = F
+00004970: 616c 7365 293a 0d0a 2020 2020 2020 2020  alse):..        
+00004980: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
+00004990: 2069 5475 706c 652e 7261 6e67 6528 3329   iTuple.range(3)
+000049a0: 2e72 6576 6572 7365 2829 0d0a 2020 2020  .reverse()..    
+000049b0: 2020 2020 6954 7570 6c65 2832 2c20 312c      iTuple(2, 1,
+000049c0: 2030 290d 0a20 2020 2020 2020 2022 2222   0)..        """
+000049d0: 0d0a 2020 2020 2020 2020 6966 206c 617a  ..        if laz
+000049e0: 793a 0d0a 2020 2020 2020 2020 2020 2020  y:..            
+000049f0: 7265 7475 726e 2072 6576 6572 7365 6428  return reversed(
+00004a00: 7365 6c66 290d 0a20 2020 2020 2020 2072  self)..        r
+00004a10: 6574 7572 6e20 7479 7065 2873 656c 6629  eturn type(self)
+00004a20: 2864 6174 613d 7265 7665 7273 6564 2873  (data=reversed(s
+00004a30: 656c 6629 290d 0a0d 0a20 2020 2064 6566  elf))....    def
+00004a40: 2074 616b 655f 7768 696c 6528 7365 6c66   take_while(self
+00004a50: 2c20 662c 206e 203d 204e 6f6e 652c 206c  , f, n = None, l
+00004a60: 617a 7920 3d20 4661 6c73 6529 3a0d 0a20  azy = False):.. 
+00004a70: 2020 2020 2020 2022 2222 0d0a 2020 2020         """..    
+00004a80: 2020 2020 3e3e 3e20 6954 7570 6c65 2e72      >>> iTuple.r
+00004a90: 616e 6765 2833 292e 7461 6b65 5f77 6869  ange(3).take_whi
+00004aa0: 6c65 286c 616d 6264 6120 763a 2076 203c  le(lambda v: v <
+00004ab0: 2031 290d 0a20 2020 2020 2020 2069 5475   1)..        iTu
+00004ac0: 706c 6528 3029 0d0a 2020 2020 2020 2020  ple(0)..        
+00004ad0: 2222 220d 0a20 2020 2020 2020 2064 6566  """..        def
+00004ae0: 2069 7465 7228 293a 0d0a 2020 2020 2020   iter():..      
+00004af0: 2020 2020 2020 6920 3d20 300d 0a20 2020        i = 0..   
+00004b00: 2020 2020 2020 2020 2066 6f72 2076 2069           for v i
+00004b10: 6e20 7365 6c66 3a0d 0a20 2020 2020 2020  n self:..       
+00004b20: 2020 2020 2020 2020 2069 6620 6628 7629           if f(v)
+00004b30: 2061 6e64 2028 6e20 6973 204e 6f6e 6520   and (n is None 
+00004b40: 6f72 2069 203c 206e 293a 0d0a 2020 2020  or i < n):..    
+00004b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004b60: 7969 656c 6420 760d 0a20 2020 2020 2020  yield v..       
+00004b70: 2020 2020 2020 2020 2020 2020 2069 202b               i +
+00004b80: 3d20 310d 0a20 2020 2020 2020 2020 2020  = 1..           
+00004b90: 2020 2020 2065 6c73 653a 0d0a 2020 2020       else:..    
+00004ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004bb0: 7265 7475 726e 0d0a 2020 2020 2020 2020  return..        
+00004bc0: 7265 7320 3d20 6974 6572 2829 0d0a 2020  res = iter()..  
+00004bd0: 2020 2020 2020 7265 7475 726e 2072 6573        return res
+00004be0: 2069 6620 6c61 7a79 2065 6c73 6520 7479   if lazy else ty
+00004bf0: 7065 2873 656c 6629 2864 6174 613d 7265  pe(self)(data=re
+00004c00: 7329 0d0a 0d0a 2020 2020 6465 6620 7461  s)....    def ta
+00004c10: 696c 5f77 6869 6c65 2873 656c 662c 2066  il_while(self, f
+00004c20: 2c20 6e20 3d20 4e6f 6e65 293a 0d0a 2020  , n = None):..  
+00004c30: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
+00004c40: 2020 203e 3e3e 2069 5475 706c 652e 7261     >>> iTuple.ra
+00004c50: 6e67 6528 3329 2e74 6169 6c5f 7768 696c  nge(3).tail_whil
+00004c60: 6528 6c61 6d62 6461 2076 3a20 7620 3e20  e(lambda v: v > 
+00004c70: 3129 0d0a 2020 2020 2020 2020 6954 7570  1)..        iTup
+00004c80: 6c65 2832 290d 0a20 2020 2020 2020 2022  le(2)..        "
+00004c90: 2222 0d0a 2020 2020 2020 2020 6920 3d20  ""..        i = 
+00004ca0: 300d 0a20 2020 2020 2020 2066 6f72 2076  0..        for v
+00004cb0: 2069 6e20 7265 7665 7273 6564 2873 656c   in reversed(sel
+00004cc0: 6629 3a0d 0a20 2020 2020 2020 2020 2020  f):..           
+00004cd0: 2069 6620 6628 7629 2061 6e64 2028 6e20   if f(v) and (n 
+00004ce0: 6973 204e 6f6e 6520 6f72 2069 203c 206e  is None or i < n
+00004cf0: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
+00004d00: 2020 2020 6920 2b3d 2031 0d0a 2020 2020      i += 1..    
+00004d10: 2020 2020 2020 2020 656c 7365 3a0d 0a20          else:.. 
+00004d20: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+00004d30: 7265 616b 0d0a 2020 2020 2020 2020 7265  reak..        re
+00004d40: 7475 726e 2073 656c 662e 7461 696c 2869  turn self.tail(i
+00004d50: 290d 0a0d 0a20 2020 2023 204e 4f54 453a  )....    # NOTE:
+00004d60: 2066 726f 6d20 6173 2069 6e2c 2073 7461   from as in, sta
+00004d70: 7274 696e 6720 6672 6f6d 2066 6972 7374  rting from first
+00004d80: 2074 7275 650d 0a20 2020 2023 2076 6572   true..    # ver
+00004d90: 7375 7320 6162 6f76 652c 2077 6869 6368  sus above, which
+00004da0: 2069 7320 756e 7469 6c20 6669 7273 7420   is until first 
+00004db0: 6661 6c73 650d 0a20 2020 2064 6566 2074  false..    def t
+00004dc0: 616b 655f 6166 7465 7228 7365 6c66 2c20  ake_after(self, 
+00004dd0: 662c 206e 203d 204e 6f6e 652c 206c 617a  f, n = None, laz
+00004de0: 7920 3d20 4661 6c73 6529 3a0d 0a20 2020  y = False):..   
+00004df0: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
+00004e00: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
+00004e10: 6765 2833 292e 7461 6b65 5f61 6674 6572  ge(3).take_after
+00004e20: 286c 616d 6264 6120 763a 2076 203c 2031  (lambda v: v < 1
+00004e30: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
+00004e40: 6528 312c 2032 290d 0a20 2020 2020 2020  e(1, 2)..       
+00004e50: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
+00004e60: 6528 3329 2e74 616b 655f 6166 7465 7228  e(3).take_after(
+00004e70: 6c61 6d62 6461 2076 3a20 7620 3c20 312c  lambda v: v < 1,
+00004e80: 206e 203d 2031 290d 0a20 2020 2020 2020   n = 1)..       
+00004e90: 2069 5475 706c 6528 3129 0d0a 2020 2020   iTuple(1)..    
+00004ea0: 2020 2020 2222 220d 0a20 2020 2020 2020      """..       
+00004eb0: 2064 6566 2069 7465 7228 293a 0d0a 2020   def iter():..  
+00004ec0: 2020 2020 2020 2020 2020 6920 3d20 300d            i = 0.
+00004ed0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+00004ee0: 2076 2069 6e20 7365 6c66 3a0d 0a20 2020   v in self:..   
+00004ef0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00004f00: 6628 7629 3a0d 0a20 2020 2020 2020 2020  f(v):..         
+00004f10: 2020 2020 2020 2020 2020 2070 6173 730d             pass.
+00004f20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004f30: 2065 6c69 6620 6e20 6973 204e 6f6e 6520   elif n is None 
+00004f40: 6f72 2069 203c 206e 3a0d 0a20 2020 2020  or i < n:..     
+00004f50: 2020 2020 2020 2020 2020 2020 2020 2079                 y
+00004f60: 6965 6c64 2076 0d0a 2020 2020 2020 2020  ield v..        
+00004f70: 2020 2020 2020 2020 2020 2020 6920 2b3d              i +=
+00004f80: 2031 0d0a 2020 2020 2020 2020 2020 2020   1..            
+00004f90: 2020 2020 656c 7365 3a0d 0a20 2020 2020      else:..     
+00004fa0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00004fb0: 6574 7572 6e0d 0a20 2020 2020 2020 2072  eturn..        r
+00004fc0: 6573 203d 2069 7465 7228 290d 0a20 2020  es = iter()..   
+00004fd0: 2020 2020 2072 6574 7572 6e20 7265 7320       return res 
+00004fe0: 6966 206c 617a 7920 656c 7365 2074 7970  if lazy else typ
+00004ff0: 6528 7365 6c66 2928 6461 7461 3d72 6573  e(self)(data=res
+00005000: 290d 0a0d 0a20 2020 2064 6566 2074 6169  )....    def tai
+00005010: 6c5f 6166 7465 7228 7365 6c66 2c20 662c  l_after(self, f,
+00005020: 206e 203d 204e 6f6e 6529 3a0d 0a20 2020   n = None):..   
+00005030: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
+00005040: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
+00005050: 6765 2833 292e 7461 696c 5f61 6674 6572  ge(3).tail_after
+00005060: 286c 616d 6264 6120 763a 2076 203c 2032  (lambda v: v < 2
+00005070: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
+00005080: 6528 302c 2031 290d 0a20 2020 2020 2020  e(0, 1)..       
+00005090: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
+000050a0: 6528 3329 2e74 6169 6c5f 6166 7465 7228  e(3).tail_after(
+000050b0: 6c61 6d62 6461 2076 3a20 7620 3c20 322c  lambda v: v < 2,
+000050c0: 2031 290d 0a20 2020 2020 2020 2069 5475   1)..        iTu
+000050d0: 706c 6528 3129 0d0a 2020 2020 2020 2020  ple(1)..        
+000050e0: 2222 220d 0a20 2020 2020 2020 206c 203d  """..        l =
+000050f0: 2030 0d0a 2020 2020 2020 2020 7220 3d20   0..        r = 
+00005100: 300d 0a20 2020 2020 2020 2066 6f72 2076  0..        for v
+00005110: 2069 6e20 7265 7665 7273 6564 2873 656c   in reversed(sel
+00005120: 6629 3a0d 0a20 2020 2020 2020 2020 2020  f):..           
+00005130: 2069 6620 6e6f 7420 6628 7629 3a0d 0a20   if not f(v):.. 
+00005140: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00005150: 202b 3d20 310d 0a20 2020 2020 2020 2020   += 1..         
+00005160: 2020 2065 6c69 6620 6e20 6973 204e 6f6e     elif n is Non
+00005170: 6520 6f72 2072 203c 206e 3a0d 0a20 2020  e or r < n:..   
+00005180: 2020 2020 2020 2020 2020 2020 2072 202b               r +
+00005190: 3d20 310d 0a20 2020 2020 2020 2020 2020  = 1..           
+000051a0: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+000051b0: 2020 2020 2020 2020 6272 6561 6b0d 0a20          break.. 
+000051c0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+000051d0: 6c66 2e74 6169 6c28 6c20 2b20 7229 2e74  lf.tail(l + r).t
+000051e0: 616b 6528 7229 0d0a 0d0a 2020 2020 6465  ake(r)....    de
+000051f0: 6620 6973 6c69 6365 2873 656c 662c 206c  f islice(self, l
+00005200: 6566 7420 3d20 4e6f 6e65 2c20 7269 6768  eft = None, righ
+00005210: 7420 3d20 4e6f 6e65 293a 0d0a 2020 2020  t = None):..    
+00005220: 2020 2020 2222 220d 0a20 2020 2020 2020      """..       
+00005230: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
+00005240: 6528 3529 2e69 736c 6963 6528 312c 2033  e(5).islice(1, 3
+00005250: 290d 0a20 2020 2020 2020 2069 5475 706c  )..        iTupl
+00005260: 6528 312c 2032 290d 0a20 2020 2020 2020  e(1, 2)..       
+00005270: 2022 2222 0d0a 2020 2020 2020 2020 7265   """..        re
+00005280: 7475 726e 2073 656c 665b 6c65 6674 3a72  turn self[left:r
+00005290: 6967 6874 5d0d 0a0d 0a20 2020 2064 6566  ight]....    def
+000052a0: 2075 6e69 7175 6528 7365 6c66 293a 0d0a   unique(self):..
+000052b0: 2020 2020 2020 2020 2222 220d 0a20 2020          """..   
+000052c0: 2020 2020 203e 3e3e 2069 5475 706c 6528       >>> iTuple(
+000052d0: 5b31 2c20 312c 2033 2c20 322c 2034 2c20  [1, 1, 3, 2, 4, 
+000052e0: 322c 2033 5d29 2e75 6e69 7175 6528 290d  2, 3]).unique().
+000052f0: 0a20 2020 2020 2020 2069 5475 706c 6528  .        iTuple(
+00005300: 312c 2033 2c20 322c 2034 290d 0a20 2020  1, 3, 2, 4)..   
+00005310: 2020 2020 2022 2222 0d0a 2020 2020 2020       """..      
+00005320: 2020 6465 6620 6974 6572 2829 3a0d 0a20    def iter():.. 
+00005330: 2020 2020 2020 2020 2020 2073 6565 6e20             seen 
+00005340: 3d20 7365 7428 290d 0a20 2020 2020 2020  = set()..       
+00005350: 2020 2020 2073 6565 6e5f 6164 6420 3d20       seen_add = 
+00005360: 7365 656e 2e61 6464 0d0a 2020 2020 2020  seen.add..      
+00005370: 2020 2020 2020 7365 656e 5f63 6f6e 7461        seen_conta
+00005380: 696e 7320 3d20 7365 656e 2e5f 5f63 6f6e  ins = seen.__con
+00005390: 7461 696e 735f 5f0d 0a20 2020 2020 2020  tains__..       
+000053a0: 2020 2020 2066 6f72 2076 2069 6e20 6974       for v in it
+000053b0: 6572 746f 6f6c 732e 6669 6c74 6572 6661  ertools.filterfa
+000053c0: 6c73 6528 7365 656e 5f63 6f6e 7461 696e  lse(seen_contain
+000053d0: 732c 2073 656c 6629 3a0d 0a20 2020 2020  s, self):..     
+000053e0: 2020 2020 2020 2020 2020 2073 6565 6e5f             seen_
+000053f0: 6164 6428 7629 0d0a 2020 2020 2020 2020  add(v)..        
+00005400: 2020 2020 2020 2020 7969 656c 6420 760d          yield v.
+00005410: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00005420: 7479 7065 2873 656c 6629 2864 6174 613d  type(self)(data=
+00005430: 6974 6572 2829 290d 0a20 2020 200d 0a20  iter())..    .. 
+00005440: 2020 2064 6566 2073 6f72 7428 7365 6c66     def sort(self
+00005450: 2c20 6620 3d20 6c61 6d62 6461 2076 3a20  , f = lambda v: 
+00005460: 7629 3a0d 0a20 2020 2020 2020 2022 2222  v):..        """
+00005470: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
+00005480: 7570 6c65 2e72 616e 6765 2833 292e 7265  uple.range(3).re
+00005490: 7665 7273 6528 292e 736f 7274 2829 0d0a  verse().sort()..
+000054a0: 2020 2020 2020 2020 6954 7570 6c65 2830          iTuple(0
+000054b0: 2c20 312c 2032 290d 0a20 2020 2020 2020  , 1, 2)..       
+000054c0: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
+000054d0: 6528 3329 2e73 6f72 7428 290d 0a20 2020  e(3).sort()..   
+000054e0: 2020 2020 2069 5475 706c 6528 302c 2031       iTuple(0, 1
+000054f0: 2c20 3229 0d0a 2020 2020 2020 2020 2222  , 2)..        ""
+00005500: 220d 0a20 2020 2020 2020 2072 6574 7572  "..        retur
+00005510: 6e20 7479 7065 2873 656c 6629 2864 6174  n type(self)(dat
+00005520: 613d 736f 7274 6564 2873 656c 662c 206b  a=sorted(self, k
+00005530: 6579 203d 2066 2929 0d0a 0d0a 2020 2020  ey = f))....    
+00005540: 6465 6620 6163 6375 6d75 6c61 7465 2873  def accumulate(s
+00005550: 656c 662c 2066 2c20 696e 6974 6961 6c20  elf, f, initial 
+00005560: 3d20 4e6f 6e65 2c20 6c61 7a79 203d 2046  = None, lazy = F
+00005570: 616c 7365 293a 0d0a 2020 2020 2020 2020  alse):..        
+00005580: 2222 220d 0a20 2020 2020 2020 203e 3e3e  """..        >>>
+00005590: 2069 5475 706c 652e 7261 6e67 6528 3329   iTuple.range(3)
+000055a0: 2e61 6363 756d 756c 6174 6528 6c61 6d62  .accumulate(lamb
+000055b0: 6461 2061 6363 2c20 763a 2076 290d 0a20  da acc, v: v).. 
+000055c0: 2020 2020 2020 2069 5475 706c 6528 302c         iTuple(0,
+000055d0: 2031 2c20 3229 0d0a 2020 2020 2020 2020   1, 2)..        
+000055e0: 3e3e 3e20 6954 7570 6c65 2e72 616e 6765  >>> iTuple.range
+000055f0: 2833 292e 6163 6375 6d75 6c61 7465 286c  (3).accumulate(l
+00005600: 616d 6264 6120 6163 632c 2076 3a20 762c  ambda acc, v: v,
+00005610: 2069 6e69 7469 616c 3d30 290d 0a20 2020   initial=0)..   
+00005620: 2020 2020 2069 5475 706c 6528 302c 2030       iTuple(0, 0
+00005630: 2c20 312c 2032 290d 0a20 2020 2020 2020  , 1, 2)..       
+00005640: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
+00005650: 6528 3329 2e61 6363 756d 756c 6174 6528  e(3).accumulate(
+00005660: 6f70 6572 6174 6f72 2e61 6464 290d 0a20  operator.add).. 
+00005670: 2020 2020 2020 2069 5475 706c 6528 302c         iTuple(0,
+00005680: 2031 2c20 3329 0d0a 2020 2020 2020 2020   1, 3)..        
+00005690: 2222 220d 0a20 2020 2020 2020 2072 6573  """..        res
+000056a0: 203d 2069 7465 7274 6f6f 6c73 2e61 6363   = itertools.acc
+000056b0: 756d 756c 6174 6528 7365 6c66 2c20 6675  umulate(self, fu
+000056c0: 6e63 3d66 2c20 696e 6974 6961 6c3d 696e  nc=f, initial=in
+000056d0: 6974 6961 6c29 0d0a 2020 2020 2020 2020  itial)..        
+000056e0: 7265 7475 726e 2072 6573 2069 6620 6c61  return res if la
+000056f0: 7a79 2065 6c73 6520 6954 7570 6c65 2864  zy else iTuple(d
+00005700: 6174 613d 7265 7329 0d0a 0d0a 2020 2020  ata=res)....    
+00005710: 6465 6620 666f 6c64 6375 6d28 7365 6c66  def foldcum(self
+00005720: 2c20 2a61 7267 732c 202a 2a6b 7761 7267  , *args, **kwarg
+00005730: 7329 3a0d 0a20 2020 2020 2020 2022 2222  s):..        """
+00005740: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
+00005750: 7570 6c65 2e72 616e 6765 2833 292e 666f  uple.range(3).fo
+00005760: 6c64 6375 6d28 6c61 6d62 6461 2061 6363  ldcum(lambda acc
+00005770: 2c20 763a 2076 290d 0a20 2020 2020 2020  , v: v)..       
+00005780: 2069 5475 706c 6528 302c 2031 2c20 3229   iTuple(0, 1, 2)
+00005790: 0d0a 2020 2020 2020 2020 3e3e 3e20 6954  ..        >>> iT
+000057a0: 7570 6c65 2e72 616e 6765 2833 292e 666f  uple.range(3).fo
+000057b0: 6c64 6375 6d28 6f70 6572 6174 6f72 2e61  ldcum(operator.a
+000057c0: 6464 290d 0a20 2020 2020 2020 2069 5475  dd)..        iTu
+000057d0: 706c 6528 302c 2031 2c20 3329 0d0a 2020  ple(0, 1, 3)..  
+000057e0: 2020 2020 2020 2222 220d 0a20 2020 2020        """..     
+000057f0: 2020 2072 6574 7572 6e20 7365 6c66 2e61     return self.a
+00005800: 6363 756d 756c 6174 6528 2a61 7267 732c  ccumulate(*args,
+00005810: 202a 2a6b 7761 7267 7329 0d0a 0d0a 2020   **kwargs)....  
+00005820: 2020 6465 6620 666f 6c64 2873 656c 662c    def fold(self,
+00005830: 2066 2c20 696e 6974 6961 6c3d 4e6f 6e65   f, initial=None
+00005840: 293a 0d0a 2020 2020 2020 2020 2222 220d  ):..        """.
+00005850: 0a20 2020 2020 2020 203e 3e3e 2069 5475  .        >>> iTu
+00005860: 706c 652e 7261 6e67 6528 3329 2e66 6f6c  ple.range(3).fol
+00005870: 6428 6c61 6d62 6461 2061 6363 2c20 763a  d(lambda acc, v:
+00005880: 2076 290d 0a20 2020 2020 2020 2032 0d0a   v)..        2..
+00005890: 2020 2020 2020 2020 3e3e 3e20 6954 7570          >>> iTup
+000058a0: 6c65 2e72 616e 6765 2833 292e 666f 6c64  le.range(3).fold
+000058b0: 286c 616d 6264 6120 6163 632c 2076 3a20  (lambda acc, v: 
+000058c0: 762c 2069 6e69 7469 616c 3d30 290d 0a20  v, initial=0).. 
+000058d0: 2020 2020 2020 2032 0d0a 2020 2020 2020         2..      
+000058e0: 2020 3e3e 3e20 6954 7570 6c65 2e72 616e    >>> iTuple.ran
+000058f0: 6765 2833 292e 666f 6c64 286f 7065 7261  ge(3).fold(opera
+00005900: 746f 722e 6164 6429 0d0a 2020 2020 2020  tor.add)..      
+00005910: 2020 330d 0a20 2020 2020 2020 2022 2222    3..        """
+00005920: 0d0a 2020 2020 2020 2020 6966 2069 6e69  ..        if ini
+00005930: 7469 616c 2069 7320 6e6f 7420 4e6f 6e65  tial is not None
+00005940: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00005950: 6573 203d 2066 756e 6374 6f6f 6c73 2e72  es = functools.r
+00005960: 6564 7563 6528 662c 2073 656c 662c 2069  educe(f, self, i
+00005970: 6e69 7469 616c 290d 0a20 2020 2020 2020  nitial)..       
+00005980: 2065 6c73 653a 0d0a 2020 2020 2020 2020   else:..        
+00005990: 2020 2020 7265 7320 3d20 6675 6e63 746f      res = functo
+000059a0: 6f6c 732e 7265 6475 6365 2866 2c20 7365  ols.reduce(f, se
+000059b0: 6c66 290d 0a20 2020 2020 2020 2072 6574  lf)..        ret
+000059c0: 7572 6e20 7265 730d 0a0d 0a20 2020 2023  urn res....    #
+000059d0: 202d 2d2d 2d2d 0d0a 0d0a 2020 2020 2320   -----....    # 
+000059e0: 636f 6d62 696e 6174 6f72 6963 730d 0a0d  combinatorics...
+000059f0: 0a20 2020 2023 202d 2d2d 2d2d 0d0a 0d0a  .    # -----....
+00005a00: 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  # --------------
+00005a10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00005a20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00005a30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00005a40: 2d0d 0a0d 0a40 6e54 7570 6c65 2e64 6563  -....@nTuple.dec
+00005a50: 6f72 6174 650d 0a63 6c61 7373 2045 7861  orate..class Exa
+00005a60: 6d70 6c65 2874 7970 696e 672e 4e61 6d65  mple(typing.Name
+00005a70: 6454 7570 6c65 293a 0d0a 2020 2020 2222  dTuple):..    ""
+00005a80: 220d 0a20 2020 203e 3e3e 2065 7820 3d20  "..    >>> ex = 
+00005a90: 4578 616d 706c 6528 312c 2022 6122 290d  Example(1, "a").
+00005aa0: 0a20 2020 203e 3e3e 2065 780d 0a20 2020  .    >>> ex..   
+00005ab0: 2045 7861 6d70 6c65 2878 3d31 2c20 733d   Example(x=1, s=
+00005ac0: 2761 272c 2069 743d 6954 7570 6c65 2829  'a', it=iTuple()
+00005ad0: 290d 0a20 2020 203e 3e3e 2065 782e 636c  )..    >>> ex.cl
+00005ae0: 730d 0a20 2020 203c 636c 6173 7320 2778  s..    <class 'x
+00005af0: 7475 706c 6573 2e78 7475 706c 6573 2e6e  tuples.xtuples.n
+00005b00: 5475 706c 6527 3e0d 0a20 2020 203e 3e3e  Tuple'>..    >>>
+00005b10: 2065 782e 7069 7065 286c 616d 6264 6120   ex.pipe(lambda 
+00005b20: 6e74 3a20 6e74 2e78 290d 0a20 2020 2031  nt: nt.x)..    1
+00005b30: 0d0a 2020 2020 3e3e 3e20 6620 3d20 6578  ..    >>> f = ex
+00005b40: 2e70 6172 7469 616c 286c 616d 6264 6120  .partial(lambda 
+00005b50: 6e74 2c20 763a 206e 742e 7820 2a20 7629  nt, v: nt.x * v)
+00005b60: 0d0a 2020 2020 3e3e 3e20 6628 3229 0d0a  ..    >>> f(2)..
+00005b70: 2020 2020 320d 0a20 2020 203e 3e3e 2066      2..    >>> f
+00005b80: 2833 290d 0a20 2020 2033 0d0a 2020 2020  (3)..    3..    
+00005b90: 2222 220d 0a20 2020 2023 204e 4f54 453a  """..    # NOTE:
+00005ba0: 2063 6c73 2c20 7069 7065 2c20 7061 7274   cls, pipe, part
+00005bb0: 6961 6c20 6172 6520 6d61 6e64 6174 6f72  ial are mandator
+00005bc0: 7920 626f 696c 6572 706c 6174 650d 0a0d  y boilerplate...
+00005bd0: 0a20 2020 2078 3a20 696e 740d 0a20 2020  .    x: int..   
+00005be0: 2073 3a20 7374 720d 0a20 2020 2069 743a   s: str..    it:
+00005bf0: 2069 5475 706c 6520 3d20 6954 7570 6c65   iTuple = iTuple
+00005c00: 285b 5d29 0d0a 0d0a 2020 2020 4070 726f  ([])....    @pro
+00005c10: 7065 7274 790d 0a20 2020 2064 6566 2063  perty..    def c
+00005c20: 6c73 2873 656c 6629 3a0d 0a20 2020 2020  ls(self):..     
+00005c30: 2020 202e 2e2e 0d0a 0d0a 2020 2020 6465     .......    de
+00005c40: 6620 7069 7065 2873 656c 662c 2066 2c20  f pipe(self, f, 
+00005c50: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
+00005c60: 3a0d 0a20 2020 2020 2020 202e 2e2e 0d0a  :..        .....
+00005c70: 0d0a 2020 2020 6465 6620 7061 7274 6961  ..    def partia
+00005c80: 6c28 7365 6c66 2c20 662c 202a 6172 6773  l(self, f, *args
+00005c90: 2c20 2a2a 6b77 6172 6773 293a 0d0a 2020  , **kwargs):..  
+00005ca0: 2020 2020 2020 2e2e 2e0d 0a0d 0a23 202d        .......# -
+00005cb0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00005cc0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00005cd0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00005ce0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0d0a  --------------..
+00005cf0: 0d0a 2320 696d 706f 7274 206d 6973 632e  ..# import misc.
+00005d00: 7065 7266 6d6f 6e0d 0a0d 0a23 2064 6566  perfmon....# def
+00005d10: 2069 6e74 5f6d 656d 6f72 795f 6765 6e28   int_memory_gen(
+00005d20: 6375 6d3d 4661 6c73 6529 3a0d 0a23 2020  cum=False):..#  
+00005d30: 2020 2069 203d 2030 0d0a 2320 2020 2020     i = 0..#     
+00005d40: 7768 696c 6520 5472 7565 3a0d 0a23 2020  while True:..#  
+00005d50: 2020 2020 2020 2079 6965 6c64 2069 0d0a         yield i..
+00005d60: 2320 2020 2020 7265 7475 726e 0d0a 0d0a  #     return....
+00005d70: 2320 6465 6620 6469 6374 5f6d 656d 6f72  # def dict_memor
+00005d80: 795f 6765 6e28 6375 6d3d 4661 6c73 6529  y_gen(cum=False)
+00005d90: 3a0d 0a23 2020 2020 2069 203d 2030 0d0a  :..#     i = 0..
+00005da0: 2320 2020 2020 6966 2063 756d 3a0d 0a23  #     if cum:..#
+00005db0: 2020 2020 2020 2020 2077 6869 6c65 2054           while T
+00005dc0: 7275 653a 0d0a 2320 2020 2020 2020 2020  rue:..#         
+00005dd0: 2020 2020 7969 656c 6420 7b69 693a 2069      yield {ii: i
+00005de0: 6920 666f 7220 6969 2069 6e20 7261 6e67  i for ii in rang
+00005df0: 6528 6929 7d0d 0a23 2020 2020 2020 2020  e(i)}..#        
+00005e00: 2020 2020 2069 202b 3d20 310d 0a23 2020       i += 1..#  
+00005e10: 2020 2065 6c73 653a 0d0a 2320 2020 2020     else:..#     
+00005e20: 2020 2020 7768 696c 6520 5472 7565 3a0d      while True:.
+00005e30: 0a23 2020 2020 2020 2020 2020 2020 2079  .#             y
+00005e40: 6965 6c64 207b 693a 2069 7d0d 0a23 2020  ield {i: i}..#  
+00005e50: 2020 2020 2020 2020 2020 2069 202b 3d20             i += 
+00005e60: 310d 0a23 2020 2020 2072 6574 7572 6e0d  1..#     return.
+00005e70: 0a0d 0a23 2064 6566 206c 6973 745f 6d65  ...# def list_me
+00005e80: 6d6f 7279 5f67 656e 2863 756d 3d46 616c  mory_gen(cum=Fal
+00005e90: 7365 293a 0d0a 2320 2020 2020 6920 3d20  se):..#     i = 
+00005ea0: 300d 0a23 2020 2020 2069 6620 6375 6d3a  0..#     if cum:
+00005eb0: 0d0a 2320 2020 2020 2020 2020 7768 696c  ..#         whil
+00005ec0: 6520 5472 7565 3a0d 0a23 2020 2020 2020  e True:..#      
+00005ed0: 2020 2020 2020 2079 6965 6c64 206c 6973         yield lis
+00005ee0: 7428 7261 6e67 6528 6929 290d 0a23 2020  t(range(i))..#  
+00005ef0: 2020 2020 2020 2020 2020 2069 202b 3d20             i += 
+00005f00: 310d 0a23 2020 2020 2065 6c73 653a 0d0a  1..#     else:..
+00005f10: 2320 2020 2020 2020 2020 7768 696c 6520  #         while 
+00005f20: 5472 7565 3a0d 0a23 2020 2020 2020 2020  True:..#        
+00005f30: 2020 2020 2079 6965 6c64 205b 695d 0d0a       yield [i]..
+00005f40: 2320 2020 2020 2020 2020 2020 2020 6920  #             i 
+00005f50: 2b3d 2031 0d0a 2320 2020 2020 7265 7475  += 1..#     retu
+00005f60: 726e 0d0a 0d0a 2320 6465 6620 6954 7570  rn....# def iTup
+00005f70: 6c65 5f6d 656d 6f72 795f 6765 6e28 6375  le_memory_gen(cu
+00005f80: 6d3d 4661 6c73 6529 3a0d 0a23 2020 2020  m=False):..#    
+00005f90: 2069 203d 2030 0d0a 2320 2020 2020 6966   i = 0..#     if
+00005fa0: 2063 756d 3a0d 0a23 2020 2020 2020 2020   cum:..#        
+00005fb0: 2077 6869 6c65 2054 7275 653a 0d0a 2320   while True:..# 
+00005fc0: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
+00005fd0: 6420 6954 7570 6c65 2872 616e 6765 2869  d iTuple(range(i
+00005fe0: 2929 0d0a 2320 2020 2020 2020 2020 2020  ))..#           
+00005ff0: 2020 6920 2b3d 2031 0d0a 2320 2020 2020    i += 1..#     
+00006000: 656c 7365 3a0d 0a23 2020 2020 2020 2020  else:..#        
+00006010: 2077 6869 6c65 2054 7275 653a 0d0a 2320   while True:..# 
+00006020: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
+00006030: 6420 6954 7570 6c65 285b 695d 290d 0a23  d iTuple([i])..#
+00006040: 2020 2020 2020 2020 2020 2020 2069 202b               i +
+00006050: 3d20 310d 0a23 2020 2020 2072 6574 7572  = 1..#     retur
+00006060: 6e0d 0a0d 0a23 2070 7269 6e74 2822 696e  n....# print("in
+00006070: 7422 2c20 6d69 7363 2e70 6572 666d 6f6e  t", misc.perfmon
+00006080: 2e70 726f 6669 6c65 5f6d 656d 6f72 7928  .profile_memory(
+00006090: 0d0a 2320 2020 2020 696e 745f 6d65 6d6f  ..#     int_memo
+000060a0: 7279 5f67 656e 0d0a 2320 2929 0d0a 0d0a  ry_gen..# ))....
+000060b0: 2320 7072 696e 7428 226c 6973 7422 2c20  # print("list", 
+000060c0: 6d69 7363 2e70 6572 666d 6f6e 2e70 726f  misc.perfmon.pro
+000060d0: 6669 6c65 5f6d 656d 6f72 7928 0d0a 2320  file_memory(..# 
+000060e0: 2020 2020 6c69 7374 5f6d 656d 6f72 795f      list_memory_
+000060f0: 6765 6e0d 0a23 2029 290d 0a0d 0a23 2070  gen..# ))....# p
+00006100: 7269 6e74 2822 6954 7570 6c65 222c 206d  rint("iTuple", m
+00006110: 6973 632e 7065 7266 6d6f 6e2e 7072 6f66  isc.perfmon.prof
+00006120: 696c 655f 6d65 6d6f 7279 280d 0a23 2020  ile_memory(..#  
+00006130: 2020 2069 5475 706c 655f 6d65 6d6f 7279     iTuple_memory
+00006140: 5f67 656e 0d0a 2320 2929 0d0a 0d0a 2320  _gen..# ))....# 
+00006150: 7072 696e 7428 226c 6973 7420 6375 6d22  print("list cum"
+00006160: 2c20 6d69 7363 2e70 6572 666d 6f6e 2e70  , misc.perfmon.p
+00006170: 726f 6669 6c65 5f6d 656d 6f72 7928 0d0a  rofile_memory(..
+00006180: 2320 2020 2020 6c69 7374 5f6d 656d 6f72  #     list_memor
+00006190: 795f 6765 6e2c 2063 756d 3d54 7275 652c  y_gen, cum=True,
+000061a0: 0d0a 2320 2929 0d0a 0d0a 2320 7072 696e  ..# ))....# prin
+000061b0: 7428 2269 5475 706c 6520 6375 6d22 2c20  t("iTuple cum", 
+000061c0: 6d69 7363 2e70 6572 666d 6f6e 2e70 726f  misc.perfmon.pro
+000061d0: 6669 6c65 5f6d 656d 6f72 7928 0d0a 2320  file_memory(..# 
+000061e0: 2020 2020 6954 7570 6c65 5f6d 656d 6f72      iTuple_memor
+000061f0: 795f 6765 6e2c 2063 756d 3d54 7275 652c  y_gen, cum=True,
+00006200: 0d0a 2320 2929 0d0a 0d0a 2320 2d2d 2d2d  ..# ))....# ----
+00006210: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00006220: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00006230: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00006240: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0d 0a0d 0a23  -----------....#
+00006250: 2073 203d 2053 2831 290d 0a23 2073 5f70   s = S(1)..# s_p
+00006260: 6172 656e 7420 3d20 535f 5061 7265 6e74  arent = S_Parent
+00006270: 2873 290d 0a0d 0a23 2070 7269 6e74 2873  (s)....# print(s
+00006280: 2e63 6c73 2e61 6e6e 6f74 6174 696f 6e73  .cls.annotations
+00006290: 2873 2929 0d0a 0d0a 2320 7072 696e 7428  (s))....# print(
+000062a0: 732e 636c 7329 0d0a 0d0a 2320 7072 696e  s.cls)....# prin
+000062b0: 7428 735f 7061 7265 6e74 2e63 6173 745f  t(s_parent.cast_
+000062c0: 6a73 6f6e 2829 290d 0a0d 0a23 2070 7269  json())....# pri
+000062d0: 6e74 2869 5475 706c 6528 5b73 5f70 6172  nt(iTuple([s_par
+000062e0: 656e 745d 292e 6361 7374 5f6a 736f 6e28  ent]).cast_json(
+000062f0: 2929 0d0a 0d0a 2320 2320 2d2d 2d2d 2d2d  ))....# # ------
+00006300: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00006310: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00006320: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00006330: 2d2d 2d2d 2d2d 2d2d 2d0d 0a0d 0a23 206c  ---------....# l
+00006340: 203d 2069 5475 706c 6528 5b73 5d29 0d0a   = iTuple([s])..
+00006350: 0d0a 2320 7072 696e 7428 6c2e 6578 7465  ..# print(l.exte
+00006360: 6e64 285b 325d 2929 0d0a 0d0a 2320 7072  nd([2]))....# pr
+00006370: 696e 7428 6c2e 6170 7065 6e64 2831 2929  int(l.append(1))
+00006380: 0d0a 0d0a 2320 7072 696e 7428 6c2e 6d61  ....# print(l.ma
+00006390: 7028 7072 696e 7429 290d 0a0d 0a23 2023  p(print))....# #
+000063a0: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
+000063b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000063c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000063d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000063e0: 0d0a 0d0a 2320 7072 696e 7428 732e 636c  ....# print(s.cl
+000063f0: 7329 0d0a 0d0a 2320 7072 696e 7428 2253  s)....# print("S
+00006400: 686f 756c 6420 6265 2074 7275 653a 222c  hould be true:",
+00006410: 206e 5475 706c 652e 6973 5f69 6e73 7461   nTuple.is_insta
+00006420: 6e63 6528 7329 290d 0a23 2070 7269 6e74  nce(s))..# print
+00006430: 2822 5368 6f75 6c64 2062 6520 6661 6c73  ("Should be fals
+00006440: 653a 222c 206e 5475 706c 652e 6973 5f73  e:", nTuple.is_s
+00006450: 7562 636c 6173 7328 7329 290d 0a0d 0a23  ubclass(s))....#
+00006460: 2070 7269 6e74 2822 5368 6f75 6c64 2062   print("Should b
+00006470: 6520 7472 7565 3a22 2c20 6e54 7570 6c65  e true:", nTuple
+00006480: 2e69 735f 7375 6263 6c61 7373 2853 2929  .is_subclass(S))
+00006490: 0d0a 2320 7072 696e 7428 2253 686f 756c  ..# print("Shoul
+000064a0: 6420 6265 2066 616c 7365 3a22 2c20 6e54  d be false:", nT
+000064b0: 7570 6c65 2e69 735f 696e 7374 616e 6365  uple.is_instance
+000064c0: 2853 2929 0d0a 0d0a 2320 2d2d 2d2d 2d2d  (S))....# ------
+000064d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000064e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000064f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00006500: 2d2d 2d2d 2d2d 2d2d 2d0d 0a0d 0a23 204e  ---------....# N
+00006510: 4f54 453a 2069 2063 6f75 646c 2069 6e20  OTE: i coudl in 
+00006520: 7468 656f 7279 2067 656e 6572 6174 6520  theory generate 
+00006530: 7371 6c61 6c63 6865 6d79 2074 6162 6c65  sqlalchemy table
+00006540: 730d 0a0d 0a23 2062 6173 6564 206f 6e20  s....# based on 
+00006550: 7468 6520 7374 7275 6374 2064 6566 696e  the struct defin
+00006560: 6974 696f 6e0d 0a0d 0a23 206a 6f69 6e73  ition....# joins
+00006570: 2070 7265 7375 6d61 626c 7920 6172 6520   presumably are 
+00006580: 7468 656e 206d 616e 7561 6c3f 0d0a 0d0a  then manual?....
+00006590: 2320 7769 7468 2073 7461 6e64 6172 6469  # with standardi
+000065a0: 7365 6420 6567 2e20 7065 7273 6973 7420  sed eg. persist 
+000065b0: 6d65 7468 6f64 7320 6261 7365 6420 6f6e  methods based on
+000065c0: 2075 6e69 7175 6520 6b65 7973 2c20 6574   unique keys, et
+000065d0: 632e 0d0a 0d0a 2320 6275 7420 616e 7920  c.....# but any 
+000065e0: 706f 696e 743f 0d0a 0d0a 2320 6861 6e64  point?....# hand
+000065f0: 6c65 2064 6174 6573 2061 7320 7469 6e79  le dates as tiny
+00006600: 2073 7472 7563 7473 3f0d 0a23 2073 7572   structs?..# sur
+00006610: 656c 7920 7072 6f68 6962 6974 6976 656c  ely prohibitivel
+00006620: 7920 6578 7065 6e73 6976 650d 0a0d 0a23  y expensive....#
+00006630: 2074 7570 6c65 7320 7065 7268 6170 7320   tuples perhaps 
+00006640: 6e6f 743f 2062 7574 2073 7469 6c6c 2061  not? but still a
+00006650: 2062 6974 2c20 616e 6420 616c 6c20 7468   bit, and all th
+00006660: 6520 6461 7465 7469 6d65 206d 6574 686f  e datetime metho
+00006670: 6473 2073 7564 6465 6e6c 7920 776f 756c  ds suddenly woul
+00006680: 646e 2774 2077 6f72 6b2e 0d0a 0d0a 2320  dn't work.....# 
+00006690: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000066a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000066b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000066c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0d  ---------------.
+000066d0: 0a                                       .
```

### Comparing `xtuples-0.0.1/.gitignore` & `xtuples-0.0.2/.gitignore`

 * *Files identical despite different names*

### Comparing `xtuples-0.0.1/LICENSE.txt` & `xtuples-0.0.2/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `xtuples-0.0.1/pyproject.toml` & `xtuples-0.0.2/pyproject.toml`

 * *Files 4% similar despite different names*

```diff
@@ -19,17 +19,17 @@
   "Programming Language :: Python :: 3.9",
   "Programming Language :: Python :: Implementation :: CPython",
   "Programming Language :: Python :: Implementation :: PyPy",
 ]
 dependencies = []
 
 [project.urls]
-Documentation = "https://github.com/unknown/xtuples#readme"
-Issues = "https://github.com/unknown/xtuples/issues"
-Source = "https://github.com/unknown/xtuples"
+Documentation = "https://github.com/tomjrwilliams/xtuples#readme"
+Issues = "https://github.com/tomjrwilliams/xtuples/issues"
+Source = "https://github.com/tomjrwilliams/xtuples"
 
 [tool.hatch.version]
 path = "src/xtuples/__about__.py"
 
 [tool.hatch.envs.default]
 dependencies = [
   "coverage[toml]>=6.5",
```

### Comparing `xtuples-0.0.1/PKG-INFO` & `xtuples-0.0.2/PKG-INFO`

 * *Files 14% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 Metadata-Version: 2.1
 Name: xtuples
-Version: 0.0.1
-Project-URL: Documentation, https://github.com/unknown/xtuples#readme
-Project-URL: Issues, https://github.com/unknown/xtuples/issues
-Project-URL: Source, https://github.com/unknown/xtuples
+Version: 0.0.2
+Project-URL: Documentation, https://github.com/tomjrwilliams/xtuples#readme
+Project-URL: Issues, https://github.com/tomjrwilliams/xtuples/issues
+Project-URL: Source, https://github.com/tomjrwilliams/xtuples
 Author-email: Tom Williams <tomjrw@gmail.com>
 License-Expression: MIT
 License-File: LICENSE.txt
 Classifier: Development Status :: 4 - Beta
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: Implementation :: CPython
```

