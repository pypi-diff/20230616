# Comparing `tmp/pdf2txt-0.7.5-py3-none-any.whl.zip` & `tmp/pdf2txt-0.7.6-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,34 +1,34 @@
-Zip file size: 80109 bytes, number of entries: 32
+Zip file size: 80133 bytes, number of entries: 32
 -rw-r--r--  2.0 unx     9485 b- defN 21-Jun-16 15:00 pdf2txt/__init__.py
 -rw-r--r--  2.0 unx    31472 b- defN 21-Jul-21 22:41 pdf2txt/charts.py
 -rw-r--r--  2.0 unx     1176 b- defN 20-Dec-25 13:29 pdf2txt/exceptions.py
 -rw-r--r--  2.0 unx    11551 b- defN 21-Jan-05 08:39 pdf2txt/imutils.py
 -rw-r--r--  2.0 unx     1181 b- defN 21-Jun-06 23:05 pdf2txt/settings.py
 -rw-r--r--  2.0 unx    49647 b- defN 21-Jul-21 23:39 pdf2txt/table.py
 -rw-r--r--  2.0 unx     7686 b- defN 21-Jul-08 21:55 pdf2txt/table_ml.py
 -rw-r--r--  2.0 unx    40962 b- defN 23-Jun-15 09:28 pdf2txt/utils.py
--rw-r--r--  2.0 unx       20 b- defN 23-Jun-15 13:19 pdf2txt/version.py
+-rw-r--r--  2.0 unx       20 b- defN 23-Jun-16 14:02 pdf2txt/version.py
 -rw-r--r--  2.0 unx     9007 b- defN 20-Dec-27 11:51 pdf2txt/visualize.py
 -rw-r--r--  2.0 unx       88 b- defN 21-Jun-16 14:57 pdf2txt/core/__init__.py
 -rw-r--r--  2.0 unx     3443 b- defN 21-Jun-24 22:09 pdf2txt/core/component.py
 -rw-r--r--  2.0 unx     5941 b- defN 23-Jun-15 13:17 pdf2txt/core/document.py
 -rw-r--r--  2.0 unx    37088 b- defN 20-Dec-26 12:05 pdf2txt/core/filtering.py
 -rw-r--r--  2.0 unx     1959 b- defN 23-Jun-15 13:16 pdf2txt/core/indexer.py
--rw-r--r--  2.0 unx    31661 b- defN 23-Jun-15 13:16 pdf2txt/core/page.py
--rw-r--r--  2.0 unx    25346 b- defN 23-Jun-15 13:17 pdf2txt/core/paragraph.py
+-rw-r--r--  2.0 unx    31604 b- defN 23-Jun-16 11:37 pdf2txt/core/page.py
+-rw-r--r--  2.0 unx    25431 b- defN 23-Jun-16 13:01 pdf2txt/core/paragraph.py
 -rw-r--r--  2.0 unx     3014 b- defN 21-Jan-27 15:01 pdf2txt/core/search.py
 -rw-r--r--  2.0 unx     9250 b- defN 21-Jul-25 15:44 pdf2txt/core/token.py
 -rw-r--r--  2.0 unx     1734 b- defN 21-Jun-12 15:30 pdf2txt/core/tree.py
 -rw-r--r--  2.0 unx    10182 b- defN 21-Jul-25 15:39 pdf2txt/core/word.py
 -rw-r--r--  2.0 unx        0 b- defN 21-Jun-23 11:24 pdf2txt/doc_analyzer/__init__.py
 -rw-r--r--  2.0 unx     5657 b- defN 21-Jun-07 23:33 pdf2txt/doc_analyzer/connected_components.py
 -rw-r--r--  2.0 unx     2591 b- defN 23-Jun-14 22:58 pdf2txt/doc_analyzer/image_analyzer.py
 -rw-r--r--  2.0 unx     9439 b- defN 21-Jul-27 20:30 pdf2txt/doc_analyzer/imageprocessor.py
 -rw-r--r--  2.0 unx     3282 b- defN 21-Jun-26 22:15 pdf2txt/doc_analyzer/img.py
 -rw-r--r--  2.0 unx     9037 b- defN 21-Jul-30 12:55 pdf2txt/doc_analyzer/region.py
 -rw-r--r--  2.0 unx     4886 b- defN 21-Jun-12 14:28 pdf2txt/doc_analyzer/text_segmenter.py
--rw-r--r--  2.0 unx      636 b- defN 23-Jun-15 13:20 pdf2txt-0.7.5.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-15 13:20 pdf2txt-0.7.5.dist-info/WHEEL
--rw-r--r--  2.0 unx        8 b- defN 23-Jun-15 13:20 pdf2txt-0.7.5.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2572 b- defN 23-Jun-15 13:20 pdf2txt-0.7.5.dist-info/RECORD
-32 files, 330093 bytes uncompressed, 76041 bytes compressed:  77.0%
+-rw-r--r--  2.0 unx      636 b- defN 23-Jun-16 14:04 pdf2txt-0.7.6.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-16 14:04 pdf2txt-0.7.6.dist-info/WHEEL
+-rw-r--r--  2.0 unx        8 b- defN 23-Jun-16 14:04 pdf2txt-0.7.6.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2572 b- defN 23-Jun-16 14:04 pdf2txt-0.7.6.dist-info/RECORD
+32 files, 330121 bytes uncompressed, 76065 bytes compressed:  77.0%
```

## zipnote {}

```diff
@@ -78,20 +78,20 @@
 
 Filename: pdf2txt/doc_analyzer/region.py
 Comment: 
 
 Filename: pdf2txt/doc_analyzer/text_segmenter.py
 Comment: 
 
-Filename: pdf2txt-0.7.5.dist-info/METADATA
+Filename: pdf2txt-0.7.6.dist-info/METADATA
 Comment: 
 
-Filename: pdf2txt-0.7.5.dist-info/WHEEL
+Filename: pdf2txt-0.7.6.dist-info/WHEEL
 Comment: 
 
-Filename: pdf2txt-0.7.5.dist-info/top_level.txt
+Filename: pdf2txt-0.7.6.dist-info/top_level.txt
 Comment: 
 
-Filename: pdf2txt-0.7.5.dist-info/RECORD
+Filename: pdf2txt-0.7.6.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pdf2txt/version.py

```diff
@@ -1 +1 @@
-__version__="0.7.5"
+__version__="0.7.6"
```

## pdf2txt/core/page.py

```diff
@@ -188,15 +188,15 @@
                     elif isinstance(paragraph, Table):
                         if doc_paragraph is not None:
                             doc_paragraph.add_content(paragraph, ContentType.Table)
                         elif last_paragraph is not None:
                             last_paragraph.add_content(paragraph, ContentType.Table)
                         continue
                     for line in paragraph:
-                        if self.is_title(line, titles, title_font):
+                        if self.is_title(line, title_font, self.font_statistics):
 #                            print(line)
                             if last_paragraph is not None and last_paragraph.title==line:
                                 continue
 
                             doc_paragraph = self.document._paragraphs.create_paragraph()
                             doc_paragraph.title=line
                         else:
@@ -382,45 +382,45 @@
                 self.title.append(l)
                 region.text_lines.remove(l)
             elif largest_only and l[0].font_size == font_stat["largest"]:
                 self.title.append(l)
                 region.text_lines.remove(l)
         return False
 
-    def is_title(self, line, titles, title_font={}):
+    def is_title(self, line, title_font, font_stat={}):
 
-        return line in titles
-        # if len(line)>1:
-        #     return False
-        #
-        # if line[0].font_size >= font_stat["second_largest"]:
-        #     title_font['font']=line[0].font
-        #     return True
-        #
-        # if title_font:
-        #     if line[0].font == title_font['font']:
-        #         return True
-        #     else:
-        #         return False
-        #
-        # if len(line)==1 and utils.get_type(line[0].Text)=="Numeric":
-        #     return False
-        #
-        # if len(font_stat["size_by_frequency"])==1 and line[0].is_bold:
-        #     title_font['font']=line[0].font
-        #     return True
-        #
-        # if len(font_stat["size_by_frequency"])==1 and len(font_stat["name_by_frequency"])==1:
-        #     return False
-        #
-        # if id==0:
-        #     title_font['font'] = line[0].font
-        #     return True
-        #
-        # return False
+#        return line in titles
+        if len(line)>1 or not line[0].Text.istitle():
+            return False
+
+        if line[0].font_size >= font_stat["second_largest"]:
+            title_font['font']=line[0].font
+            return True
+
+        if title_font:
+            if line[0].font == title_font['font']:
+                return True
+            else:
+                return False
+
+        if len(line)==1 and utils.get_type(line[0].Text)=="Numeric":
+            return False
+
+        if len(font_stat["size_by_frequency"])==1 and line[0].is_bold:
+            title_font['font']=line[0].font
+            return True
+
+        if len(font_stat["size_by_frequency"])==1 and len(font_stat["name_by_frequency"])==1:
+            return False
+
+        if id==0:
+            title_font['font'] = line[0].font
+            return True
+
+        return False
 
     def _has_match(self, sorted_list, item):
         #       show_rects_and_wait(sorted_list, self.page_image)
         i = 0
         while i < len(sorted_list) and not isclose(sorted_list[i].top, item.top, abs_tol=item.height / 3):
             i += 1
```

## pdf2txt/core/paragraph.py

```diff
@@ -17,22 +17,22 @@
 import pandas as pd
 
 
 def guess_titles(raw_text, font_stats):
 
     if len(raw_text)<2:
         return([])
-    coordinates = pd.DataFrame([(c[0].font_name, c[0].font_size, c[0].Text.isupper(), c[0].is_bold) for c in raw_text])
+    coordinates = pd.DataFrame([(c[0].font_name, c[0].font_size, c[0].Text.isupper(), c[0].is_bold, sum([len(i.Text) for i in c]), sum([len(i.Text.split(' ')) for i in c])) for c in raw_text])
 
     distance_matrix = gower_matrix(coordinates)
 
     clustering = AgglomerativeClustering(
         n_clusters=None,
         linkage="complete",
-        distance_threshold=0.3)
+        distance_threshold=0.5)
     clustering.fit(distance_matrix)
     # initialize our list of sorted clusters
     titles = []
 
     # loop over all clusters
     for l in np.unique(clustering.labels_):
         # extract the indexes for the coordinates belonging to the # current cluster
@@ -275,15 +275,15 @@
                 return_str+="\n<START GRAPH DATA>\n"
                 return_str+='\n'+chart_data["dataframe"].to_string(index=False)
                 return_str+="\n<END GRAPH DATA>\n"
             elif content["type"]==ContentType.Table:
                 return_str+="\n<START TABLE>\n"
                 return_str+='\n'+content["content"].to_string(index=False)
                 return_str+="\n<END TABLE>\n"
-        return return_str
+        return join_lines(return_str)
 
 
     def __eq__(self, other: object) -> bool:
         """
         Returns True if the two _paragraphs have the same unique name and are from the
         same document
         """
```

## Comparing `pdf2txt-0.7.5.dist-info/METADATA` & `pdf2txt-0.7.6.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pdf2txt
-Version: 0.7.5
+Version: 0.7.6
 Summary: A better pdf to text extraction toolkit
 Home-page: 
 Author: Mohamed Ben Haddou
 Author-email: mbenhaddou@mentis.io
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Operating System :: OS Independent
 Classifier: Development Status :: 4 - Beta
```

## Comparing `pdf2txt-0.7.5.dist-info/RECORD` & `pdf2txt-0.7.6.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -2,31 +2,31 @@
 pdf2txt/charts.py,sha256=pYE1YzTj4fm1EvYWyKkfSf1FrUktzYsO5fqtYg62dFg,31472
 pdf2txt/exceptions.py,sha256=FdlQhYqQOOO-nfgr19M7bd2J3_1Z4PfT4KKBHasKlWY,1176
 pdf2txt/imutils.py,sha256=iS3kInk7I6zI7VCuc-AB0Jm9gqAK852C6i2AFnlefS4,11551
 pdf2txt/settings.py,sha256=zVPExuYL1gVmkF8ZNlNv5ijecT4SadcBaZ2YC454Wsg,1181
 pdf2txt/table.py,sha256=AG1N5iRXyAuWwh-WmdK8obBjzLWMIMH99xi4NdwgAfU,49647
 pdf2txt/table_ml.py,sha256=WdLASpiEU6kNBynxdXSzki_2C94JH6Lkkxa86ZlVE_o,7686
 pdf2txt/utils.py,sha256=RNJlMzNGtn6UgsPUjy4V4YyX6k_vZPr0KVyBb4kEIzA,40962
-pdf2txt/version.py,sha256=esY7Vni_PP66yg7F-m6RpHtQxaa2lJxJA_B2p2sNChU,20
+pdf2txt/version.py,sha256=1ei-XbHDXH5pQ7D9myVOaBUX5dIddMfGkgveaqqchf0,20
 pdf2txt/visualize.py,sha256=9Xy6lhYFoKrfHBKWz-Lfthrrt9L6NEJeJwRI8l4o20c,9007
 pdf2txt/core/__init__.py,sha256=xcuHhefCYiB4JoClaKotP8SZymsloXGS4hMqCLGpbuE,88
 pdf2txt/core/component.py,sha256=TX-i5mSj1Fu-2Hnl0wHHLdmebV72GUIQHxoRfdC1oHU,3443
 pdf2txt/core/document.py,sha256=SubXgC-q0to4ItaS3c80BL2JmlBuX_aIIoC2fgnlvUY,5941
 pdf2txt/core/filtering.py,sha256=GrYFz1P0XHcLW6pwDw3ksIOfa4oWNTixzn4KXLXHVdc,37088
 pdf2txt/core/indexer.py,sha256=JGBah7MRQunG0uojRq6QmIty5djmrYTS0CHjrbli_jg,1959
-pdf2txt/core/page.py,sha256=waa0DrtyfUwE0_j10gooRHKbntVTVSh4g0lti6fW6mw,31661
-pdf2txt/core/paragraph.py,sha256=BnOFLvxjCeiyeeSZQh3nQE20d0A3mCiHJdCEyJRyODo,25346
+pdf2txt/core/page.py,sha256=aUmhv6yVcrnvG4IPysLdrrbi8sw85bpfXpSLX52Vf98,31604
+pdf2txt/core/paragraph.py,sha256=ZJmaXtjQFoDsOq0YyXiykEMCbV-Dii3Ox3ewA1BG3rc,25431
 pdf2txt/core/search.py,sha256=rninlohCoJ_mrd16z_jlDlylsmIi-QOzhgp0vR-Xs0Y,3014
 pdf2txt/core/token.py,sha256=mUq5yb6Gp32Q5brNwcODcjUBpHnpamCzYvFFiZJ3Yxs,9250
 pdf2txt/core/tree.py,sha256=tB0RrUvx6JYYgvAp5iI5MUeoy6Fbx85crCzMt3vzhDM,1734
 pdf2txt/core/word.py,sha256=cAwS9TIglf90iYrANw27d3MJ-k517PKrYU3LbaRxp4c,10182
 pdf2txt/doc_analyzer/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pdf2txt/doc_analyzer/connected_components.py,sha256=CW6b6SClEIDNhe-g82lTxZQG2MKxwkHhYJcZ_B4xVyk,5657
 pdf2txt/doc_analyzer/image_analyzer.py,sha256=cj3fzxQ46mtRAiQEiimmd44PA9EieOaRjpdIokqxKec,2591
 pdf2txt/doc_analyzer/imageprocessor.py,sha256=E5t6sZV5hlETEj3lrDLn0NeHQMRPXynRTI1NEOkS-Sc,9439
 pdf2txt/doc_analyzer/img.py,sha256=Dh_ierwJoCPfVnaU37Q_xOgD_IIThRAMouAlFs1oAR4,3282
 pdf2txt/doc_analyzer/region.py,sha256=3r9ZmGukdY5E1_lN9yI6W3Qk8_dqn42KgoVQksIAknI,9037
 pdf2txt/doc_analyzer/text_segmenter.py,sha256=BnnMWnPD728DjXF4XM6VrtdlZCUsM5PZmGs-q07KVTA,4886
-pdf2txt-0.7.5.dist-info/METADATA,sha256=4MUilO3Ffqptji67xe-FBOMPA7U0CyRVq3MZbKxOV_c,636
-pdf2txt-0.7.5.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-pdf2txt-0.7.5.dist-info/top_level.txt,sha256=6vpwCaFzKdWBZUIrlN7eiFUlPSira41-Yax9MzQLOnw,8
-pdf2txt-0.7.5.dist-info/RECORD,,
+pdf2txt-0.7.6.dist-info/METADATA,sha256=Zpv3XkFcUnVbcWNcvYuUw0CemueN-AIwWWBVPhZOlsI,636
+pdf2txt-0.7.6.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+pdf2txt-0.7.6.dist-info/top_level.txt,sha256=6vpwCaFzKdWBZUIrlN7eiFUlPSira41-Yax9MzQLOnw,8
+pdf2txt-0.7.6.dist-info/RECORD,,
```

